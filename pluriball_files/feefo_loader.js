/*! For license information please see feefo_loader.js.LICENSE.txt */
(()=>{var e,t,n={671:(e,t,n)=>{"use strict";n.d(t,{C:()=>G,D:()=>X,K:()=>J,L:()=>ee,N:()=>P,S:()=>c,T:()=>re,a:()=>K,b:()=>h,c:()=>o,e:()=>ne,f:()=>l,g:()=>Y,h:()=>d,i:()=>u,j:()=>p,k:()=>m,l:()=>v,m:()=>f,n:()=>g,o:()=>_,p:()=>W,u:()=>s});n(199);var r=n(396),a=n(400);const s=e=>{const{width:t}=function(){const[e,t]=(0,r.eJ)({width:void 0,height:void 0});return(0,r.d4)((()=>{function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),e}(),[n,a]=(0,r.eJ)();return(0,r.d4)((()=>{t&&(t>e&&n?a(!1):t<e&&!n&&a(!0))}),[t,e,n]),n};function i(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function o(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=i(e))&&(r&&(r+=" "),r+=t);return r}function l({title:e,titleId:t,desc:n,descId:r,...s}){return(0,a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 36 36",role:"img","aria-labelledby":t,"aria-describedby":r,...s},n?(0,a.h)("desc",{id:r},n):null,e?(0,a.h)("title",{id:t},e):null,(0,a.h)("path",{fill:"currentColor",d:"M6 7.5h19.5V18h3V7.5c0-1.654-1.346-3-3-3H6c-1.654 0-3 1.346-3 3v18c0 1.654 1.346 3 3 3h12v-3H6v-18Z"}),(0,a.h)("path",{fill:"currentColor",d:"m12 16.5-4.5 6H24l-6-9-4.5 6-1.5-3Z"}),(0,a.h)("path",{fill:"currentColor",d:"M28.5 21h-3v4.5H21v3h4.5V33h3v-4.5H33v-3h-4.5V21Z"}))}function c({title:e,titleId:t,desc:n,descId:r,...s}){return(0,a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 26 26",role:"img","aria-labelledby":t,"aria-describedby":r,...s},n?(0,a.h)("desc",{id:r},n):null,e?(0,a.h)("title",{id:t},e):null,(0,a.h)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.9 11.485 4.414 3 3 4.414l8.485 8.486L3 21.385l1.414 1.414 8.486-8.485 8.485 8.485 1.414-1.414-8.485-8.485 8.485-8.486L21.385 3 12.9 11.485Z",clipRule:"evenodd"}))}function d({title:e,titleId:t,desc:n,descId:r,...s}){return(0,a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",role:"img","aria-labelledby":t,"aria-describedby":r,...s},n?(0,a.h)("desc",{id:r},n):null,e?(0,a.h)("title",{id:t},e):null,(0,a.h)("path",{fill:"#000",d:"M7 7h10v2H7V7Zm0 4h7v2H7v-2Z"}),(0,a.h)("path",{fill:"#000",d:"M20 2H4c-1.103 0-2 .897-2 2v18l5.333-4H20c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2Zm0 14H6.667L4 18V4h16v12Z"}))}function u({title:e,titleId:t,desc:n,descId:r,...s}){return(0,a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 20 16",role:"img","aria-labelledby":t,"aria-describedby":r,...s},n?(0,a.h)("desc",{id:r},n):null,e?(0,a.h)("title",{id:t},e):null,(0,a.h)("path",{fill:"#4A5057",d:"M18 0H2C.897 0 0 .897 0 2v12c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V2c0-1.103-.897-2-2-2Zm0 2v.511l-8 6.223-8-6.222V2h16ZM2 14V5.044l7.386 5.745a.994.994 0 0 0 1.228 0L18 5.044 18.002 14H2Z"}))}function h({title:e,titleId:t,desc:n,descId:r,...s}){return(0,a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 80 19",role:"img","aria-labelledby":t,"aria-describedby":r,...s},n?(0,a.h)("desc",{id:r},n):null,e?(0,a.h)("title",{id:t},e):null,(0,a.h)("path",{fill:"#484545",fillRule:"evenodd",d:"M21.5 13.21v-.436c0-5.123-2.987-8.274-7.352-8.274-1.864 0-3.676.768-5.055 2.152A7.064 7.064 0 0 0 7 11.699c0 1.946.69 3.689 2.016 5.097C10.421 18.283 12.106 19 14.198 19c3.065 0 5.337-1.46 6.663-4.33H16.42c-.613.538-1.277.768-2.094.768-1.761 0-2.808-.768-3.165-2.228H21.5Zm-4.06-2.87h-6.407c.28-1.306 1.482-2.178 3.165-2.178 1.609 0 2.758.77 3.243 2.178ZM36.5 13.21v-.436c0-5.123-2.987-8.274-7.352-8.274-1.864 0-3.677.768-5.055 2.152A7.063 7.063 0 0 0 22 11.699c0 1.946.69 3.689 2.016 5.097C25.421 18.283 27.106 19 29.2 19c3.064 0 5.336-1.46 6.663-4.33h-4.443c-.612.538-1.276.768-2.093.768-1.76 0-2.808-.768-3.165-2.228H36.5Zm-4.06-2.87h-6.407c.281-1.306 1.481-2.178 3.166-2.178 1.608 0 2.756.77 3.242 2.178Z",clipRule:"evenodd"}),(0,a.h)("mask",{id:"feefo_svg__a",width:80,height:19,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"luminance"}},(0,a.h)("path",{fill:"#fff",fillRule:"evenodd",d:"M0 .085h79.78v18.838H0V.085Z",clipRule:"evenodd"})),(0,a.h)("g",{mask:"url(#feefo_svg__a)"},(0,a.h)("path",{fill:"#484545",fillRule:"evenodd",d:"M1.46 7.921v10.645H5.36V7.92h1.586V4.857H5.36v-.331c0-1.251.277-1.66 1.485-1.66h.1V.11c-.226 0-.428-.025-.629-.025-3.321 0-4.883 1.328-4.883 4.263 0 .153.026.332.026.51H0v3.064h1.46Z",clipRule:"evenodd"})),(0,a.h)("mask",{id:"feefo_svg__b",width:80,height:19,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"luminance"}},(0,a.h)("path",{fill:"#fff",fillRule:"evenodd",d:"M0 .085h79.78v18.838H0V.085Z",clipRule:"evenodd"})),(0,a.h)("g",{mask:"url(#feefo_svg__b)"},(0,a.h)("path",{fill:"#484545",fillRule:"evenodd",d:"M37.949 7.921v10.645h3.901V7.92h1.585V4.858H41.85v-.332c0-1.25.277-1.66 1.485-1.66h.1V.11c-.226 0-.428-.024-.63-.024-3.321 0-4.881 1.327-4.881 4.262 0 .154.025.332.025.51h-1.46v3.064h1.46Z",clipRule:"evenodd"})),(0,a.h)("path",{fill:"#484545",fillRule:"evenodd",d:"M58 11.66c0-1.874-.792-3.773-2.25-5.158C54.369 5.193 52.656 4.5 50.66 4.5c-1.866 0-3.682.77-5.064 2.156A7.077 7.077 0 0 0 43.5 11.71c0 1.925.69 3.697 2.02 5.082C46.927 18.282 48.615 19 50.712 19c2.071 0 3.81-.744 5.218-2.156C57.31 15.458 58 13.74 58 11.66Zm-4.015.102c0 1.874-1.458 3.388-3.247 3.388-1.765 0-3.249-1.514-3.249-3.388 0-1.898 1.459-3.413 3.249-3.413s3.247 1.515 3.247 3.413Z",clipRule:"evenodd"}),(0,a.h)("path",{fill:"#FD0",fillRule:"evenodd",d:"M64.025 9.269c-1.98-.119-3.57-1.677-3.68-3.62H69v-.093C69 2.222 66.828 0 63.825 0 60.653 0 58.5 2.278 58.5 5.24c0 2.798 2.228 5.26 5.269 5.26 2.21 0 3.966-1.203 4.911-3.426h-.875a3.927 3.927 0 0 1-3.78 2.195ZM74.474 9.269c1.98-.125 3.571-1.677 3.682-3.62H69.5v-.093C69.5 2.222 71.672 0 74.675 0 77.847 0 80 2.278 80 5.24c0 2.798-2.228 5.26-5.27 5.26-2.209 0-3.964-1.203-4.909-3.426h.875a3.927 3.927 0 0 0 3.778 2.195Z",clipRule:"evenodd"}))}function p({title:e,titleId:t,desc:n,descId:r,...s}){return(0,a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 40 40",role:"img","aria-labelledby":t,"aria-describedby":r,...s},n?(0,a.h)("desc",{id:r},n):null,e?(0,a.h)("title",{id:t},e):null,(0,a.h)("path",{fill:"currentColor",d:"M13.357 20.225c.123 3.436 2.981 6.295 6.418 6.418l-6.418-6.418Z"}),(0,a.h)("path",{fill:"currentColor",d:"M6.667 33.333h19.798L23.132 30H6.667V13.535L3.573 10.44c-.157.39-.238.805-.24 1.225V30a3.337 3.337 0 0 0 3.334 3.333Zm26.666-25h-4.31l-4.511-4.512a1.66 1.66 0 0 0-1.179-.488h-6.666a1.662 1.662 0 0 0-1.179.488l-4.511 4.512h-.287L6.178 3.821 3.822 6.178l30 30 2.356-2.357-1.043-1.043A3.3 3.3 0 0 0 36.667 30V11.666a3.337 3.337 0 0 0-3.334-3.333ZM23.198 20.841l-4.04-4.041c.272-.077.552-.134.842-.134 1.775 0 3.333 1.559 3.333 3.334 0 .29-.055.57-.135.841Zm2.504 2.502A6.468 6.468 0 0 0 26.667 20c0-3.614-3.054-6.667-6.667-6.667-1.215 0-2.353.367-3.345.965l-3.465-3.465 4.167-4.167h5.286l4.512 4.512a1.66 1.66 0 0 0 1.178.488l5-.001V30h-.976l-6.655-6.657Z"}))}function m({title:e,titleId:t,desc:n,descId:r,...s}){return(0,a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 40 40",role:"img","aria-labelledby":t,"aria-describedby":r,...s},n?(0,a.h)("desc",{id:r},n):null,e?(0,a.h)("title",{id:t},e):null,(0,a.h)("path",{fill:"currentColor",d:"M20 13.333c-3.613 0-6.667 3.053-6.667 6.667 0 3.613 3.054 6.666 6.667 6.666s6.667-3.053 6.667-6.666c0-3.614-3.054-6.667-6.667-6.667Zm0 10c-1.775 0-3.333-1.558-3.333-3.333 0-1.775 1.558-3.334 3.333-3.334 1.775 0 3.333 1.559 3.333 3.334 0 1.775-1.558 3.333-3.333 3.333Z"}),(0,a.h)("path",{fill:"currentColor",d:"M33.333 8.333h-4.31l-4.511-4.512a1.66 1.66 0 0 0-1.179-.488h-6.666a1.66 1.66 0 0 0-1.179.488l-4.511 4.512h-4.31a3.337 3.337 0 0 0-3.334 3.333V30a3.337 3.337 0 0 0 3.334 3.333h26.666A3.337 3.337 0 0 0 36.667 30V11.666a3.337 3.337 0 0 0-3.334-3.333ZM6.667 30V11.666h5a1.66 1.66 0 0 0 1.178-.488l4.512-4.512h5.286l4.512 4.512a1.659 1.659 0 0 0 1.178.488h5L33.337 30H6.667Z"}))}function v({title:e,titleId:t,desc:n,descId:r,...s}){return(0,a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 18 19",role:"img","aria-labelledby":t,"aria-describedby":r,...s},n?(0,a.h)("desc",{id:r},n):null,e?(0,a.h)("title",{id:t},e):null,(0,a.h)("path",{fill:"#4A5057",d:"M9 0a5 5 0 1 0 0 10A5 5 0 0 0 9 0Zm0 8a3 3 0 1 1 0-6 3 3 0 0 1 0 6Zm9 11v-1a7 7 0 0 0-7-7H7a7 7 0 0 0-7 7v1h2v-1a5 5 0 0 1 5-5h4a5 5 0 0 1 5 5v1h2Z"}))}function f({title:e,titleId:t,desc:n,descId:r,...s}){return(0,a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 44 44",role:"img","aria-labelledby":t,"aria-describedby":r,...s},n?(0,a.h)("desc",{id:r},n):null,e?(0,a.h)("title",{id:t},e):null,(0,a.h)("rect",{width:44,height:44,fill:"#9D9BFC",rx:22}),(0,a.h)("path",{fill:"#fff",d:"M35.674 25.967 37 30.197l-2.366.76c-.92.297-1.675.43-2.284.333-.6-.064-1.185-.315-1.79-.744-1.464 1.792-3.39 3.035-5.756 3.797-2.235.72-4.364.855-6.396.373-2.056-.438-3.852-1.436-5.37-2.927-1.55-1.481-2.647-3.364-3.357-5.628-.7-2.231-.877-4.41-.455-6.526.39-2.105 1.288-3.97 2.706-5.564 1.396-1.549 3.2-2.716 5.435-3.436 2.202-.709 4.341-.81 6.397-.373 2.032.482 3.829 1.48 5.379 2.96 1.517 1.492 2.647 3.364 3.347 5.595.877 2.797.906 5.427.108 7.957.239.07.512.019.808-.076l2.268-.73Zm-18.943 2.25c.891.996 1.896 1.662 3.091 2.01 1.162.36 2.374.3 3.655-.113a6.314 6.314 0 0 0 3.172-2.231l-.454-.294c-.367-.248-.713-.43-.996-.522a1.713 1.713 0 0 0-.97.02l-2.137.687-1.326-4.229 2.497-.804c.855-.275 1.587-.364 2.13-.246.544.118 1.14.403 1.788.854l.745.53a10.624 10.624 0 0 0-.497-3.432c-.46-1.465-1.13-2.68-2.022-3.675-.88-.963-1.919-1.619-3.08-1.978-1.195-.348-2.384-.332-3.633.07-1.282.413-2.295 1.105-3.04 2.078-.776.984-1.217 2.115-1.388 3.417-.16 1.334-.016 2.718.444 4.183.46 1.465 1.14 2.712 2.02 3.675Z"}))}function g({title:e,titleId:t,desc:n,descId:r,...s}){return(0,a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 12 12",role:"img","aria-labelledby":t,"aria-describedby":r,...s},n?(0,a.h)("desc",{id:r},n):null,e?(0,a.h)("title",{id:t},e):null,(0,a.h)("path",{fill:"#292F36",d:"m4.41 10.41 1.18 1.18L11.177 6 5.59.41 4.411 1.59l3.577 3.577H0v1.666h7.988l-3.577 3.578Z"}))}function _({title:e,titleId:t,desc:n,descId:r,...s}){return(0,a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 -960 960 960",role:"img","aria-labelledby":t,"aria-describedby":r,...s},n?(0,a.h)("desc",{id:r},n):null,e?(0,a.h)("title",{id:t},e):null,(0,a.h)("path",{fill:"currentColor",d:"M320-200v-560l440 280-440 280Z"}))}function b(e,t){for(var n in t)e[n]=t[n];return e}function w(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function y(e){this.props=e}(y.prototype=new a.wA).isPureReactComponent=!0,y.prototype.shouldComponentUpdate=function(e,t){return w(this.props,e)||w(this.state,t)};var x=a.YM.__b;a.YM.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),x&&x(e)};var E="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function P(e){function t(t){var n=b({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=E,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var C=a.YM.__e;a.YM.__e=function(e,t,n,r){if(e.then)for(var a,s=t;s=s.__;)if((a=s.__c)&&a.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),a.__c(e,t);C(e,t,n,r)};var k=a.YM.unmount;function N(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=b({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return N(e,t,n)}))),e}function A(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return A(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function O(){this.__u=0,this.t=null,this.__b=null}function S(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function R(){this.u=null,this.o=null}a.YM.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),k&&k(e)},(O.prototype=new a.wA).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var a=S(r.__v),s=!1,i=function(){s||(s=!0,n.__R=null,a?a(o):o())};n.__R=i;var o=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=A(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(i,i)},O.prototype.componentWillUnmount=function(){this.t=[]},O.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=N(this.__b,n,r.__O=r.__P)}this.__b=null}var s=t.__a&&(0,a.az)(a.HY,null,e.fallback);return s&&(s.__u&=-33),[(0,a.az)(a.HY,null,t.__a?null:e.children),s]};var T=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(R.prototype=new a.wA).__a=function(e){var t=this,n=S(t.__v),r=t.o.get(e);return r[0]++,function(a){var s=function(){t.props.revealOrder?(r.push(a),T(t,e,r)):a()};n?n(s):s()}},R.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,a.bR)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},R.prototype.componentDidUpdate=R.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){T(e,n,t)}))};var L="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,I=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,M=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Z=/[A-Z0-9]/g,j="undefined"!=typeof document,B=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};a.wA.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(a.wA.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var H=a.YM.event;function V(){}function F(){return this.cancelBubble}function D(){return this.defaultPrevented}a.YM.event=function(e){return H&&(e=H(e)),e.persist=V,e.isPropagationStopped=F,e.isDefaultPrevented=D,e.nativeEvent=e};var z={enumerable:!1,configurable:!0,get:function(){return this.class}},U=a.YM.vnode;a.YM.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,r={};for(var s in t){var i=t[s];if(!("value"===s&&"defaultValue"in t&&null==i||j&&"children"===s&&"noscript"===n||"class"===s||"className"===s)){var o=s.toLowerCase();"defaultValue"===s&&"value"in t&&null==t.value?s="value":"download"===s&&!0===i?i="":"ondoubleclick"===o?s="ondblclick":"onchange"!==o||"input"!==n&&"textarea"!==n||B(t.type)?"onfocus"===o?s="onfocusin":"onblur"===o?s="onfocusout":M.test(s)?s=o:-1===n.indexOf("-")&&I.test(s)?s=s.replace(Z,"-$&").toLowerCase():null===i&&(i=void 0):o=s="oninput","oninput"===o&&r[s=o]&&(s="oninputCapture"),r[s]=i}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=(0,a.bR)(t.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==n&&null!=r.defaultValue&&(r.value=(0,a.bR)(t.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",z)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r}(e),e.$$typeof=L,U&&U(e)};var q=a.YM.__r;a.YM.__r=function(e){q&&q(e),e.__c};var $=a.YM.diffed;a.YM.diffed=function(e){$&&$(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value)};var W="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function Y(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const J={ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ENTER:"Enter",ESCAPE:"Escape",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",HOME:"Home",END:"End",TAB:"Tab"},G=({isRotated:e})=>(0,a.h)("svg",{className:"icon-wrapper",width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,a.h)("g",{className:e?"icon-wrapper-open":""},(0,a.h)("path",{d:"M10.293 0.29303L5.99997 4.58603L1.70697 0.29303L0.292969 1.70703L5.99997 7.41403L11.707 1.70703L10.293 0.29303Z",fill:"#0B06F9"})));class K{actions=new Map([]);constructor({onArrowUp:e,onArrowDown:t,onArrowLeft:n,onArrowRight:r,onEnter:a,onEscape:s,onPageUp:i,onPageDown:o,onEnd:l,onHome:c,onTab:d}){const u=(e,t)=>{t&&this.actions.set(e,t)};u(J.ARROW_UP,e),u(J.ARROW_DOWN,t),u(J.ARROW_LEFT,n),u(J.ARROW_RIGHT,r),u(J.ENTER,a),u(J.ESCAPE,s),u(J.PAGE_UP,i),u(J.PAGE_DOWN,o),u(J.HOME,c),u(J.END,l),u(J.TAB,d)}listen=e=>{this.actions.has(e.key)&&this.actions.get(e.key)(e)}}const Q=({name:e,selected:t=!1,onClick:n,isCurrentlyHovered:r=!1,id:s,testId:i})=>(0,a.h)("div",{...t?{"aria-selected":!0}:{},"data-cy":i,id:s,className:o("dropdown-option",{"dropdown-option-current":r}),onClick:n},(0,a.h)("span",null,e)),X=({options:e,onChange:t,defaultOption:n,label:s})=>{const[i,l]=(0,r.eJ)(!1),[c,d]=(0,r.eJ)(n?e.map((e=>e.value)).indexOf(n):0),[u,h]=(0,r.eJ)(c),p=(0,r.sO)(null);if(e.length<=0)return(0,a.h)(a.HY,null);const m=e=>{l(e)},v=(t,n=!0)=>{if(t.preventDefault(),!i)return void m(!0);const r=(t=>{const n=e.length;return t?c+1>=n?0:c+1:c-1<0?n-1:c-1})(n);d(r);const a=document.getElementById(`dropdown-option-${r}`);(e=>{if(e){if(!p.current)return!0;const t=e.offsetTop-p.current.scrollTop;return t<=p.current.clientHeight-e.clientHeight&&t>=0}return!1})(a)||a?.scrollIntoView({behavior:"smooth",block:"nearest"})},f=e=>v(e,!1),g=e=>v(e,!0),_=()=>{i?(m(!1),h(c),t(e[c])):m(!0)},b=()=>{m(!1),d(u)},w=()=>{d(0),p.current?.scrollTo({top:0,behavior:"smooth"})},y=()=>{d(e.length-1),p.current?.scrollTo({top:p.current.clientHeight,behavior:"smooth"})};return(0,a.h)(a.HY,null,(0,a.h)("div",{className:"dropdown-container"},(0,a.h)("label",{htmlFor:"id",className:"dropdown-label"},s,":"),(0,a.h)("div",{className:o("dropdown-combo",{"dropdown-open":i})},(0,a.h)("div",{"aria-controls":"dropdown-menu","aria-expanded":i,"aria-haspopup":"listbox","data-cy":"dropdown-menu",id:"sort",className:"dropdown-input",role:"combobox",tabIndex:0,onClick:()=>m(!i),onKeyDown:e=>{new K({onArrowUp:f,onArrowDown:g,onPageUp:f,onPageDown:g,onEnter:_,onEscape:b,onHome:w,onEnd:y,onTab:_}).listen(e)},onBlur:e=>{if("dropdown-menu"===e.relatedTarget?.id)return e.preventDefault(),void e.stopPropagation();m(!1)}},e[u].name,(0,a.h)(G,{isRotated:i})),(0,a.h)("div",{ref:p,className:"dropdown-menu",role:"listbox",id:"dropdown-menu","aria-labelledby":"dropdown-label",tabIndex:-1},e.map(((n,r)=>(0,a.h)(Q,{testId:`dropdown-option-${r}`,key:`sort-${n.name}`,id:`dropdown-option-${r}`,...n,selected:r===u,isCurrentlyHovered:r===c,onClick:n=>{n.stopPropagation(),(n=>{l(!1),d(n),h(n),t(e[n])})(r)}})))))))},ee=({title:e,primaryText:t,secondaryText:n,contentModeration:r})=>(0,a.h)("div",{className:"light-banner-container"},(0,a.h)("h2",{className:"light-banner-title"},e),(0,a.h)("p",{className:"light-banner-content"},t,n&&(0,a.h)(a.HY,null,(0,a.h)("br",null),(0,a.h)("br",null),n)),(0,a.h)("div",{className:"light-banner-moderation"},"* ",r.text," ",(0,a.h)("a",{target:"_blank",rel:"noreferrer",href:r.link},r.linkText))),te=()=>(0,a.h)("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,a.h)("g",{clipPath:"url(#clip0_634_182)"},(0,a.h)("rect",{width:"64",height:"64",rx:"32",fill:"#0B06F9"}),(0,a.h)("path",{d:"M32 8C23.1776 8 16 15.0094 16 23.625H22.4C22.4 18.4563 26.7072 14.25 32 14.25C37.2928 14.25 41.6 18.4563 41.6 23.625C41.6 26.9656 40.1472 28.2031 36.8608 30.6719C35.6384 31.5906 34.2592 32.6281 32.9376 33.9156C28.7392 38.0125 28.784 42.0531 28.8 42.375V48.625H35.2V42.3469C35.2 42.2719 35.2736 40.4688 37.4624 38.3344C38.4864 37.3344 39.6448 36.4656 40.7616 35.625C44.1536 33.075 48 30.1875 48 23.625C48 15.0094 40.8224 8 32 8ZM28.8 51.75H35.2V58H28.8V51.75Z",fill:"#4F4CFA"}),(0,a.h)("path",{d:"M24.8571 39.2936L25.7802 42.1985L24.1334 42.7218C23.4929 42.9254 22.9679 43.0167 22.5438 42.95C22.127 42.9062 21.7195 42.7335 21.2986 42.4391C20.2794 43.6696 18.9391 44.5236 17.2923 45.047C15.7369 45.5413 14.2555 45.6343 12.8408 45.3032C11.4105 45.0023 10.1601 44.3168 9.10432 43.2924C8.02562 42.2754 7.262 40.9819 6.76772 39.4265C6.28071 37.8941 6.15753 36.3971 6.4512 34.9439C6.722 33.4979 7.34722 32.2164 8.33415 31.1221C9.30547 30.0579 10.5615 29.2558 12.1169 28.7616C13.6494 28.2745 15.138 28.2044 16.5684 28.5053C17.9831 28.8364 19.2334 29.5219 20.3121 30.539C21.3679 31.5633 22.1544 32.8495 22.6414 34.382C23.252 36.3033 23.2722 38.1101 22.7164 39.848C22.8827 39.8959 23.073 39.8606 23.2789 39.7952L24.8571 39.2936ZM11.6739 40.839C12.2943 41.5232 12.9938 41.9809 13.8253 42.2202C14.634 42.4669 15.4771 42.4256 16.3691 42.1421C17.284 41.8514 18.0046 41.3454 18.5767 40.6096L18.2607 40.4078C18.005 40.2372 17.7639 40.1124 17.5674 40.0489C17.3481 39.9927 17.1205 39.9895 16.8917 40.0622L15.405 40.5346L14.4819 37.6298L16.2202 37.0774C16.8149 36.8884 17.3243 36.8272 17.7027 36.9084C18.081 36.9897 18.4957 37.1852 18.9468 37.4952L19.4654 37.8592C19.4833 37.1232 19.3807 36.3248 19.119 35.5014C18.7992 34.495 18.3327 33.6611 17.7124 32.9768C17.0993 32.3155 16.3769 31.8651 15.5682 31.6184C14.7367 31.379 13.9092 31.3902 13.04 31.6664C12.148 31.9499 11.443 32.4257 10.9251 33.094C10.3843 33.7695 10.0773 34.547 9.95849 35.441C9.84693 36.3578 9.94743 37.308 10.2673 38.3144C10.5871 39.3208 11.0608 40.1776 11.6739 40.839ZM39.7449 34.7387C39.9195 34.7335 40.1555 34.6837 40.43 34.5965L42.054 34.0804L42.9044 36.7565L40.7773 37.4325C40.1139 37.6433 39.4974 37.7637 38.9361 37.7406C38.3747 37.7176 37.8228 37.5656 37.273 37.2618L36.9113 37.0746C36.4224 37.8343 35.8827 38.434 35.2764 38.9036C34.6775 39.3962 33.959 39.7504 33.1356 40.0121C31.443 40.55 29.9544 40.6201 28.6696 40.2226C27.362 39.8323 26.4943 38.9244 26.0509 37.5292C25.7747 36.66 25.7646 35.7567 26.0207 34.8191C26.2767 33.8815 26.9424 32.9648 27.9802 32.0306C27.2807 31.573 26.7632 31.1331 26.4504 30.7036C26.1148 30.2814 25.8572 29.7086 25.6318 28.9995C25.3847 28.2218 25.3725 27.4702 25.6035 26.6917C25.819 25.9433 26.261 25.274 26.9224 24.6608C27.5609 24.055 28.3719 23.5958 29.3326 23.2905C30.156 23.0289 30.969 22.972 31.7569 23.0741C32.5449 23.1763 33.2163 23.4665 33.8097 23.9075C34.3803 24.3558 34.7897 24.9308 35.015 25.6399C35.2912 26.509 35.2566 27.351 34.9486 28.2044C34.6177 29.065 33.8762 29.9806 32.7012 30.9584L32.7614 30.9896L36.158 32.8818L37.1605 29.0628L40.2026 28.0961L38.4176 34.128L39.1181 34.5098C39.3665 34.6575 39.5702 34.7438 39.7449 34.7387ZM28.8397 26.4943C28.6286 26.9391 28.5993 27.4017 28.7592 27.9049C28.9046 28.3624 29.0895 28.7065 29.3742 28.9686C29.6361 29.2379 30.0498 29.5094 30.6069 29.836C31.2599 29.2759 31.6925 28.7355 31.9048 28.2148C32.117 27.694 32.1546 27.1784 31.9947 26.6752C31.8494 26.2178 31.5657 25.8798 31.1967 25.6697C30.8121 25.4897 30.3953 25.4459 29.9378 25.5913C29.4346 25.7512 29.0582 26.0723 28.8397 26.4943ZM34.7349 35.8523L29.93 33.1738C29.5057 33.6612 29.256 34.1435 29.1508 34.605C29.0529 35.0894 29.1068 35.5759 29.2667 36.0791C29.4921 36.7882 29.8952 37.2644 30.469 37.485C31.05 37.7285 31.7486 37.7079 32.5492 37.4535C33.3726 37.1919 34.1088 36.6557 34.7349 35.8523ZM44.5218 36.2425L45.2891 18.3708L49.4062 17.0624L60.304 31.2271L56.6215 32.3973L54.2742 29.2903L48.1901 31.2238L48.0671 35.1159L44.5218 36.2425ZM48.2255 28.1655L52.4569 26.8207L48.3963 21.4126L48.2255 28.1655Z",fill:"white"}),(0,a.h)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0436 13.9334V13.7692C23.0436 11.8383 21.9362 10.651 20.3178 10.651C19.6269 10.651 18.9549 10.9405 18.4437 11.4619C17.9422 11.9735 17.668 12.6397 17.668 13.3638C17.668 14.0972 17.9235 14.7541 18.4154 15.2849C18.9361 15.845 19.5607 16.1153 20.3365 16.1153C21.4727 16.1153 22.315 15.565 22.8068 14.4835H21.1601C20.9329 14.6863 20.6869 14.7732 20.384 14.7732C19.731 14.7732 19.3429 14.4835 19.2105 13.9334H23.0436ZM21.5387 12.8518H19.1632C19.2673 12.3597 19.7124 12.0312 20.3365 12.0312C20.9329 12.0312 21.3588 12.321 21.5387 12.8518Z",fill:"white"}),(0,a.h)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.7022 13.9334V13.7692C28.7022 11.8383 27.5949 10.651 25.9765 10.651C25.2856 10.651 24.6135 10.9405 24.1024 11.4619C23.6008 11.9735 23.3265 12.6397 23.3265 13.3638C23.3265 14.0972 23.5822 14.7541 24.074 15.2849C24.5947 15.845 25.2195 16.1153 25.9955 16.1153C27.1312 16.1153 27.9737 15.565 28.4657 14.4835H26.8187C26.5918 14.6863 26.3456 14.7732 26.0427 14.7732C25.3898 14.7732 25.0015 14.4835 24.8692 13.9334H28.7022ZM27.1974 12.8518H24.8219C24.9259 12.3597 25.3708 12.0312 25.9955 12.0312C26.5918 12.0312 27.0174 12.321 27.1974 12.8518Z",fill:"white"}),(0,a.h)("mask",{id:"mask0_634_182",style:{"mask-type":"luminance"},maskUnits:"userSpaceOnUse",x:"15",y:"9",width:"30",height:"8"},(0,a.h)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 9H45V16.125H15V9Z",fill:"white"})),(0,a.h)("g",{mask:"url(#mask0_634_182)"},(0,a.h)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5489 11.9638V15.9896H17.016V11.9638H17.6122V10.8051H17.016V10.6796C17.016 10.2066 17.1201 10.0521 17.5744 10.0521H17.6122V9.00933C17.5271 9.00933 17.4512 8.99989 17.3756 8.99989C16.1265 8.99989 15.5393 9.50186 15.5393 10.6121C15.5393 10.6701 15.5489 10.7376 15.5489 10.8051H15.0001V11.9638H15.5489Z",fill:"white"})),(0,a.h)("mask",{id:"mask1_634_182",style:{"mask-type":"luminance"},maskUnits:"userSpaceOnUse",x:"15",y:"9",width:"30",height:"8"},(0,a.h)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 9H45V16.125H15V9Z",fill:"white"})),(0,a.h)("g",{mask:"url(#mask1_634_182)"},(0,a.h)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.27 11.9638V15.9896H30.7371V11.9638H31.3331V10.8052H30.7371V10.6797C30.7371 10.2067 30.8411 10.0522 31.2955 10.0522H31.3331V9.0094C31.2482 9.0094 31.1723 8.99997 31.0964 8.99997C29.8472 8.99997 29.2607 9.50193 29.2607 10.6121C29.2607 10.6702 29.27 10.7377 29.27 10.8052H28.7212V11.9638H29.27Z",fill:"white"})),(0,a.h)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.6972 13.3638C36.6972 12.6588 36.4039 11.9444 35.8646 11.4233C35.3535 10.9308 34.7195 10.6702 33.9809 10.6702C33.2903 10.6702 32.6183 10.9599 32.107 11.4811C31.6055 11.9928 31.3312 12.6588 31.3312 13.3829C31.3312 14.107 31.5865 14.7735 32.0788 15.2945C32.5995 15.8548 33.224 16.125 34.0001 16.125C34.7666 16.125 35.4102 15.8451 35.931 15.3141C36.4419 14.7926 36.6972 14.1458 36.6972 13.3638ZM35.2114 13.4022C35.2114 14.107 34.6719 14.6768 34.0097 14.6768C33.3565 14.6768 32.8075 14.107 32.8075 13.4022C32.8075 12.688 33.3472 12.1181 34.0097 12.1181C34.6719 12.1181 35.2114 12.688 35.2114 13.4022Z",fill:"white"}),(0,a.h)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.9925 12.5216C38.2725 12.4768 37.6937 11.8872 37.6535 11.1518H40.5016H40.8019V11.1166C40.8019 9.85515 40.0119 9.01453 38.9198 9.01453C37.7658 9.01453 36.9828 9.8764 36.9828 10.9976C36.9828 12.0558 37.7932 12.9875 38.8993 12.9875C39.7029 12.9875 40.3419 12.5322 40.6855 11.6912H40.3674C40.1388 12.1838 39.6473 12.5243 39.0775 12.5243C39.0479 12.5243 39.0217 12.5235 38.9925 12.5216Z",fill:"#FFDD00"}),(0,a.h)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42.9899 12.5216C43.7097 12.4743 44.2888 11.8872 44.3292 11.1518H41.4811H41.1804V11.1166C41.1804 9.85515 41.9705 9.01453 43.0629 9.01453C44.2167 9.01453 45 9.8764 45 10.9976C45 12.0558 44.1895 12.9875 43.0832 12.9875C42.2796 12.9875 41.6408 12.5322 41.2972 11.6912H41.6154C41.8441 12.1838 42.3357 12.5243 42.9051 12.5243C42.9348 12.5243 42.9609 12.5235 42.9899 12.5216Z",fill:"#FFDD00"})),(0,a.h)("defs",null,(0,a.h)("clipPath",{id:"clip0_634_182"},(0,a.h)("rect",{width:"64",height:"64",rx:"32",fill:"white"})))),ne=({product:e,buttonProps:t})=>(0,a.h)("div",{className:"dark-banner-container"},(0,a.h)("div",{className:"dark-banner-icon"},(0,a.h)(te,null)),(0,a.h)("div",{className:"dark-banner-column"},(0,a.h)("span",null,e),t&&(0,a.h)("a",{href:t.url,className:"dark-banner-link"},t.text))),re=P((({suffixIcon:e,text:t,required:n=!1,placeholder:s,id:i="text-field","data-cy":l,...c},d)=>{const[u,h]=(0,r.eJ)(null);return(0,a.h)("div",{className:o("text-field-container",{"text-field-invalid":u})},(0,a.h)("label",{htmlFor:i,className:"text-field-label"},t,(0,a.h)("span",{className:"text-field-required-star"},n&&"*")),(0,a.h)("div",{className:"text-field-input-container"},e,(0,a.h)("input",{ref:d,...c,required:n,"aria-invalid":!!u,id:i,className:"text-field-input-input",placeholder:s,onChange:()=>u&&h(null),onInvalid:e=>{e.preventDefault();const t=e.target.validationMessage;t&&h(t)},"data-cy":l})),u&&(0,a.h)("p",{role:"alert",className:"text-field-message"},u))}))},184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)){if(n.length){var i=a.apply(null,n);i&&e.push(i)}}else if("object"===s){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)r.call(n,o)&&n[o]&&e.push(o)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},199:()=>{},661:(e,t,n)=>{"use strict";n.d(t,{Gp:()=>u,HY:()=>r.HY,I4:()=>a.I4,X$:()=>l,Ye:()=>a.Ye,ZP:()=>G,_Y:()=>a._Y,aP:()=>a.aP,az:()=>r.az,bt:()=>a.bt,d4:()=>a.d4,eJ:()=>a.eJ,iW:()=>F,kr:()=>r.kr,n4:()=>_,qp:()=>a.qp,sO:()=>a.sO});var r=n(400),a=n(396);function s(e,t){for(var n in t)e[n]=t[n];return e}function i(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function o(e,t){this.props=e,this.context=t}function l(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:i(this.props,e)}function a(t){return this.shouldComponentUpdate=n,(0,r.az)(e,t)}return a.displayName="Memo("+(e.displayName||e.name)+")",a.prototype.isReactComponent=!0,a.__f=!0,a}(o.prototype=new r.wA).isPureReactComponent=!0,o.prototype.shouldComponentUpdate=function(e,t){return i(this.props,e)||i(this.state,t)};var c=r.YM.__b;r.YM.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),c&&c(e)};var d="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function u(e){function t(t){var n=s({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=d,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var h=function(e,t){return null==e?null:(0,r.bR)((0,r.bR)(e).map(t))},p={map:h,forEach:h,count:function(e){return e?(0,r.bR)(e).length:0},only:function(e){var t=(0,r.bR)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:r.bR},m=r.YM.__e;r.YM.__e=function(e,t,n,r){if(e.then)for(var a,s=t;s=s.__;)if((a=s.__c)&&a.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),a.__c(e,t);m(e,t,n,r)};var v=r.YM.unmount;function f(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=s({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return f(e,t,n)}))),e}function g(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return g(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function _(){this.__u=0,this.t=null,this.__b=null}function b(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function w(){this.u=null,this.o=null}r.YM.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),v&&v(e)},(_.prototype=new r.wA).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var a=b(r.__v),s=!1,i=function(){s||(s=!0,n.__R=null,a?a(o):o())};n.__R=i;var o=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=g(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(i,i)},_.prototype.componentWillUnmount=function(){this.t=[]},_.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),a=this.__v.__k[0].__c;this.__v.__k[0]=f(this.__b,n,a.__O=a.__P)}this.__b=null}var s=t.__a&&(0,r.az)(r.HY,null,e.fallback);return s&&(s.__u&=-33),[(0,r.az)(r.HY,null,t.__a?null:e.children),s]};var y=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function x(e){return this.getChildContext=function(){return e.context},e.children}function E(e){var t=this,n=e.i;t.componentWillUnmount=function(){(0,r.sY)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],contains:function(){return!0},appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),(0,r.sY)((0,r.az)(x,{context:t.context},e.__v),t.l)}(w.prototype=new r.wA).__a=function(e){var t=this,n=b(t.__v),r=t.o.get(e);return r[0]++,function(a){var s=function(){t.props.revealOrder?(r.push(a),y(t,e,r)):a()};n?n(s):s()}},w.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,r.bR)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},w.prototype.componentDidUpdate=w.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){y(e,n,t)}))};var P="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,C=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,k=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,N=/[A-Z0-9]/g,A="undefined"!=typeof document,O=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};r.wA.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(r.wA.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var S=r.YM.event;function R(){}function T(){return this.cancelBubble}function L(){return this.defaultPrevented}r.YM.event=function(e){return S&&(e=S(e)),e.persist=R,e.isPropagationStopped=T,e.isDefaultPrevented=L,e.nativeEvent=e};var I,M={enumerable:!1,configurable:!0,get:function(){return this.class}},Z=r.YM.vnode;r.YM.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,a={},s=-1===n.indexOf("-");for(var i in t){var o=t[i];if(!("value"===i&&"defaultValue"in t&&null==o||A&&"children"===i&&"noscript"===n||"class"===i||"className"===i)){var l=i.toLowerCase();"defaultValue"===i&&"value"in t&&null==t.value?i="value":"download"===i&&!0===o?o="":"translate"===l&&"no"===o?o=!1:"o"===l[0]&&"n"===l[1]?"ondoubleclick"===l?i="ondblclick":"onchange"!==l||"input"!==n&&"textarea"!==n||O(t.type)?"onfocus"===l?i="onfocusin":"onblur"===l?i="onfocusout":k.test(i)&&(i=l):l=i="oninput":s&&C.test(i)?i=i.replace(N,"-$&").toLowerCase():null===o&&(o=void 0),"oninput"===l&&a[i=l]&&(i="oninputCapture"),a[i]=o}}"select"==n&&a.multiple&&Array.isArray(a.value)&&(a.value=(0,r.bR)(t.children).forEach((function(e){e.props.selected=-1!=a.value.indexOf(e.props.value)}))),"select"==n&&null!=a.defaultValue&&(a.value=(0,r.bR)(t.children).forEach((function(e){e.props.selected=a.multiple?-1!=a.defaultValue.indexOf(e.props.value):a.defaultValue==e.props.value}))),t.class&&!t.className?(a.class=t.class,Object.defineProperty(a,"className",M)):(t.className&&!t.class||t.class&&t.className)&&(a.class=a.className=t.className),e.props=a}(e),e.$$typeof=P,Z&&Z(e)};var j=r.YM.__r;r.YM.__r=function(e){j&&j(e),I=e.__c};var B=r.YM.diffed;r.YM.diffed=function(e){B&&B(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),I=null};var H={ReactCurrentDispatcher:{current:{readContext:function(e){return I.__n[e.__c].props.value},useCallback:a.I4,useContext:a.qp,useDebugValue:a.Qb,useDeferredValue:U,useEffect:a.d4,useId:a.Me,useImperativeHandle:a.aP,useInsertionEffect:$,useLayoutEffect:a.bt,useMemo:a.Ye,useReducer:a._Y,useRef:a.sO,useState:a.eJ,useSyncExternalStore:Y,useTransition:q}}};function V(e){return!!e&&e.$$typeof===P}var F=function(e,t){return e(t)},D=r.HY;function z(e){e()}function U(e){return e}function q(){return[!1,z]}var $=a.bt,W=V;function Y(e,t){var n=t(),r=(0,a.eJ)({h:{__:n,v:t}}),s=r[0].h,i=r[1];return(0,a.bt)((function(){s.__=n,s.v=t,J(s)&&i({h:s})}),[e,n,t]),(0,a.d4)((function(){return J(s)&&i({h:s}),e((function(){J(s)&&i({h:s})}))}),[e]),n}function J(e){var t,n,r=e.v,a=e.__;try{var s=r();return!((t=a)===(n=s)&&(0!==t||1/t==1/n)||t!=t&&n!=n)}catch(e){return!0}}var G={useState:a.eJ,useId:a.Me,useReducer:a._Y,useEffect:a.d4,useLayoutEffect:a.bt,useInsertionEffect:$,useTransition:q,useDeferredValue:U,useSyncExternalStore:Y,startTransition:z,useRef:a.sO,useImperativeHandle:a.aP,useMemo:a.Ye,useCallback:a.I4,useContext:a.qp,useDebugValue:a.Qb,version:"17.0.2",Children:p,render:function(e,t,n){return null==t.__k&&(t.textContent=""),(0,r.sY)(e,t),"function"==typeof n&&n(),e?e.__c:null},hydrate:function(e,t,n){return(0,r.ZB)(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&((0,r.sY)(null,e),!0)},createPortal:function(e,t){var n=(0,r.az)(E,{__v:e,i:t});return n.containerInfo=t,n},createElement:r.az,createContext:r.kr,createFactory:function(e){return r.az.bind(null,e)},cloneElement:function(e){return V(e)?r.Tm.apply(null,arguments):e},createRef:r.Vf,Fragment:r.HY,isValidElement:V,isElement:W,isFragment:function(e){return V(e)&&e.type===r.HY},isMemo:function(e){return!!e&&!!e.displayName&&("string"==typeof e.displayName||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")},findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:r.wA,PureComponent:o,memo:l,forwardRef:u,flushSync:F,unstable_batchedUpdates:function(e,t){return e(t)},StrictMode:D,Suspense:_,SuspenseList:w,lazy:function(e){var t,n,a;function s(s){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){a=e})),a)throw a;if(!n)throw t;return(0,r.az)(n,s)}return s.displayName="Lazy",s.__f=!0,s},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:H}},400:(e,t,n)=>{"use strict";n.d(t,{HY:()=>P,Tm:()=>$,Vf:()=>E,YM:()=>a,ZB:()=>q,az:()=>y,bR:()=>L,h:()=>y,kr:()=>W,l$:()=>i,sY:()=>U,wA:()=>C});var r,a,s,i,o,l,c,d,u,h,p,m,v={},f=[],g=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,_=Array.isArray;function b(e,t){for(var n in t)e[n]=t[n];return e}function w(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n){var a,s,i,o={};for(i in t)"key"==i?a=t[i]:"ref"==i?s=t[i]:o[i]=t[i];if(arguments.length>2&&(o.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===o[i]&&(o[i]=e.defaultProps[i]);return x(e,o,a,s,null)}function x(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++s:i,__i:-1,__u:0};return null==i&&null!=a.vnode&&a.vnode(o),o}function E(){return{current:null}}function P(e){return e.children}function C(e,t){this.props=e,this.context=t}function k(e,t){if(null==t)return e.__?k(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?k(e):null}function N(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return N(e)}}function A(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!O.__r++||l!==a.debounceRendering)&&((l=a.debounceRendering)||c)(O)}function O(){var e,t,n,r,s,i,l,c;for(o.sort(d);e=o.shift();)e.__d&&(t=o.length,r=void 0,i=(s=(n=e).__v).__e,l=[],c=[],n.__P&&((r=b({},s)).__v=s.__v+1,a.vnode&&a.vnode(r),B(n.__P,r,s,n.__n,n.__P.namespaceURI,32&s.__u?[i]:null,l,null==i?k(s):i,!!(32&s.__u),c),r.__v=s.__v,r.__.__k[r.__i]=r,H(l,r,c),r.__e!=i&&N(r)),o.length>t&&o.sort(d));O.__r=0}function S(e,t,n,r,a,s,i,o,l,c,d){var u,h,p,m,g,_=r&&r.__k||f,b=t.length;for(n.__d=l,R(n,t,_),l=n.__d,u=0;u<b;u++)null!=(p=n.__k[u])&&"boolean"!=typeof p&&"function"!=typeof p&&(h=-1===p.__i?v:_[p.__i]||v,p.__i=u,B(e,p,h,a,s,i,o,l,c,d),m=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&F(h.ref,null,p),d.push(p.ref,p.__c||m,p)),null==g&&null!=m&&(g=m),65536&p.__u||h.__k===p.__k?l=T(p,l,e):"function"==typeof p.type&&void 0!==p.__d?l=p.__d:m&&(l=m.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=l,n.__e=g}function R(e,t,n){var r,a,s,i,o,l=t.length,c=n.length,d=c,u=0;for(e.__k=[],r=0;r<l;r++)i=r+u,null!=(a=e.__k[r]=null==(a=t[r])||"boolean"==typeof a||"function"==typeof a?null:"string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?x(null,a,null,null,null):_(a)?x(P,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?x(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a)?(a.__=e,a.__b=e.__b+1,o=I(a,n,i,d),a.__i=o,s=null,-1!==o&&(d--,(s=n[o])&&(s.__u|=131072)),null==s||null===s.__v?(-1==o&&u--,"function"!=typeof a.type&&(a.__u|=65536)):o!==i&&(o==i-1?u--:o==i+1?u++:o>i?d>l-i?u+=o-i:u--:o<i&&(o==i-u?u-=o-i:u++),o!==r+u&&(a.__u|=65536))):(s=n[i])&&null==s.key&&s.__e&&0==(131072&s.__u)&&(s.__e==e.__d&&(e.__d=k(s)),D(s,s,!1),n[i]=null,d--);if(d)for(r=0;r<c;r++)null!=(s=n[r])&&0==(131072&s.__u)&&(s.__e==e.__d&&(e.__d=k(s)),D(s,s))}function T(e,t,n){var r,a;if("function"==typeof e.type){for(r=e.__k,a=0;r&&a<r.length;a++)r[a]&&(r[a].__=e,t=T(r[a],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=k(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function L(e,t){return t=t||[],null==e||"boolean"==typeof e||(_(e)?e.some((function(e){L(e,t)})):t.push(e)),t}function I(e,t,n,r){var a=e.key,s=e.type,i=n-1,o=n+1,l=t[n];if(null===l||l&&a==l.key&&s===l.type&&0==(131072&l.__u))return n;if(r>(null!=l&&0==(131072&l.__u)?1:0))for(;i>=0||o<t.length;){if(i>=0){if((l=t[i])&&0==(131072&l.__u)&&a==l.key&&s===l.type)return i;i--}if(o<t.length){if((l=t[o])&&0==(131072&l.__u)&&a==l.key&&s===l.type)return o;o++}}return-1}function M(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||g.test(t)?n:n+"px"}function Z(e,t,n,r,a){var s;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||M(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||M(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])s=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.u=r.u:(n.u=u,e.addEventListener(t,s?p:h,s)):e.removeEventListener(t,s?p:h,s);else{if("http://www.w3.org/2000/svg"==a)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function j(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=u++;else if(t.t<n.u)return;return n(a.event?a.event(t):t)}}}function B(e,t,n,r,s,i,o,l,c,d){var u,h,p,m,v,f,g,w,y,x,E,k,N,A,O,R,T=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(c=!!(32&n.__u),i=[l=t.__e=n.__e]),(u=a.__b)&&u(t);e:if("function"==typeof T)try{if(w=t.props,y="prototype"in T&&T.prototype.render,x=(u=T.contextType)&&r[u.__c],E=u?x?x.props.value:u.__:r,n.__c?g=(h=t.__c=n.__c).__=h.__E:(y?t.__c=h=new T(w,E):(t.__c=h=new C(w,E),h.constructor=T,h.render=z),x&&x.sub(h),h.props=w,h.state||(h.state={}),h.context=E,h.__n=r,p=h.__d=!0,h.__h=[],h._sb=[]),y&&null==h.__s&&(h.__s=h.state),y&&null!=T.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=b({},h.__s)),b(h.__s,T.getDerivedStateFromProps(w,h.__s))),m=h.props,v=h.state,h.__v=t,p)y&&null==T.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),y&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(y&&null==T.getDerivedStateFromProps&&w!==m&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(w,E),!h.__e&&(null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(w,h.__s,E)||t.__v===n.__v)){for(t.__v!==n.__v&&(h.props=w,h.state=h.__s,h.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),k=0;k<h._sb.length;k++)h.__h.push(h._sb[k]);h._sb=[],h.__h.length&&o.push(h);break e}null!=h.componentWillUpdate&&h.componentWillUpdate(w,h.__s,E),y&&null!=h.componentDidUpdate&&h.__h.push((function(){h.componentDidUpdate(m,v,f)}))}if(h.context=E,h.props=w,h.__P=e,h.__e=!1,N=a.__r,A=0,y){for(h.state=h.__s,h.__d=!1,N&&N(t),u=h.render(h.props,h.state,h.context),O=0;O<h._sb.length;O++)h.__h.push(h._sb[O]);h._sb=[]}else do{h.__d=!1,N&&N(t),u=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++A<25);h.state=h.__s,null!=h.getChildContext&&(r=b(b({},r),h.getChildContext())),y&&!p&&null!=h.getSnapshotBeforeUpdate&&(f=h.getSnapshotBeforeUpdate(m,v)),S(e,_(R=null!=u&&u.type===P&&null==u.key?u.props.children:u)?R:[R],t,n,r,s,i,o,l,c,d),h.base=t.__e,t.__u&=-161,h.__h.length&&o.push(h),g&&(h.__E=h.__=null)}catch(e){if(t.__v=null,c||null!=i){for(t.__u|=c?160:32;l&&8===l.nodeType&&l.nextSibling;)l=l.nextSibling;i[i.indexOf(l)]=null,t.__e=l}else t.__e=n.__e,t.__k=n.__k;a.__e(e,t,n)}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=V(n.__e,t,n,r,s,i,o,c,d);(u=a.diffed)&&u(t)}function H(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)F(n[r],n[++r],n[++r]);a.__c&&a.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){a.__e(e,t.__v)}}))}function V(e,t,n,a,s,i,o,l,c){var d,u,h,p,m,f,g,b=n.props,y=t.props,x=t.type;if("svg"===x?s="http://www.w3.org/2000/svg":"math"===x?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),null!=i)for(d=0;d<i.length;d++)if((m=i[d])&&"setAttribute"in m==!!x&&(x?m.localName===x:3===m.nodeType)){e=m,i[d]=null;break}if(null==e){if(null===x)return document.createTextNode(y);e=document.createElementNS(s,x,y.is&&y),i=null,l=!1}if(null===x)b===y||l&&e.data===y||(e.data=y);else{if(i=i&&r.call(e.childNodes),b=n.props||v,!l&&null!=i)for(b={},d=0;d<e.attributes.length;d++)b[(m=e.attributes[d]).name]=m.value;for(d in b)if(m=b[d],"children"==d);else if("dangerouslySetInnerHTML"==d)h=m;else if("key"!==d&&!(d in y)){if("value"==d&&"defaultValue"in y||"checked"==d&&"defaultChecked"in y)continue;Z(e,d,null,m,s)}for(d in y)m=y[d],"children"==d?p=m:"dangerouslySetInnerHTML"==d?u=m:"value"==d?f=m:"checked"==d?g=m:"key"===d||l&&"function"!=typeof m||b[d]===m||Z(e,d,m,b[d],s);if(u)l||h&&(u.__html===h.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(h&&(e.innerHTML=""),S(e,_(p)?p:[p],t,n,a,"foreignObject"===x?"http://www.w3.org/1999/xhtml":s,i,o,i?i[0]:n.__k&&k(n,0),l,c),null!=i)for(d=i.length;d--;)null!=i[d]&&w(i[d]);l||(d="value",void 0!==f&&(f!==e[d]||"progress"===x&&!f||"option"===x&&f!==b[d])&&Z(e,d,f,b[d],s),d="checked",void 0!==g&&g!==e[d]&&Z(e,d,g,b[d],s))}return e}function F(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){a.__e(e,n)}}function D(e,t,n){var r,s;if(a.unmount&&a.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||F(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){a.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&D(r[s],t,n||"function"!=typeof e.type);n||null==e.__e||w(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function z(e,t,n){return this.constructor(e,n)}function U(e,t,n){var s,i,o,l;a.__&&a.__(e,t),i=(s="function"==typeof n)?null:n&&n.__k||t.__k,o=[],l=[],B(t,e=(!s&&n||t).__k=y(P,null,[e]),i||v,v,t.namespaceURI,!s&&n?[n]:i?null:t.firstChild?r.call(t.childNodes):null,o,!s&&n?n:i?i.__e:t.firstChild,s,l),H(o,e,l)}function q(e,t){U(e,t,q)}function $(e,t,n){var a,s,i,o,l=b({},e.props);for(i in e.type&&e.type.defaultProps&&(o=e.type.defaultProps),t)"key"==i?a=t[i]:"ref"==i?s=t[i]:l[i]=void 0===t[i]&&void 0!==o?o[i]:t[i];return arguments.length>2&&(l.children=arguments.length>3?r.call(arguments,2):n),x(e.type,l,a||e.key,s||e.ref,null)}function W(e,t){var n={__c:t="__cC"+m++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,A(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}r=f.slice,a={__e:function(e,t,n,r){for(var a,s,i;t=t.__;)if((a=t.__c)&&!a.__)try{if((s=a.constructor)&&null!=s.getDerivedStateFromError&&(a.setState(s.getDerivedStateFromError(e)),i=a.__d),null!=a.componentDidCatch&&(a.componentDidCatch(e,r||{}),i=a.__d),i)return a.__E=a}catch(t){e=t}throw e}},s=0,i=function(e){return null!=e&&null==e.constructor},C.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=b({},this.state),"function"==typeof e&&(e=e(b({},n),this.props)),e&&b(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),A(this))},C.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),A(this))},C.prototype.render=P,o=[],c="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,d=function(e,t){return e.__v.__b-t.__v.__b},O.__r=0,u=0,h=j(!1),p=j(!0),m=0},396:(e,t,n)=>{"use strict";n.d(t,{I4:()=>C,Me:()=>A,Qb:()=>N,Ye:()=>P,_Y:()=>b,aP:()=>E,bt:()=>y,d4:()=>w,eJ:()=>_,qp:()=>k,sO:()=>x});var r,a,s,i,o=n(400),l=0,c=[],d=o.YM,u=d.__b,h=d.__r,p=d.diffed,m=d.__c,v=d.unmount,f=d.__;function g(e,t){d.__h&&d.__h(a,e,l||t),l=0;var n=a.__H||(a.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function _(e){return l=1,b(M,e)}function b(e,t,n){var s=g(r++,2);if(s.t=e,!s.__c&&(s.__=[n?n(t):M(void 0,t),function(e){var t=s.__N?s.__N[0]:s.__[0],n=s.t(t,e);t!==n&&(s.__N=[n,s.__[1]],s.__c.setState({}))}],s.__c=a,!a.u)){var i=function(e,t,n){if(!s.__c.__H)return!0;var r=s.__c.__H.__.filter((function(e){return!!e.__c}));if(r.every((function(e){return!e.__N})))return!o||o.call(this,e,t,n);var a=!1;return r.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0)}})),!(!a&&s.__c.props===e)&&(!o||o.call(this,e,t,n))};a.u=!0;var o=a.shouldComponentUpdate,l=a.componentWillUpdate;a.componentWillUpdate=function(e,t,n){if(this.__e){var r=o;o=void 0,i(e,t,n),o=r}l&&l.call(this,e,t,n)},a.shouldComponentUpdate=i}return s.__N||s.__}function w(e,t){var n=g(r++,3);!d.__s&&I(n.__H,t)&&(n.__=e,n.i=t,a.__H.__h.push(n))}function y(e,t){var n=g(r++,4);!d.__s&&I(n.__H,t)&&(n.__=e,n.i=t,a.__h.push(n))}function x(e){return l=5,P((function(){return{current:e}}),[])}function E(e,t,n){l=6,y((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))}function P(e,t){var n=g(r++,7);return I(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function C(e,t){return l=8,P((function(){return e}),t)}function k(e){var t=a.context[e.__c],n=g(r++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(a)),t.props.value):e.__}function N(e,t){d.useDebugValue&&d.useDebugValue(t?t(e):e)}function A(){var e=g(r++,11);if(!e.__){for(var t=a.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function O(){for(var e;e=c.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(T),e.__H.__h.forEach(L),e.__H.__h=[]}catch(t){e.__H.__h=[],d.__e(t,e.__v)}}d.__b=function(e){a=null,u&&u(e)},d.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),f&&f(e,t)},d.__r=function(e){h&&h(e),r=0;var t=(a=e.__c).__H;t&&(s===a?(t.__h=[],a.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.i=e.__N=void 0}))):(t.__h.forEach(T),t.__h.forEach(L),t.__h=[],r=0)),s=a},d.diffed=function(e){p&&p(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==c.push(t)&&i===d.requestAnimationFrame||((i=d.requestAnimationFrame)||R)(O)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.i=void 0}))),s=a=null},d.__c=function(e,t){t.some((function(e){try{e.__h.forEach(T),e.__h=e.__h.filter((function(e){return!e.__||L(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],d.__e(n,e.__v)}})),m&&m(e,t)},d.unmount=function(e){v&&v(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{T(e)}catch(e){t=e}})),n.__H=void 0,t&&d.__e(t,n.__v))};var S="function"==typeof requestAnimationFrame;function R(e){var t,n=function(){clearTimeout(r),S&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);S&&(t=requestAnimationFrame(n))}function T(e){var t=a,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),a=t}function L(e){var t=a;e.__c=e.__(),a=t}function I(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function M(e,t){return"function"==typeof t?t(e):t}},232:(e,t,n)=>{document.currentScript&&(n.p=document.currentScript.src.replace(/[^\/]+$/,""))}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var s=r[e]={exports:{}};return n[e](s,s.exports,a),s.exports}a.m=n,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>"ask-an-owner.5f91d6393224efd986ad.js",a.miniCssF=e=>{},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="@feefo/feefo-reevoo-widgets:",a.l=(n,r,s,i)=>{if(e[n])e[n].push(r);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+s){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",t+s),o.src=n),e[n]=[r];var h=(t,r)=>{o.onerror=o.onload=null,clearTimeout(p);var a=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(r))),t)return t(r)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="/feefo-widgets-app/",(()=>{var e={919:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise(((n,a)=>r=e[t]=[n,a]));n.push(r[2]=s);var i=a.p+a.u(t),o=new Error;a.l(i,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,r[1](o)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,s,[i,o,l]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(l)l(a)}for(t&&t(n);c<i.length;c++)s=i[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=globalThis.webpackChunk_feefo_feefo_reevoo_widgets=globalThis.webpackChunk_feefo_feefo_reevoo_widgets||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";a(232);const e="product-sku",t="parent-product-sku",n="data-product-sku",r="data-parent-product-sku",s="data-product-id",i="product-id",o=[i,"sku",e,t,s,n,r,"data-feefo-product-id"],l="score",c="name",d="click-action",u="data-reevoo-action",h="data-feefo-action",p="min-reviews",m="tab",v="version",f="selected_feature",g="campaign",_="series",b=`${_}:`,w="model",y="manufacturer",x="model-year",E=`${x}-from`,P=`${x}-to`,C="branch-code",k="body-type",N="fuel-type",A=[x,E,P,C,"model-variant",k,"doors","used","vehicle-type",N,"transmission","engine-size-in-liters","model-display","spec-description",g,_],O=[C,g],S={[k]:"body",[N]:"fuel",[C]:"branchid",[E]:x.replace("-","")},R="product",T="brand",L="aao",I="qaa",M="combo",Z="tabbed",j="open_lightbox",B="open_window",H="enabled-tabs",V="Not implemented",F="Attribute validations failed for",D="should be one of :",z="should be list of comma separated :";class U{constructor({builder:e,element:t}){this.element=t,this.builder=e,this.loader=e.loader,this._reevooUrlPrefix="reevoo__",this.store={}}fetch(e=[]){this.urlParams=(()=>{try{return Object.fromEntries(new URLSearchParams(window.location.search))}catch(e){return console.error(e),{}}})();const t=this._fetchParams(e);return this.store=Object.assign(Object.assign({},this.store),t),t}fetchedParams(){return this.store}_fetchParams(e){return e.constructor===Array?this._fetchPlain(e):this._fetchMapped(e)}_fetchMapped(e){const t={};return Object.entries(e).forEach((([e,n])=>{t[e]=this._paramFrom(n)})),t}_fetchPlain(e){const t={};return e.forEach((e=>{const n=this._paramFrom(e);n&&(t[e]=n)})),t}_paramFrom(e){let t=this._paramFromBuilder(e);return void 0===t&&(t=this._paramFromMethod(e)),void 0===t&&(t=this._paramFromAttr(e)),void 0===t&&(t=this._paramFromUrl(e)),t}_paramFromAttrs(e){for(const t of e){const e=this._paramFromAttr(t);if(e)return e}}_paramFromAttr(e){return"getAttribute"in this.element&&this.element.getAttribute(e)||void 0}_paramFromMethod(e){const t=this[e.replace(/([-_]\w)/g,(e=>e[1].toUpperCase()))];if("function"==typeof t)return t.call(this)}_paramFromBuilder(e){return this.builder.getParam(e)}_paramFromUrl(e){return this.urlParams[`${this._reevooUrlPrefix}${e}`]}parentOrProductSku(){var e;return null!==(e=this.parentProductSku())&&void 0!==e?e:this.sku()}parentProductSku(){throw new Error(V)}version(){const e=parseInt(this._paramFromAttr(v));if(!isNaN(e))return e}identifier(){throw new Error(V)}merchantIdentifier(){return this.loader.settings.merchant_slug}merchantId(){return this.loader.settings.merchant_id}tags(e=A){return e.reduce(((e,t)=>{const n=this._paramFromAttr(t)||this._paramFromMethod(t);return n&&n.split(",").forEach((n=>{const r=S[t]||t.replace("-","");e.push(`${r}:${n}`)})),e}),[]).join(",")}origin(){return window.location.host}locale(){return this.loader.getLocale()}language(){return this.loader.settings.language}sku(){return this._isSeriesAvailable()||this._isAutomotiveProduct()?null:this._getSku()}_getSku(){return this._paramFromAttrs(["sku",i,e,n,s])}productId(){return this.sku()}productSku(){return this.sku()}isSkuAvailable(){return!!this.sku()||!!this.parentProductSku()||!!this.series()}selectedTab(){return this._paramFromAttr(m)}variant(){return this._paramFromAttr("variant")}isInLightbox(){return"true"===this._paramFromAttr("is-in-lightbox")}tabsFromAttribute(){const e=this._paramFromAttr(H);if(e)return e.replace(" ","").split(",")}restrictedToLocales(){const e=this.loader.settings.restricted_worldwide_locales;return e&&0!==e.length?e.map((e=>e.replace("-","_"))).join(","):null}serviceSincePeriod(){return this.loader.settings.widget_preferences.service_time_frame}productSincePeriod(){return this.loader.settings.widget_preferences.product_time_frame}_getAutomotiveSku(){return`${this._paramFromAttr(y)}-${this._paramFromAttr(w)}`}_isSeriesAvailable(){const e=this._getSku();return!!e&&e.includes(b)}_isAutomotiveProduct(){return!!this._paramFromAttr(y)&&!!this._paramFromAttr(w)}pageSize(){return 5}series(){if(this._getSku()&&this._isSeriesAvailable())return this._getSku().replace(b,"").toUpperCase()}productTags(){return this.tags(A)}serviceTags(){return this.tags(O)}campaign(){const e=this.loader.settings.merchant_campaign;try{const t=JSON.parse(e);if(t)return t[this.identifier()]}catch(e){return this.loader.settings.merchant_campaign}}title(){return this._paramFromAttr("data-widget-title")}}class q extends U{identifier(){return this._paramFromAttr("trkref")||this.loader.settings.trkref}trkref(){return this.identifier()}parentProductSku(){const e=this._paramFromAttrs([t,r]);return e||(this._isAutomotiveProduct()?this._getAutomotiveSku():null)}}class ${functionalGroupActive(){return!this._isDisabled("all")&&!this._isDisabled("functional")}performanceGroupActive(){return!this._isDisabled("all")&&!this._isDisabled("performance")}_reevooScript(){return document.getElementById("reevoo-loader")}isSupported(){return null!==this._reevooScript()&&null!==this._config()}_isDisabled(e){var t;const n=null===(t=this._config())||void 0===t?void 0:t.replace(/\s+/g,"").toLowerCase().split(",");return!!n&&-1!==n.indexOf(e)}_config(){const e=this._reevooScript();return e?e.getAttribute("disable-cookie"):null}}function W(e,t,n=null,r="/",a=null,s="Lax"){const i=[];i.push(`${e}=${function(e){return encodeURIComponent("object"==typeof e?JSON.stringify(e):e)}(t)}`),i.push(`path=${r}`),n&&i.push(`domain=${n}`),a&&i.push(`expires=${new Date(Date.now()+864e5*a).toUTCString()}`),i.push(`SameSite=${s}`),"None"===s&&i.push("secure"),document.cookie=i.join("; ")}function Y(e){const t=document.cookie.match(new RegExp(`(^| )${e}=[^;]*`));if(t)return function(e){const t=decodeURIComponent(e);if("{"===t[0]||"["===t[0])try{return JSON.parse(t)}catch(e){console.error("Cannot parse JSON cookie payload")}return t}(t[0].split("=")[1])}function J(e,t=null,n="/"){W(e,"",t,n,-1)}function G(){return window.location.host.replace(/:.*$/,"").split(".")}function K(){const e="reevoo_test."+Math.random().toString(36).substring(8);const t="domain_test_value",n=G();for(let r=n.length-1;r>=0;r--){const a=`.${n.slice(r).join(".")}`;if(W(e,t,a),Y(e)===t)return J(e,a),a}}class Q{constructor(e,t=60){this.name=e,this.lifespan=t,this.targetDomain=K(),this.sameSite="https:"===window.location.protocol?"None":"Lax",function(e){const t=document.cookie.match(new RegExp(`${e}[^;]*`,"g"))||[],n=G();t.forEach((e=>{for(let t=n.length-1;t>=0;t--){const r=e.split("=")[0],a=n.slice(t).join(".");J(r,a),J(r,`.${a}`)}}))}("reevoo_test")}set(e){e&&W(this.name,e,this.targetDomain,"/",this.lifespan,this.sameSite)}get(){return Y(this.name)}delete(){J(this.name,this.targetDomain,"/")}}window.Cookie=Q;class X{_value(){return Y("OptanonConsent")}isSupported(){return!!this._value()}_optanonGroups(){const e=this._value();if(!e)return[];const t=e.split("&").find((e=>e.match(/groups=/)));return t?t.replace("groups=","").split(",").map(this._sanitizeOptanonGroup):[]}_sanitizeOptanonGroup(e){return e.replace(/^C0+/,"")}_groupActive(e){return this._optanonGroups().includes(e)}functionalGroupActive(){return this._groupActive("3:1")}performanceGroupActive(){return this._groupActive("2:1")}}class ee{constructor(){this.scriptChecker=new $,this.optanon=new X}performanceGroupActive(){return this.scriptChecker.isSupported()?this.scriptChecker.performanceGroupActive():!this.optanon.isSupported()||this.optanon.performanceGroupActive()}functionalGroupActive(){return this.scriptChecker.isSupported()?this.scriptChecker.functionalGroupActive():!this.optanon.isSupported()||this.optanon.functionalGroupActive()}}class te{constructor(){this.translations={}}update(e){this.translations=Object.assign(Object.assign({},this.translations),e)}get(e,t){if(!e||0===e.length)return;if(Array.isArray(e)){const n=e.shift();if(!n)return;const r=(t||this.translations)[n];return"string"==typeof r?r:this.get(e,r)}const n=this.translations[e];return"string"==typeof n?n:void 0}getWithFormat(e,t={}){let n=this.get(e);if(!n||0===n.length)return"";for(const[e,r]of Object.entries(t))n=n.replace(`%{${e}}`,r);return n}}class ne{execute(){const e=window.afterReevooMarkLoaded;if(Array.isArray(e))for(const t of e)try{t()}catch(e){console.error(e)}}}class re{constructor(e){const{allowedParams:t,loadingAdapterKlass:n}=e;this.allowedParams=t,this.loadingAdapter=new n(e)}loadWithParams(e={},t){return this.loadingAdapter.load(e,t)}load(e,t){return void 0===e?this.loadWithParams({},t):this.loadingAdapter.load(this.fetchParams(e),t)}fetchParams(e){return void 0===e||void 0===this.allowedParams||0===this.allowedParams.length?{}:e.fetch(this.allowedParams)}}class ae{constructor(){this.store=new Map}set(e,t){return Array.isArray(e)&&e.length>0?this.setNested(e,t):(this.store.set(e,t),t)}get(e){return Array.isArray(e)&&e.length>0?this.getNested(e):this.store.get(e)}setNested(e,t){let n=this.store;for(let t=0;t<e.length-1;t++){const r=e[t];let a=n.get(r);a instanceof Map||(a=new Map,n.set(r,a)),n=a}return n.set(e[e.length-1],t),t}getNested(e){let t=this.store,n=null;for(const r of e){if(n=t.get(r),!(n instanceof Map))return n;t=n}return n}}class se{constructor({url:e,name:t,nonce:n,headers:r,cache:a="default",credentials:s="same-origin"}){this.url=e,this.name=t,this.nonce=n,this.cache=a,this.credentials=s,this.headers=r&&new Headers(r),this.store="default"===this.cache,this.promises=new ae}load(e,t){throw new Error(V)}}const ie=({url:e,params:t},n=!0)=>{if(!t)return e;let r=e;const a=[];for(const[e,n]of Object.entries(t))if(e&&n){const t=`---${e}---`;r.includes(t)?r=r.replace(t,n):a.push(`${e.replace(/-/g,"_")}=${encodeURIComponent(n)}`)}return n&&a.length>0&&(r=oe(r,a)),r},oe=(e,t)=>(!0==!e.includes("?")?e+="?":e+="&",e+=t.join("&")),le=(e,t)=>{if(!t)return e;const n=(e,t)=>{if(!("object"==typeof t&&!Array.isArray(t)&&null!==t))return;const r=Object.entries(t);if(0!==r.length){for(const[t,a]of r){const r=n("",a);let s=r;s||(s="string"==typeof a?a.replaceAll(" ","").replaceAll("http",""):a),e+=`${t}-${r||s}`}return e}};let r=`fetch-${e}`;const a=n("",t);return a&&(r+=`-${a}`),r};class ce extends se{constructor(e){super(e),this.id=e.id}load(e,t=document.head){const n=le(this.name,e);let r=this.promises.get([t,n]);return r||(r=new Promise(((n,r)=>{const a=this.setupTag(e,n,r);t.appendChild(a)})),this.promises.set([t,n],r),r)}createTag(e){return console.error(V),e}attachListeners(e,t,n){console.error(V)}setupTag(e,t,n){const r=this.createTag(e);return this.attachListeners(r,t,n),r}}class de extends ce{constructor(e){super(e),this.callbackEventName=e.callbackEventName}createTag(e){const t=document.createElement("script");return t.type="text/javascript",t.id=this.id,t.src=ie({url:this.url,params:e}),this.nonce&&(t.nonce=this.nonce),t}attachListeners(e,t,n){e.onerror=n,this.callbackEventName?window.addEventListener(this.callbackEventName,(e=>{t(e.detail.callback)})):e.onload=t}}class ue extends ce{setupTag(e,t,n){const r=this.createTag(e);return this.attachListeners(r,t,n),this.nonce="aaa",r}createTag(e){const t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.id=this.id,t.href=ie({url:this.url,params:e}),this.nonce&&(t.nonce=this.nonce),t}attachListeners(e,t,n){e.onerror=n,e.onload=t}}class he{constructor({url:e,fetchOptions:t={},params:n}){this.fetchOptions=t,this.url=e,this.params=n}load(){return fetch(this._decoratedUrl(),this._fetchOptions()).then(this._handleResponse).catch(this._handleCatchError)}_fetchOptions(){return this.fetchOptions}_decoratedUrl(){return""}_handleCatchError(e){throw e}_handleResponse(e){return Promise.resolve()}}class pe extends he{_decoratedUrl(){return ie({url:this.url,params:this.params})}_handleResponse(e){return e.ok?e.json():e.text().then((e=>{throw new Error(e)}))}}class me extends he{_fetchOptions(){return Object.assign(Object.assign({},this.fetchOptions),{body:this.params.body&&JSON.stringify(this.params.body)||this.params.formDataBody,method:"POST"})}_decoratedUrl(){return ie({url:this.url,params:this.params},!1)}_handleResponse(e){return e.ok?e.clone().json().catch((()=>e.text())):e.text().then((e=>{throw new Error(e)}))}}class ve extends se{constructor(e){var t,n,r,a,s;super(e),this.method=e.method||"GET";const i=this.headers?{headers:this.headers}:{};this.fetchOptions=Object.assign({credentials:this.credentials,cache:this.cache},i),this.usePromiseStore=null===(t=e.usePromiseStore)||void 0===t||t,this.seriesAsTag=null!==(r=null===(n=e.extra)||void 0===n?void 0:n.seriesAsTag)&&void 0!==r&&r,this.productReviewsUrlSuffix=null===(a=e.extra)||void 0===a?void 0:a.productReviewsUrlSuffix,this.productReviewsSummaryUrlSuffix=null===(s=e.extra)||void 0===s?void 0:s.productReviewsSummaryUrlSuffix}load(e,t={}){var n,r;const a=le(this.name,e);if((this.url.endsWith(this.productReviewsSummaryUrlSuffix)||this.url.endsWith(this.productReviewsUrlSuffix))&&!this.seriesAsTag){const t=",",r=null===(n=e.tags)||void 0===n?void 0:n.split(t);let a,s=-1;for(let e=0;e<(null==r?void 0:r.length);e++){const t=r[e];if(t.startsWith(b)){a=t.replace(b,""),s=e;break}}a&&s>=0&&(e.parent_product_sku=a,r.splice(s,1),e.tags=r.join(t))}t.extraHeaders&&(null!==(r=this.headers)&&void 0!==r||(this.headers=new Headers),t.extraHeaders.forEach(((e,t)=>this.headers.set(t.toString(),e))),this.fetchOptions.headers=this.headers);const s={url:this.url,fetchOptions:this.fetchOptions,params:e};let i=this.promises.get(a);if(i&&this.store)return i;const o=e=>{if(t.silentFail)return{};throw e};if("POST"===this.method)i=new me(s).load(e).catch(o);else i=new pe(s).load(e).catch(o);return this.usePromiseStore?this.promises.set(a,i):Promise.resolve()}}const fe="c_q";class ge extends se{constructor(e){super(e),this.css=this.createStylesCss(e.themeVars)}load(e,t=document.head){const n=le(this.name,e);let r=this.promises.get([t,n]);return r||(r=new Promise((e=>{const n=this.createTag();t.appendChild(n),e()})),this.promises.set([t,n],r),r)}createStylesCss(e){const t=Object.entries(e||{});if(t.length){const e=t.reduce(((e,[t,n])=>e+=`\n--reevoo-${t.replace(/_/g,"-")}: ${n}; `),"");return`.${fe} {${e}}`}}createTag(){const e=document.createElement("style");return e.setAttribute("type","text/css"),e.setAttribute("class","reevoo-theme"),e.rel="stylesheet",e.innerHTML=this.css,this.nonce&&(e.nonce=this.nonce),e}}class _e{adapt(e){return{onPageProduct:e.on_page_product,onPageService:e.on_page_service,onPageBoth:e.on_page_both,serviceReviewCarousel:e.service_review_carousel,mediaGallery:e.media_gallery,places:e.places,slideOutReviews:e.slide_out_reviews,scoreBadge:e.score_badge,productStars:e.product_stars,highlightedTopics:e.highlighted_topics,lightBoxProduct:e.light_box_product,lightBoxService:e.light_box_service,lightBoxBoth:e.light_box_both}}}var be=a(661);var we=a(400);var ye=0;Array.isArray;function xe(e,t,n,r,a,s){t||(t={});var i,o,l=t;if("ref"in l)for(o in l={},t)"ref"==o?i=t[o]:l[o]=t[o];var c={type:e,props:l,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--ye,__i:-1,__u:0,__source:a,__self:s};if("function"==typeof e&&(i=e.defaultProps))for(o in i)void 0===l[o]&&(l[o]=i[o]);return we.YM.vnode&&we.YM.vnode(c),c}var Ee=a(396),Pe=a(184),Ce=a.n(Pe);const ke="g_c",Ne="g_ag bc_lz",Ae="g_ah",Oe="g_ai",Se="g_aj",Re="g_ak bc_lz",Te="g_al",Le=()=>{const e=(0,Ee.sO)(null),t=(0,Ee.Ye)((()=>"object"==typeof window),[]),[n,r]=(0,Ee.eJ)(void 0);return(0,Ee.d4)((()=>{if(!t)return;const n=new ResizeObserver((e=>{for(const t of e){const{width:e}=t.contentRect;r(e)}}));n.observe(e.current)}),[t,e]),[e,n]},Ie=()=>{const[e,t]=(0,Ee.eJ)(void 0),[n,r]=Le();return(0,Ee.d4)((()=>(e=>{let n;e<=375?n=["medium","small","mobile"]:e>375&&e<=576?n=["medium","small"]:e>576&&e<991?n=["medium"]:e>1200&&(n=["extralarge"]),t(n)})(r)),[r]),[n,e]},Me="o_bh",Ze="o_bi",je="o_bj",Be="o_bk",He="o_bl",Ve="o_bm",Fe="o_bn",De="o_bo",ze="o_bp",Ue="o_bq",qe="failure",$e="success";var We;function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ye.apply(this,arguments)}const Je=function(e){return be.az("svg",Ye({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20"},e),We||(We=be.az("path",{d:"M10 3v14m-7-7h14",fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeWidth:2})))};var Ge;function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}const Qe=function(e){return be.az("svg",Ke({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20"},e),Ge||(Ge=be.az("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"M3 10h14"})))};var Xe,et;function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(this,arguments)}const nt=function(e){return be.az("svg",tt({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:35,height:35,viewBox:"0 0 35 35"},e),Xe||(Xe=be.az("defs",null,be.az("path",{d:"M43.5 31C34.94 31 28 24.06 28 15.5 28 6.94 34.94 0 43.5 0 52.06 0 59 6.94 59 15.5 59 24.06 52.06 31 43.5 31zm-2.896-9.329l9.862-9.82L48.608 10l-8 7.966-2.745-2.744L36 17.068l4.604 4.603z",id:"positive_svg__a"}),be.az("mask",{id:"positive_svg__b",x:-2,y:-2,width:35,height:35},be.az("path",{fill:"#fff",d:"M26-2h35v35H26z"}),be.az("use",{xlinkHref:"#positive_svg__a"})))),et||(et=be.az("use",{mask:"url(#positive_svg__b)",xlinkHref:"#positive_svg__a",transform:"translate(-26 2)",stroke:"currentColor",strokeWidth:4,fill:"none",fillRule:"evenodd"})))};var rt,at;function st(){return st=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},st.apply(this,arguments)}const it=function(e){return be.az("svg",st({width:35,height:35,viewBox:"0 0 35 35",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),rt||(rt=be.az("defs",null,be.az("circle",{id:"negative_svg__a",cx:15.5,cy:15.5,r:15.5}),be.az("mask",{id:"negative_svg__b",x:-2,y:-2,width:35,height:35},be.az("path",{fill:"#fff",d:"M-2-2h35v35H-2z"}),be.az("use",{xlinkHref:"#negative_svg__a"})))),at||(at=be.az("g",{transform:"translate(2 2)",fill:"none",fillRule:"evenodd"},be.az("use",{stroke:"currentColor",mask:"url(#negative_svg__b)",strokeWidth:4,xlinkHref:"#negative_svg__a"}),be.az("path",{fill:"currentColor",d:"M22.5 9.91L21.09 8.5l-5.59 5.59L9.91 8.5 8.5 9.91l5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"}))))};var ot;function lt(){return lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lt.apply(this,arguments)}const ct=function(e){return be.az("svg",lt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16"},e),ot||(ot=be.az("path",{d:"M0 0l15.798 15.798m0-15.798L0 15.798",fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeWidth:2})))};var dt,ut;function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht.apply(this,arguments)}const pt=function(e){return be.az("svg",ht({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),dt||(dt=be.az("circle",{cx:10,cy:10,r:9,stroke:"currentColor",strokeWidth:2})),ut||(ut=be.az("path",{strokeWidth:2,stroke:"currentColor",d:"M6 6l8 8M6 14l8-8"})))};var mt;function vt(){return vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vt.apply(this,arguments)}const ft=function(e){return be.az("svg",vt({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),mt||(mt=be.az("g",{fill:"none",fillRule:"evenodd"},be.az("path",{d:"M8 0C3.576 0 0 3.576 0 8c0 4.424 3.576 8 8 8 4.424 0 8-3.576 8-8 0-4.424-3.576-8-8-8zm4 10.872L10.872 12 8 9.128 5.128 12 4 10.872 6.872 8 4 5.128 5.128 4 8 6.872 10.872 4 12 5.128 9.128 8 12 10.872z",fill:"currentColor"}),be.az("path",{d:"M-4-4h24v24H-4z"}))))};var gt,_t;function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bt.apply(this,arguments)}const wt=function(e){return be.az("svg",bt({id:"feefo-logo_svg__Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 70 17"},e),gt||(gt=be.az("defs",null,be.az("style",null,".feefo-logo_svg__cls-1{fill:#494545}.feefo-logo_svg__cls-2{fill:#fddc47}"))),_t||(_t=be.az("g",{id:"feefo-logo_svg__Layer_2","data-name":"Layer 2"},be.az("g",{id:"feefo-logo_svg__Layer_1-2","data-name":"Layer 1-2"},be.az("path",{className:"feefo-logo_svg__cls-1",d:"M18.77 11.8v-.37c0-4.42-2.58-7.13-6.36-7.13A6.18 6.18 0 008 6.15a6 6 0 00-1.77 4.35A6.26 6.26 0 008 14.9a5.85 5.85 0 004.48 1.89 6 6 0 005.78-3.73h-3.88a2.57 2.57 0 01-1.83.66 2.48 2.48 0 01-2.74-1.92zm-3.51-2.46H9.72a2.56 2.56 0 012.73-1.87 2.75 2.75 0 012.81 1.87M32 11.8v-.37C32 7 29.39 4.3 25.61 4.3a6.2 6.2 0 00-4.37 1.85 6.11 6.11 0 00-1.83 4.35 6.27 6.27 0 001.75 4.4 5.88 5.88 0 004.5 1.9 6 6 0 005.78-3.74h-3.86a2.57 2.57 0 01-1.83.66A2.48 2.48 0 0123 11.8zm-3.54-2.46h-5.54a2.56 2.56 0 012.74-1.87 2.73 2.73 0 012.8 1.87M1.28 7.3v9.21h3.43V7.3h1.38V4.65H4.71v-.29C4.71 3.28 5 2.93 6 2.93h.08V.54h-.54C2.63.52 1.26 1.67 1.26 4.21v.44H0V7.3zM33.3 7.3v9.21h3.42V7.3h1.39V4.65h-1.39v-.29c0-1.08.24-1.43 1.3-1.43h.09V.54h-.55c-2.92 0-4.29 1.15-4.29 3.69v.44H32V7.3zM50.63 10.5a6.26 6.26 0 00-10.71-4.3 6.05 6.05 0 00-1.81 4.36 6.16 6.16 0 001.74 4.36 5.88 5.88 0 004.49 1.9 6.11 6.11 0 004.5-1.82 6 6 0 001.79-4.46m-3.47.09a2.81 2.81 0 01-5.61.19v-.19a2.81 2.81 0 015.61-.32v.32"}),be.az("path",{className:"feefo-logo_svg__cls-2",d:"M56 8.58a3.36 3.36 0 01-3.13-3.14h7.33v-.08c0-2.88-1.84-4.81-4.39-4.81a4.38 4.38 0 00-4.52 4.53 4.51 4.51 0 004.43 4.57h.05a4.38 4.38 0 004.16-3h-.74a3.34 3.34 0 01-3 1.91H56M65.31 8.58a3.34 3.34 0 003.12-3.14h-7.34v-.08c0-2.88 1.84-4.81 4.39-4.81A4.38 4.38 0 0170 5.09a4.49 4.49 0 01-4.44 4.56 4.39 4.39 0 01-4.17-3h.74a3.31 3.31 0 003 1.89h.2"})))))};var yt,xt;function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Et.apply(this,arguments)}const Pt=function(e){return be.az("svg",Et({id:"feefo-logo-black_svg__Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 70 17"},e),yt||(yt=be.az("defs",null,be.az("style",null,".feefo-logo-black_svg__cls-1{fill:#494545}"))),xt||(xt=be.az("g",{id:"feefo-logo-black_svg__Layer_2"},be.az("g",{id:"feefo-logo-black_svg__Layer_1-2"},be.az("path",{className:"feefo-logo-black_svg__cls-1",d:"M18.77 11.8v-.37c0-4.42-2.58-7.13-6.36-7.13A6.18 6.18 0 008 6.15a6 6 0 00-1.77 4.35A6.26 6.26 0 008 14.9a5.85 5.85 0 004.48 1.89 6 6 0 005.78-3.73h-3.88a2.57 2.57 0 01-1.83.66 2.48 2.48 0 01-2.74-1.92zm-3.51-2.46H9.72a2.56 2.56 0 012.73-1.87 2.75 2.75 0 012.81 1.87M32 11.8v-.37C32 7 29.39 4.3 25.61 4.3a6.2 6.2 0 00-4.37 1.85 6.11 6.11 0 00-1.83 4.35 6.27 6.27 0 001.75 4.4 5.88 5.88 0 004.5 1.9 6 6 0 005.78-3.74h-3.86a2.57 2.57 0 01-1.83.66A2.48 2.48 0 0123 11.8zm-3.54-2.46h-5.54a2.56 2.56 0 012.74-1.87 2.73 2.73 0 012.8 1.87M1.28 7.3v9.21h3.43V7.3h1.38V4.65H4.71v-.29C4.71 3.28 5 2.93 6 2.93h.08V.54h-.54C2.63.52 1.26 1.67 1.26 4.21v.44H0V7.3zM33.3 7.3v9.21h3.42V7.3h1.39V4.65h-1.39v-.29c0-1.08.24-1.43 1.3-1.43h.09V.54h-.55c-2.92 0-4.29 1.15-4.29 3.69v.44H32V7.3zM50.63 10.5a6.26 6.26 0 00-10.71-4.3 6.05 6.05 0 00-1.81 4.36 6.16 6.16 0 001.74 4.36 5.88 5.88 0 004.49 1.9 6.11 6.11 0 004.5-1.82 6 6 0 001.79-4.46m-3.47.09a2.81 2.81 0 01-5.61.19v-.19a2.81 2.81 0 015.61-.32v.32M56 8.58a3.36 3.36 0 01-3.13-3.14h7.33v-.08c0-2.88-1.84-4.81-4.39-4.81a4.38 4.38 0 00-4.52 4.53 4.51 4.51 0 004.43 4.57h.05a4.38 4.38 0 004.16-3h-.74a3.34 3.34 0 01-3 1.91H56M65.31 8.58a3.34 3.34 0 003.12-3.14h-7.34v-.08c0-2.88 1.84-4.81 4.39-4.81A4.38 4.38 0 0170 5.09a4.49 4.49 0 01-4.44 4.56 4.39 4.39 0 01-4.17-3h.74a3.31 3.31 0 003 1.89h.2"})))))};var Ct,kt;function Nt(){return Nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nt.apply(this,arguments)}const At=function(e){return be.az("svg",Nt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 230.09 53.57"},e),Ct||(Ct=be.az("path",{fill:"#fff",d:"M61.69 37.09v-1.23c0-14.52-8.49-23.45-20.9-23.45a20.38 20.38 0 00-14.38 6.1 20 20 0 00-5.95 14.3 20.55 20.55 0 005.73 14.44 19.29 19.29 0 0014.74 6.24c8.71 0 15.17-4.13 19-12.26H47.25a8.55 8.55 0 01-6 2.17c-5 0-8-2.17-9-6.31zM50.15 29H31.93c.8-3.7 4.21-6.17 9-6.17 4.57 0 7.84 2.18 9.22 6.17M105.09 37.09v-1.23c0-14.52-8.49-23.45-20.91-23.45a20.38 20.38 0 00-14.37 6.1 20 20 0 00-6 14.3 20.55 20.55 0 005.73 14.44 19.29 19.29 0 0014.79 6.25c8.71 0 15.17-4.14 19-12.27H90.64a8.52 8.52 0 01-6 2.17c-5 0-8-2.17-9-6.31zM93.55 29H75.33c.8-3.7 4.21-6.17 9-6.17 4.57 0 7.84 2.18 9.22 6.17M4.21 22.28v30.27h11.25V22.28H20v-8.71h-4.54v-.94c0-3.56.8-4.72 4.28-4.72H20V.07c-.62 0-1.2-.07-1.78-.07C8.64 0 4.14 3.77 4.14 12.12c0 .44.07.94.07 1.45H0v8.71zM109.45 22.28v30.27h11.25V22.28h4.57v-8.71h-4.57v-.94c0-3.56.79-4.72 4.28-4.72h.29V.07c-.65 0-1.27-.07-1.82-.07-9.58 0-14.08 3.77-14.08 12.12 0 .44.08.94.08 1.45h-4.21v8.71zM166.41 32.81a20.59 20.59 0 00-35.21-14.16A20 20 0 00125.25 33 20.32 20.32 0 00131 47.32a19.22 19.22 0 0014.73 6.25 20.22 20.22 0 0014.81-6.1 19.85 19.85 0 005.88-14.66M155 33.1a9.22 9.22 0 11-18.43 0 9.23 9.23 0 1118.43 0"})),kt||(kt=be.az("path",{fill:"#fddc47",d:"M184 26.48a11 11 0 01-10.27-10.3h24.15v-.27c0-9.48-6.06-15.8-14.44-15.8C174.6.11 168.6 6.59 168.6 15a14.78 14.78 0 0014.7 15c6.16 0 11.06-3.42 13.7-9.75h-2.44a11 11 0 01-9.9 6.27h-.65M214.67 26.48a11 11 0 0010.27-10.3h-24.15v-.27c0-9.48 6.06-15.8 14.44-15.8 8.85 0 14.86 6.48 14.86 14.91a14.79 14.79 0 01-14.7 15c-6.17 0-11.07-3.42-13.7-9.75h2.44A10.93 10.93 0 00214 26.5h.65"})))};var Ot;function St(){return St=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},St.apply(this,arguments)}const Rt=function(e){return be.az("svg",St({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,viewBox:"0 0 25 25"},e),Ot||(Ot=be.az("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.503 15.403h-1.106l-.392-.379a9.061 9.061 0 002.198-5.923A9.101 9.101 0 009.101 0 9.101 9.101 0 000 9.101a9.101 9.101 0 009.101 9.102 9.061 9.061 0 005.923-2.198l.379.392v1.106l7 6.987 2.087-2.086-6.987-7.001zm-8.402 0a6.293 6.293 0 01-6.3-6.302 6.293 6.293 0 016.3-6.3 6.293 6.293 0 016.302 6.3A6.293 6.293 0 019.1 15.403z"})))};var Tt;function Lt(){return Lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lt.apply(this,arguments)}const It=function(e){return be.az("svg",Lt({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Tt||(Tt=be.az("path",{d:"M7.5 2.25H3.675S0 2.25 0 6c0 2.925 2.25 6 2.25 6S.975 6.75 3.6 6.75h3.9V9L12 4.5 7.5 0v2.25z",fill:"currentColor",stroke:"#C4C4C4"})))};var Mt,Zt;function jt(){return jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jt.apply(this,arguments)}const Bt=function(e){return be.az("svg",jt({width:13,height:13,viewBox:"1.5 1 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Mt||(Mt=be.az("path",{d:"M13 1.25H6.75c-.69 0-1.25.56-1.25 1.25V5H3c-.69 0-1.25.56-1.25 1.25v6.25c0 .69.56 1.25 1.25 1.25h6.25c.69 0 1.25-.56 1.25-1.25V10H13c.69 0 1.25-.56 1.25-1.25V2.5c0-.69-.56-1.25-1.25-1.25zM3 12.5V6.25h6.25l.001 6.25H3zm10-3.75h-2.5v-2.5C10.5 5.56 9.94 5 9.25 5h-2.5V2.5H13v6.25z",fill:"currentColor"})),Zt||(Zt=be.az("path",{d:"M4.25 7.5H8v1.25H4.25V7.5zm0 2.5H8v1.25H4.25V10z",fill:"currentColor"})))};var Ht;function Vt(){return Vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vt.apply(this,arguments)}const Ft=function(e){return be.az("svg",Vt({xmlns:"http://www.w3.org/2000/svg",width:22,height:20,viewBox:"0 0 22 20"},e),Ht||(Ht=be.az("path",{d:"M.5 8.5V8l-.5.5h.5zm3 0H4L3.5 8v.5zm0 11v.5l.5-.5h-.5zm-3 0H0l.5.5v-.5zm0 0v-11h3v11h-3zm21-10.529A1.506 1.506 0 0020 7.5h-6.925l.125-.602.942-4.515.028-.273c0-.265-.108-.521-.292-.705l-.706-.7-6.233 6.243C6.659 7.221 6.5 7.595 6.5 8v10c0 .824.676 1.5 1.5 1.5h9c.611 0 1.15-.363 1.38-.917l3.014-7.035c.071-.18.106-.36.106-.548V9.297l-.036-.036.036-.29z",fill:"currentColor",stroke:"#C4C4C4"})))};var Dt;function zt(){return zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zt.apply(this,arguments)}const Ut=function(e){return be.az("svg",zt({xmlns:"http://www.w3.org/2000/svg",width:23,height:20,viewBox:"0 0 23 20"},e),Dt||(Dt=be.az("path",{d:"M1.133 1.238H19.6m-18.241 6h8.347M1 13h21M1.13 18.238h17.254",fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeWidth:2})))};var qt;function $t(){return $t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$t.apply(this,arguments)}const Wt=function(e){return be.az("svg",$t({width:16,height:16,viewBox:"0 0 512 512",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),qt||(qt=be.az("path",{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"})))};var Yt;function Jt(){return Jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jt.apply(this,arguments)}const Gt=function(e){return be.az("svg",Jt({width:18,height:19,viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Yt||(Yt=be.az("path",{d:"M15.75 7.578a.562.562 0 01-1.125 0V4.436L9.961 9.101a.563.563 0 01-.796-.796L13.83 3.64h-3.142a.562.562 0 110-1.125h4.5a.562.562 0 01.563.563v4.5zm-2.813 1.687a.562.562 0 00-.562.563v5.062h-9v-9h5.063a.563.563 0 100-1.125H3.375A1.125 1.125 0 002.25 5.89v9a1.125 1.125 0 001.125 1.125h9A1.125 1.125 0 0013.5 14.89V9.828a.563.563 0 00-.563-.563z",fill:"#292F36"})))};var Kt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Qt=e=>{var{className:t}=e,n=Kt(e,["className"]);return nt(Object.assign({className:Ce()(He,t)},n))},Xt=e=>{var{className:t}=e,n=Kt(e,["className"]);return it(Object.assign({className:Ce()(Ve,t)},n))},en={Plus:e=>{var{className:t}=e,n=Kt(e,["className"]);return Je(Object.assign({className:Ce()(Me,t)},n))},Minus:e=>{var{className:t}=e,n=Kt(e,["className"]);return Qe(Object.assign({className:Ce()(Ze,t)},n))},Helpful:Qt,Unhelpful:Xt,CheckMark:e=>{var{type:t,inOneLine:n,className:r}=e,a=Kt(e,["type","inOneLine","className"]);if(![$e,qe].includes(t))return null;const s=n?Be:je;return xe(t===$e?Qt:Xt,Object.assign({className:Ce()(s,r)},a))},Cross:e=>{var{className:t}=e,n=Kt(e,["className"]);return ct(Object.assign({className:Ce()(Fe,t)},n))},CancelCross:e=>{var{className:t}=e,n=Kt(e,["className"]);return ft(Object.assign({className:Ce()(ze,t)},n))},CrossWithCircle:e=>{var{className:t}=e,n=Kt(e,["className"]);return pt(Object.assign({className:Ce()(De,t)},n))},FeefoLogo:e=>{var{className:t}=e,n=Kt(e,["className"]);return wt(Object.assign({className:Ce()(t)},n))},FeefoLogoBlack:e=>{var{className:t}=e,n=Kt(e,["className"]);return Pt(Object.assign({className:Ce()(t)},n))},FeefoLogoWhiteYellow:e=>{var{className:t}=e,n=Kt(e,["className"]);return At(Object.assign({className:Ce()(t)},n))},Search:e=>{var{className:t}=e,n=Kt(e,["className"]);return Rt(Object.assign({className:Ce()(Ue,t)},n))},ChatBubbleWithDots:e=>{var{className:t}=e,n=Kt(e,["className"]);return Wt(Object.assign({className:Ce()(t)},n))},Share:e=>{var{className:t}=e,n=Kt(e,["className"]);return It(Object.assign({className:Ce()(t)},n))},Thumb:e=>{var{className:t}=e,n=Kt(e,["className"]);return Ft(Object.assign({className:Ce()(t)},n))},List:e=>{var{className:t}=e,n=Kt(e,["className"]);return Ut(Object.assign({className:Ce()(t)},n))},Copy:e=>{var{className:t}=e,n=Kt(e,["className"]);return Bt(Object.assign({className:Ce()(t)},n))},ArrowOut:e=>{var{className:t}=e,n=Kt(e,["className"]);return Gt(Object.assign({className:Ce()(t)},n))}};var tn,nn,rn,an;!function(e){e[e.V1=10]="V1",e[e.V2=20]="V2"}(tn||(tn={})),function(e){e[e.V1=10]="V1",e[e.V2=20]="V2"}(nn||(nn={})),function(e){e[e.V1=10]="V1",e[e.V2=20]="V2"}(rn||(rn={})),function(e){e[e.V1=10]="V1",e[e.V2=20]="V2"}(an||(an={}));const sn=({ElementBuilder:e,builder:t,params:n,version:r})=>{const a=(0,Ee.sO)(null),s=(0,Ee.sO)(null),[i,o]=Ie(),l=(0,Ee.I4)((()=>{for(const[e,t]of Object.entries(n))a.current.setAttribute(e,t)}),[n]),c=(0,Ee.I4)((e=>{"Escape"===e.key&&d()}),[]),d=(0,Ee.I4)((()=>{t.hide(s.current.selectedBuilder),window.removeEventListener("beforeunload",d),document.removeEventListener("keydown",c)}),[t,c]),u=(0,Ee.I4)((()=>{window.addEventListener("beforeunload",d),document.addEventListener("keydown",c)}),[d,c]),h=(0,Ee.I4)((()=>{try{const e=s.current.lightboxCloseContainer();if(e){const t="Close this review window",n=xe(en.Cross,{className:Se,title:t}),r=document.createElement("button");(0,we.sY)(n,r),r.title=t,r.className=Re,r.addEventListener("click",d),e.appendChild(r),e.classList.add(Te)}}catch(e){console.error(e)}}),[d]);return(0,Ee.d4)((()=>{l(),s.current=new e({element:a.current,parentBuilder:t,loader:t.loader}),s.current.connect(t.loader.services).then(h),u()}),[l,h,t,e,u]),xe("div",{className:Ce()(ke,o),ref:i,"data-e2e-lightbox-container":"true",children:[xe("div",{className:Ne,onClick:d}),xe("div",{className:Ce()(Ae,r!==an.V2?Oe:""),children:xe("div",{ref:a})})]})},on="TABBED",ln="LIGHTBOX",cn="product",dn=({widgetVariant:e,widgetVersions:t,mode:n})=>{if(!t)return;let r;return r=e.includes(ln)&&e.includes(on)?t.lightBoxBoth:e.includes(on)?t.onPageBoth:n===cn?t.onPageProduct:t.onPageService,r};var un=["second","minute","hour","day","week","month","year"];var hn=["","","","","","",""];var pn={},mn=function(e,t){pn[e]=t},vn=[60,60,24,7,365/7/12,12];function fn(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}var gn=function(e,t,n){var r=function(e,t){return(+(t?fn(t):new Date)-+fn(e))/1e3}(e,n&&n.relativeDate);return function(e,t){for(var n=e<0?1:0,r=e=Math.abs(e),a=0;e>=vn[a]&&a<vn.length;a++)e/=vn[a];return(e=Math.floor(e))>(0==(a*=2)?9:1)&&(a+=1),t(e,a,r)[n].replace("%s",e.toString())}(r,function(e){return pn[e]||pn.en_US}(t))};mn("en_US",(function(e,t){if(0===t)return["just now","right now"];var n=un[Math.floor(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]})),mn("zh_CN",(function(e,t){if(0===t)return["",""];var n=hn[~~(t/2)];return[e+" "+n+"",e+" "+n+""]}));const _n=be.ZP.createContext(void 0),bn=()=>{const{builder:e}=(0,be.qp)(_n);return e},wn=()=>bn().loader.getLocale().replace("_","-"),yn=e=>t=>gn(t,e),xn=()=>{const e=wn();return yn(e)},En=(e,t="")=>e.filter(Boolean).join(t),Pn=()=>crypto.randomUUID();class Cn{constructor(e){this.builder=e}register(){const e=this._event("reevoo_element_trk_register",{builder:this.builder});window.dispatchEvent(e)}dispatch(e,t){const n=this._event(e,t);this._dispatchEvent(n)}_event(e,t){return new CustomEvent(e,{detail:t})}dispatchState(e){this.dispatch(e)}dispatchInteraction(e,t){this.dispatch("reevoo_element_ui_event",{type:e,data:t})}_dispatchEvent(e){this.builder.element().dispatchEvent(e)}}class kn{constructor({element:e,parentBuilder:t,loader:n}){this._element=e,this._parentBuilder=t,this.loader=n,this._params=this.defaultParams(),this.rendersCount=t?t.rendersCount:0,this.eventsHelper=new Cn(this),this.instanceId=Pn()}lightboxCloseContainer(){throw new Error("NOT IMPLEMENTED")}element(){return this._element}connect(e){return e||(e=this.loader.services),this.eventsHelper.register(),this.setOptions(),this.resolvePromises(this.dependencies(e))}mappedPromises(e){return Object.entries(e).map((([e,t])=>t.then((t=>[e,t])).catch((t=>[e,t]))))}resolvePromises(e){return Promise.all(this.mappedPromises(e)).then((e=>{const t=e.filter((([,e])=>e instanceof Error));return Object.keys(t).length>0?this.connectErrorHandler(t):this.connectHandler(Object.fromEntries(e))})).catch((e=>this.connectErrorHandler(e)))}paramsFetcher(){return void 0===this._paramsFetcher&&(this._paramsFetcher=new(this.paramsFetcherClass())({element:this.element(),builder:this})),this._paramsFetcher}defaultParams(){return{}}getParam(e){return this._params[e]}connectHandler(e){throw new Error(V)}connectErrorHandler(e){return console.error(this.constructor.name,e),e}setOptions(){}dependencies(e){throw new Error(V)}build(e){throw new Error(V)}paramsFetcherClass(){throw new Error(V)}track(e,t={}){throw new Error(V)}tracking(){throw new Error(V)}_trackingEventDetails(e){throw new Error(V)}eventDetails(e,t){throw new Error(V)}isInLightbox(){return!!this._parentBuilder&&this._parentBuilder.isInLightbox()}isInSlideOut(){return!!this._parentBuilder&&this._parentBuilder.isInSlideOut()}widgetName(e=""){const t=e&&`-${e}`,n=this.name;return this._parentBuilder?this._parentBuilder.widgetName(`${n}${t}`):`${n}${t}`}container(){throw new Error(V)}updateRequestParams(e){throw new Error(V)}load(){throw new Error(V)}beforeRender(e){var t,n;t=this.loader.getLocale(),n=this.loader.i18n,mn(t,((e,t)=>[[n.get("justNow"),"right now"],[n.get("secondsAgo"),"in %s seconds"],[n.get("minuteAgo"),"in 1 minute"],[n.get("minutesAgo"),"in %s minutes"],[n.get("hourAgo"),"in 1 hour"],[n.get("hoursAgo"),"in %s hours"],[n.get("dayAgo"),"in 1 day"],[n.get("daysAgo"),"in %s days"],[n.get("weekAgo"),"in 1 week"],[n.get("weeksAgo"),"in %s weeks"],[n.get("monthAgo"),"in 1 month"],[n.get("monthsAgo"),"in %s months"],[n.get("yearAgo"),"in 1 year"],[n.get("yearsAgo"),"in %s years"]][t]))}getWidgetVariant(e){const t=this._parentBuilder;return t&&t.getWidgetVariant?En([t.getWidgetVariant(this.widgetVariant),e],"_"):En([this.widgetVariant,e],"_")}isTranslationsEnabled(){return!1}closeLightbox(){throw new Error(V)}shouldDisplayImportedReviews(){return this.loader.settings.widget_preferences.display_imported_reviews||!1}}class Nn{constructor(e){this.element=e}container(){if(this.containerElement&&this.containerElement.isConnected)return this.containerElement;const e=document.createElement("div");return this.element.append(e),this.containerElement=e.attachShadow({mode:"open"}),this.containerElement}getElement(){return this.container()}}class An extends kn{constructor({element:e,parentBuilder:t,loader:n}){super({element:e,parentBuilder:t,loader:n}),this.shadowDomService=new Nn(e)}paramsFetcherClass(){return this.loader.paramsFetcherClass}container(){return this.shadowEnabled()?this.shadowDomService.container():this.element()}shadowEnabled(){return!this._parentBuilder}track(e,t={}){const n=this.feefoTrackingAdapter();n&&n.track(e,this.trackingEventDetails(e,t))}trackingEventDetails(e,t){const n=this.paramsFetcher().fetch({merchantIdentifier:"merchantId",productSku:"productSku",parentSku:"parentProductSku",locale:"locale",merchantSlug:"merchantIdentifier"}),r={widgetInstance:`REEVOO-${this.widgetName()}`,instanceId:this.instanceId,eventType:e,eventData:Object.assign(Object.assign(Object.assign({},t),{reviewData:this.reviewsData}),this.qaaData?{qaaData:this.qaaData}:{})};return Object.entries(n).forEach((([e,t])=>{t&&(r[e]=t)})),r}tracking(){return this.loader.tracking}feefoTrackingAdapter(){return this.loader.feefoTrackingAdapter}}const On=()=>{var e;const t=bn();return null===(e=null==t?void 0:t.loader)||void 0===e?void 0:e.i18n},Sn="n_ah",Rn="n_bg bc_mo bc_mb",Tn=()=>{const e=On();return be.ZP.createElement("div",{className:Sn},be.ZP.createElement("p",{className:Rn},e.get("noReviews")))},Ln=({builder:e})=>{be.ZP.render(be.ZP.createElement(_n.Provider,{value:{builder:e}},be.ZP.createElement(Tn,null)),e.reactContainer()??e.container())},In=e=>Array.isArray(e),Mn=e=>{if((e=>e===Object(e)&&!In(e)&&"function"!=typeof e)(e)){const t={};return Object.keys(e).forEach((n=>{var r;t[(r=n,r.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace("-","").replace("_",""))))]=Mn(e[n])})),t}if(In(e)){return e.map((e=>Mn(e)))}return e},Zn="LOADED",jn="CLICKED",Bn="VIEWED",Hn="Translate Review",Vn="Pagination item",Fn="Demographics Option",Dn="Tab",zn="Sort";class Un extends An{connectHandler(e){this.render(e)}connectErrorHandler(e){super.connectErrorHandler(e)}lightboxCloseContainer(){if(this._lightboxCloseContainer)return this._lightboxCloseContainer;const e=document.createElement("div");e.style.height="45px",e.style.backgroundColor="white",e.style.boxShadow="0 2px 2px rgba(0,0,0,0.1)",e.style.zIndex=100;const t=this.element().parentElement;return t.insertBefore(e,t.firstChild),this._lightboxCloseContainer=e,this._lightboxCloseContainer}render({summary:e,questions:t,productSummary:n}){if(!this.serviceEnabled())return console.error("You must have the Questions and Answers service enabled."),void this.renderServiceDisabled();const r=this.responseAdapter.adapt({summary:e,questions:t,productSummary:n,builder:this});this.shouldRender(r)||this.rendered?(this.component({content:Mn(r),builder:this}),this.rendered||(this.reviewsData={reviewsCount:e.meta?.count,avgRating:e.rating?.rating},this.qaaData=r.body.meta.total?{questionCount:r.body.meta.total}:void 0,this.track(Zn),this.eventsHelper.dispatchState("ready")),this.rendered=!0):this.renderNoReviews()}renderNoReviews(){Ln({builder:this})}renderServiceDisabled(){(({builder:e})=>{be.ZP.render(be.ZP.createElement(_n.Provider,{value:{builder:e}},be.ZP.createElement(be.ZP.Fragment,null)),e.reactContainer()??e.container())})({builder:this})}updateRequestParams(e){this._params={...this._params,...e}}defaultParams(){return{locale:this.loader.getLocale()}}reactContainer(){const e=this.container();let t=e.querySelector("div");return t||(t=document.createElement("div"),e.append(t),t)}load(){return this.connect(this.loader.services)}shadowEnabled(){return!this.isInLightbox()&&!this._parentBuilder}serviceEnabled(){return this.loader.settings.widget_preferences.qaa_enabled}}const qn="ab_ct undefined",$n="ab_cu bc_lv bc_mb bc_me",Wn="ab_cv",Yn="ab_cw",Jn="ab_cx",Gn="ab_cy",Kn="ab_cz",Qn="ab_ea",Xn="ab_eb",er="ab_ec",tr="ab_ee",nr="ab_ef",rr="ab_eg",ar=be.ZP.createContext(),sr=be.ZP.lazy((()=>a.e(692).then(a.bind(a,904)).then((e=>({default:e.AAEQuestionDisplay}))))),ir=({context:e})=>{const t=(0,be.qp)(e),{body:{questions:n,productSummary:r,meta:{total:a}},builder:s}=t,i=s.paramsFetcher().parentProductSku()||s.paramsFetcher().productSku();return be.ZP.createElement(be.n4,{fallback:be.ZP.createElement("div",null,"Loading...")},be.ZP.createElement(sr,{total:a,shadowProps:{id:"feefo-display-container"},darkBanner:{product:be.ZP.createElement("span",null,"Got a question? Our Experts are on hand to answer any questions you may have about ",be.ZP.createElement("b",null,r?.title??i),". Simply send us a message and we'll get back to you as soon as possible.")},questions:n}))},or=e=>{const[t,n]=(0,be.eJ)(void 0),r=(0,be.I4)((()=>{const t=setTimeout((()=>{e.track(Bn)}),5e3);n(t)}),[e]),a=(0,be.I4)((()=>{clearTimeout(t),n(void 0)}),[t]);return{startTrackTimer:r,timerId:t,clearTrackTimer:a}};class lr{constructor(){const e={root:document.querySelector("null"),rootMargin:"0px",threshold:.2};this.observer=new IntersectionObserver((e=>{e.forEach((e=>{const{isIntersecting:t}=e;this.cb(t)}))}),e)}observe(e,t){this.cb=t,this.observer.observe(e)}unobserve(e){this.observer.unobserve(e)}}const cr=({element:e,cb:t})=>{const n=(0,be.Ye)((()=>new lr),[]);e&&(n.unobserve(e),n.observe(e,t))},dr=(e,t=500)=>{let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout((()=>{e.apply(void 0,r)}),t)}},ur=({children:e,builder:t})=>{const n=(0,be.sO)(),[,r]=(0,be.eJ)(1),a=((e,t=500)=>dr(e,t))((()=>{t.track(jn)}),500),{startTrackTimer:s,timerId:i,clearTrackTimer:o}=or(t),l=(0,be.I4)((e=>{e&&!i?s():!e&&i&&o()}),[o,s,i]);(0,be.d4)((()=>{r((e=>e+1))}),[]),cr({element:n.current,cb:l}),(0,be.bt)((()=>{n.current.style.setProperty("display","block","important")}),[]);return be.ZP.createElement("div",{"data-testid":"event-tracker-wrapper",ref:n,onKeyUp:()=>{},onClick:()=>{try{a()}catch(e){console.error(e.message)}}},e)},hr=({builder:e,content:t})=>{be.ZP.render(be.ZP.createElement(ur,{builder:e},be.ZP.createElement(_n.Provider,{value:{builder:e}},be.ZP.createElement(ar.Provider,{value:{...t,builder:e}},be.ZP.createElement(ir,{context:ar})))),e.reactContainer())};class pr{adapt(e){return null==e?void 0:e.map((e=>({content:e.content,avatar:e.avatar,responder_name:e.responder_name,created_at:e.created_at,responder_email:e.responder_email})))}}class mr{constructor(){this.answerAdapter=new pr}adapt(e){return{id:e.id,requester_name:e.requester_name,content:e.content,created_at:e.created_at,answers:this.answerAdapter.adapt(e.answers),media:e.media}}}class vr{constructor({questionAdapterClass:e}){this.questionAdapterClass=e}adapt(e){return this.questionAdapter=new this.questionAdapterClass(e),{body:this._body(e)}}_body({questions:e,productSummary:t}){return{questions:this._adaptQuestions(e),meta:{total:e?.meta.total},productSummary:{title:t?.title}}}_adaptQuestions(e){return e?.questions?.map((e=>this._adaptQuestion(e)))}_adaptQuestion(e){return this.questionAdapter.adapt(e)}}class fr extends Un{constructor({element:e,parentBuilder:t,loader:n}){super({element:e,parentBuilder:t,loader:n}),this.responseAdapter=new vr({questionAdapterClass:mr}),this.component=hr,this.name="QUESTION_DISPLAY_BUILDER"}dependencies({productReviewsSummary:e,productSkuInformation:t,questions:n,widgetsStyles:r,themeVars:a}){return this.serviceEnabled()?{summary:e.load(this.paramsFetcher(),{silentFail:!0}),productSummary:t.load(this.paramsFetcher(),{silentFail:!0}),questions:n.load(this.paramsFetcher()),widgetsStyles:r.load({},this.container()),themeVars:a.load({},this.container())}:{}}defaultParams(){return{...super.defaultParams(),demographics:"include"}}container(){const e=super.container();return(this.shadowEnabled?e.getRootNode().host:e).setAttribute("id","feefo-display-container"),e}shouldRender(e){const t=!e.body.questions||e.body.meta.total<this.minQuestionsForRender();return t&&console.error("Not enough questions to render"),!t}minQuestionsForRender(){return 1}}class gr{adaptSinglePhoto(e){var t;return{uuid:e.id,caption:e.caption,imageUrl:e.url,thumbnailUrl:null!==(t=e.thumbnail)&&void 0!==t?t:e.carouselUrl,type:e.type,helpfulVotes:e.helpful_votes}}adapt(e){return null==e?void 0:e.map((e=>this.adaptSinglePhoto(e)))}}var _r=Object.prototype.toString,br=Array.isArray||function(e){return"[object Array]"===_r.call(e)};function wr(e){return"function"==typeof e}function yr(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function xr(e,t){return null!=e&&"object"==typeof e&&t in e}var Er=RegExp.prototype.test;var Pr=/\S/;function Cr(e){return!function(e,t){return Er.call(e,t)}(Pr,e)}var kr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var Nr=/\s*/,Ar=/\s+/,Or=/\s*=/,Sr=/\s*\}/,Rr=/#|\^|\/|>|\{|&|=|!/;function Tr(e){this.string=e,this.tail=e,this.pos=0}function Lr(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function Ir(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}Tr.prototype.eos=function(){return""===this.tail},Tr.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},Tr.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},Lr.prototype.push=function(e){return new Lr(e,this)},Lr.prototype.lookup=function(e){var t,n,r,a=this.cache;if(a.hasOwnProperty(e))t=a[e];else{for(var s,i,o,l=this,c=!1;l;){if(e.indexOf(".")>0)for(s=l.view,i=e.split("."),o=0;null!=s&&o<i.length;)o===i.length-1&&(c=xr(s,i[o])||(n=s,r=i[o],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(r))),s=s[i[o++]];else s=l.view[e],c=xr(l.view,e);if(c){t=s;break}l=l.parent}a[e]=t}return wr(t)&&(t=t.call(this.view)),t},Ir.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},Ir.prototype.parse=function(e,t){var n=this.templateCache,r=e+":"+(t||Mr.tags).join(":"),a=void 0!==n,s=a?n.get(r):void 0;return null==s&&(s=function(e,t){if(!e)return[];var n,r,a,s=!1,i=[],o=[],l=[],c=!1,d=!1,u="",h=0;function p(){if(c&&!d)for(;l.length;)delete o[l.pop()];else l=[];c=!1,d=!1}function m(e){if("string"==typeof e&&(e=e.split(Ar,2)),!br(e)||2!==e.length)throw new Error("Invalid tags: "+e);n=new RegExp(yr(e[0])+"\\s*"),r=new RegExp("\\s*"+yr(e[1])),a=new RegExp("\\s*"+yr("}"+e[1]))}m(t||Mr.tags);for(var v,f,g,_,b,w,y=new Tr(e);!y.eos();){if(v=y.pos,g=y.scanUntil(n))for(var x=0,E=g.length;x<E;++x)Cr(_=g.charAt(x))?(l.push(o.length),u+=_):(d=!0,s=!0,u+=" "),o.push(["text",_,v,v+1]),v+=1,"\n"===_&&(p(),u="",h=0,s=!1);if(!y.scan(n))break;if(c=!0,f=y.scan(Rr)||"name",y.scan(Nr),"="===f?(g=y.scanUntil(Or),y.scan(Or),y.scanUntil(r)):"{"===f?(g=y.scanUntil(a),y.scan(Sr),y.scanUntil(r),f="&"):g=y.scanUntil(r),!y.scan(r))throw new Error("Unclosed tag at "+y.pos);if(b=">"==f?[f,g,v,y.pos,u,h,s]:[f,g,v,y.pos],h++,o.push(b),"#"===f||"^"===f)i.push(b);else if("/"===f){if(!(w=i.pop()))throw new Error('Unopened section "'+g+'" at '+v);if(w[1]!==g)throw new Error('Unclosed section "'+w[1]+'" at '+v)}else"name"===f||"{"===f||"&"===f?d=!0:"="===f&&m(g)}if(p(),w=i.pop())throw new Error('Unclosed section "'+w[1]+'" at '+y.pos);return function(e){for(var t,n=[],r=n,a=[],s=0,i=e.length;s<i;++s)switch((t=e[s])[0]){case"#":case"^":r.push(t),a.push(t),r=t[4]=[];break;case"/":a.pop()[5]=t[2],r=a.length>0?a[a.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],a=0,s=e.length;a<s;++a)(t=e[a])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(o))}(e,t),a&&n.set(r,s)),s},Ir.prototype.render=function(e,t,n,r){var a=this.getConfigTags(r),s=this.parse(e,a),i=t instanceof Lr?t:new Lr(t,void 0);return this.renderTokens(s,i,n,e,r)},Ir.prototype.renderTokens=function(e,t,n,r,a){for(var s,i,o,l="",c=0,d=e.length;c<d;++c)o=void 0,"#"===(i=(s=e[c])[0])?o=this.renderSection(s,t,n,r,a):"^"===i?o=this.renderInverted(s,t,n,r,a):">"===i?o=this.renderPartial(s,t,n,a):"&"===i?o=this.unescapedValue(s,t):"name"===i?o=this.escapedValue(s,t,a):"text"===i&&(o=this.rawValue(s)),void 0!==o&&(l+=o);return l},Ir.prototype.renderSection=function(e,t,n,r,a){var s=this,i="",o=t.lookup(e[1]);if(o){if(br(o))for(var l=0,c=o.length;l<c;++l)i+=this.renderTokens(e[4],t.push(o[l]),n,r,a);else if("object"==typeof o||"string"==typeof o||"number"==typeof o)i+=this.renderTokens(e[4],t.push(o),n,r,a);else if(wr(o)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(o=o.call(t.view,r.slice(e[3],e[5]),(function(e){return s.render(e,t,n,a)})))&&(i+=o)}else i+=this.renderTokens(e[4],t,n,r,a);return i}},Ir.prototype.renderInverted=function(e,t,n,r,a){var s=t.lookup(e[1]);if(!s||br(s)&&0===s.length)return this.renderTokens(e[4],t,n,r,a)},Ir.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),a=e.split("\n"),s=0;s<a.length;s++)a[s].length&&(s>0||!n)&&(a[s]=r+a[s]);return a.join("\n")},Ir.prototype.renderPartial=function(e,t,n,r){if(n){var a=this.getConfigTags(r),s=wr(n)?n(e[1]):n[e[1]];if(null!=s){var i=e[6],o=e[5],l=e[4],c=s;0==o&&l&&(c=this.indentPartial(s,l,i));var d=this.parse(c,a);return this.renderTokens(d,t,n,c,r)}}},Ir.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},Ir.prototype.escapedValue=function(e,t,n){var r=this.getConfigEscape(n)||Mr.escape,a=t.lookup(e[1]);if(null!=a)return"number"==typeof a&&r===Mr.escape?String(a):r(a)},Ir.prototype.rawValue=function(e){return e[1]},Ir.prototype.getConfigTags=function(e){return br(e)?e:e&&"object"==typeof e?e.tags:void 0},Ir.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!br(e)?e.escape:void 0};var Mr={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){Zr.templateCache=e},get templateCache(){return Zr.templateCache}},Zr=new Ir;Mr.clearCache=function(){return Zr.clearCache()},Mr.parse=function(e,t){return Zr.parse(e,t)},Mr.render=function(e,t,n,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+((br(a=e)?"array":typeof a)+'" was given as the first argument for mustache#render(template, view, partials)'));var a;return Zr.render(e,t,n,r)},Mr.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return kr[e]}))},Mr.Scanner=Tr,Mr.Context=Lr,Mr.Writer=Ir;const jr=Mr;class Br{constructor({builder:e,translations:t}){this.builder=e,this.photoAdapter=new gr,this.translations=t}_getImageUrl(e){var t;return`${this.builder.loader.settings.protocol}://${null===(t=this.builder.loader.settings.hosts)||void 0===t?void 0:t.api}/feedback-image/${e}`}adapt(e){var t,n;return e?{hasMore:e.hasMore,media:null===(t=e.resources)||void 0===t?void 0:t.map((e=>({photo:this.photoAdapter.adaptSinglePhoto(this._adaptMediaResourceToMediaItem(e)),review:this._adaptMediaGalleryReview(e)}))),totalText:jr.render(null!==(n=this.translations.nodes.node_photosAndVideos)&&void 0!==n?n:"{{number}} customer photos & videos",{number:e.totalSize})}:null}_adaptMediaResourceToMediaItem(e){var t,n;return{id:e.resourceId,carouselUrl:null!==(t=e.thumbnailUrl)&&void 0!==t?t:this._getImageUrl(e.carouselImageId),url:null!==(n=e.videoUrl)&&void 0!==n?n:this._getImageUrl(e.resourceId),type:"IMAGE"===e.mediaType?"PHOTO":"VIDEO",thumbnail:null,caption:e.caption,helpful_votes:e.yesHelpfulVotes}}_adaptMediaGalleryReview(e){return{id:e.feedbackId,saleId:e.saleId,reviewer:{name:e.sale.customerName,location:e.sale.customerLocation},publishDate:new Date(e.sale.feedbackDate).toISOString(),url:e.sale.reviewUrl}}adaptToThumbnailList(e){var t;return null===(t=null==e?void 0:e.media)||void 0===t?void 0:t.map((e=>({src:e.photo.thumbnailUrl,alt:e.photo.caption,isVideo:"VIDEO"===e.photo.type,id:e.photo.uuid})))}}class Hr{constructor(){this.versionsAdapter=new _e}adapt(e){throw new Error(V)}}class Vr extends Hr{adapt({builder:e,summary:t}){var n;const r=e.loader.settings.widget_preferences,a=e.loader.settings.widgetVersions;let s=!["cottages","awaze-vacation-rentals","hoseasons","novasol","novasol-at","novasol-be","novasol-com","novasol-de","novasol-dk","novasol-es","novasol-fr","novasol-hr","novasol-it","novasol-nl","novasol-no","novasol-pl","novasol-se"].includes(e.loader.settings.merchant_slug);s&&!e.loader.feefoSettings.displayCustomerUploadedMedia&&(s=!1);const i=a?this.versionsAdapter.adapt(a):void 0;return{topicsEnabled:r.product_on_page.topics_enabled,snippetsEnabled:r.product_on_page.snippets_enabled,showBrand:!0,showOlderReviews:!1,multiCountryRegionIsAvailable:!1,currentRegionIsMultiCountry:!1,olderReviewsAvailable:!1,flagsEnabled:r.flags_enabled||!1,translationsEnabled:r.translations_enabled||!1,starsEnabled:!0,starsInFacets:!1,scoresInFacets:!0,readAllUrl:(null===(n=t.product)||void 0===n?void 0:n.reviews_url)||(o=r.service_read_all_url,null==o?void 0:o.concat("?displayFeedbackType=PRODUCT")),serviceAwardLevel:r.service_award_level,serviceAwardExceptional:r.serviceAwardExceptional,showMedia:s,widgetVersions:i,locale:e.loader.getLocale(),treefoMerchant:r.treefoMerchant,displayTrustMarks:r.display_trust_marks,trustMarkIssuers:r.trustMarkIssuers||[]};var o}}class Fr{constructor({translations:e}){this.translations=e}adapt(){throw new Error(V)}}class Dr extends Fr{constructor({translations:e,summary:t}){super({translations:e}),this.summary=t}adapt(){var e;const t=null===(e=this.summary.demographics)||void 0===e?void 0:e.filterOptions.map((e=>[e,e]));return{show_scores:{show_text:this.translations.nodes.node_showAllScores,hide_text:this.translations.nodes.node_hideAllScores},default_sorter:"-updated_date",sort_text:this.translations.nodes.node_sortBy,sorters:[[this.translations.nodes.node_mostRecent,"-updated_date"],[this.translations.nodes.node_mostHelpfulLabel,"-helpful"],[this.translations.nodes.node_highestScore,"-rating"],[this.translations.nodes.node_lowestScore,"+rating"]],filter_all:this.translations.nodes.node_allPurchasers,filters_text:this.translations.nodes.node_reviewsFrom,filters:t}}}class zr{constructor({aggregationTranslations:e}){this.aggregationTranslations=e}adapt(e){var t;return null!==(t=null==e?void 0:e.map((e=>({name:this._translateWithFallback(e.name),score:parseFloat(e.rating.toString())}))))&&void 0!==t?t:[]}_translateWithFallback(e){var t,n,r;return(null===(r=null===(n=null===(t=this.aggregationTranslations)||void 0===t?void 0:t.nodes)||void 0===n?void 0:n[e])||void 0===r?void 0:r.translation)||e}}const Ur="scoreMap",qr="nodes",$r="-1",Wr="1",Yr="translation";class Jr{constructor({aggregationTranslations:e}){this.aggregationTranslations=e}adaptForHeader(e){if(!e)return;const t=[];return e.filter((e=>"SLIDER"===e.displayType)).forEach((e=>{var n,r;const{key:a,rating:s}=e,i=this.aggregationTranslations[qr],o=i[a],l=(null==o?void 0:o[Yr])||a,c=null==o?void 0:o[Ur],d=(null==c?void 0:c[$r])||$r,u=(null==c?void 0:c[Wr])||Wr,h=[(null===(n=null==i?void 0:i[d])||void 0===n?void 0:n[Yr])||d,(null===(r=null==i?void 0:i[u])||void 0===r?void 0:r[Yr])||u];l&&h&&void 0!==s&&t.push({name:l,value:s,options:h})})),t}adaptForReview(e){if(!e)return;const t=[];return e.forEach((e=>{var n,r;const{questionIdentifierKey:a,score:s}=e,i=this.aggregationTranslations.nodes,o=i[a],l=(null==o?void 0:o[Yr])||a,c=(null===(n=null==o?void 0:o[Ur])||void 0===n?void 0:n[s])||s,d=(null===(r=null==i?void 0:i[c])||void 0===r?void 0:r[Yr])||c;l&&d?t.push({name:l,value:d}):console.error("Review agg score value missing")})),t}adaptForSummaryCard(e){const t=null==e?void 0:e.find((e=>"FIT"===e.type));return t?[{score:t.rating,name:t.key}]:[]}}class Gr{constructor({summary:e,reviews:t,translations:n,builder:r,aggregationTranslations:a}){this.translations=n,this.reviews=t,this.summary=e,this.aggregationTranslations=a,this.builder=r}getListHeadings(){const e=!1===this.builder.loader.settings.widget_preferences.empty_reviews,t=this.summary.meta.count,n=this.summary.meta.with_content_count;let r=t>1?this.translations.nodes.node_reviewsCount:this.translations.nodes.node_oneReview,a="";return e&&(r=this.translations.nodes.node_commentsCount,a=t>1?this.translations.nodes.node_outOfReviews:this.translations.nodes.node_outOfReview),{listHeading:jr.render(r||"",{totalComments:null==n?void 0:n.toLocaleString(),totalReviews:null==t?void 0:t.toLocaleString()}),listSubheading:jr.render(a||"",{totalReviews:null==t?void 0:t.toLocaleString()})}}adapt(){throw new Error(V)}}class Kr extends Gr{constructor({summary:e,reviews:t,translations:n,aggregationTranslations:r,builder:a}){super({summary:e,reviews:t,translations:n,aggregationTranslations:r,builder:a}),this.facetsAdapter=new zr({aggregationTranslations:r}),this.aggregatableScoresAdapter=new Jr({aggregationTranslations:r})}adapt(){var e,t,n,r;const a=null===(e=this.summary.product)||void 0===e?void 0:e.title,s=!1===this.builder.loader.settings.widget_preferences.empty_reviews,i=this.translations.nodes[a?"node_reviewsVerifiedByFeefo":"node_verifiedReviewsByFeefo"],o=s?this.translations.nodes.node_totalRatingsAndReviews:this.translations.nodes.node_noOfReviews,l=this.summary.meta.count,c=this.summary.meta.with_content_count;return Object.assign({title:jr.render(i,{productName:a}),product_image:null===(t=this.summary.product)||void 0===t?void 0:t.image_url,show_product_image:!1,num_of_reviews:jr.render(o,{totalRatings:l,withReviews:c,number:l}),average_score:this.summary.rating.rating.toFixed(1),facets:this.facetsAdapter.adapt(this.summary.rating.product.attributes),aggregated_scores:this.aggregatableScoresAdapter.adaptForHeader(null===(r=null===(n=this.summary)||void 0===n?void 0:n.aggregatedScores)||void 0===r?void 0:r.scores)},this.getListHeadings())}}const Qr="_",Xr="-";function ea(e){if(!e)return e;if(e.includes(Qr)){return e.split(Qr)[0]}if(e.includes(Xr)){return e.split(Xr)[0]}return e}class ta{adapt(e){return e?.reduce(((e,t)=>(e.push(t.values[0]),e)),[])}}class na{constructor({summary:e,builder:t}){this.summary=e,this.builder=t}adapt(e){const t=["CUSTOMER_RERATE","CUSTOMER_ATTRIBUTE_RERATE","CUSTOMER_RETITLE"],n=this.builder.loader.settings,r=`${n.protocol}://${n.hosts.api}/merchant-image/`,a=null==e?void 0:e.filter((e=>!t.includes(e.type)));return null==a?void 0:a.map((e=>({response:e.comment,createdAt:e.created_at,respondent:{customName:e.author,displayName:e.author},organisation:{trkref:this.summary.merchant.identifier,name:this.summary.merchant.name,logo:r+this.summary.merchant.logo},type:e.type})))}}var ra;!function(e){e.product="PRODUCT",e.service="SERVICE"}(ra||(ra={}));class aa{constructor({translations:e,summary:t,builder:n,aggregationTranslations:r}){this.translations=e,this.fastResponsesAdapter=new na({summary:t,builder:n}),this.aggregationTranslations=r,this.photosAdapter=new gr}adapt(e){throw new Error(V)}}class sa{constructor({translations:e}){this.translations=e}adapt(e){return this.translations.nodes[(t=e,t>=4.7?"node_exceptional":t>=4?"node_excellentLabel":t>=3?"node_goodLabel":t>1.9?"node_poorLabel":"node_veryPoor")];var t}}class ia{constructor({aggregationTranslations:e,translations:t}){this.aggregationTranslations=e,this.ratingLabelAdapter=new sa({translations:t})}adapt(e){return null==e?void 0:e.map((e=>({attributeName:this._translateWithFallback(e.name),rating:parseFloat(e.rating.toString()),ratingDescriptor:this.ratingLabelAdapter.adapt(e.rating)})))}_translateWithFallback(e){var t,n,r;return(null===(r=null===(n=null===(t=this.aggregationTranslations)||void 0===t?void 0:t.nodes)||void 0===n?void 0:n[e])||void 0===r?void 0:r.translation)||e}}class oa extends aa{constructor({translations:e,summary:t,builder:n,aggregationTranslations:r}){super({translations:e,summary:t,builder:n,aggregationTranslations:r}),this.attributesAdapter=new ia({aggregationTranslations:r,translations:e}),this.facetsAdapter=new zr({aggregationTranslations:r}),this.photosAdapter=new gr,this.aggregatableScoresAdapter=new Jr({aggregationTranslations:r}),this.supplementaryInfoAdapter=new ta}adapt(e){var t,n,r,a,s,i,o;const l=null===(r=null===(n=null===(t=e.products[0])||void 0===t?void 0:t.custom)||void 0===n?void 0:n.find((({category:e})=>"DEMOGRAPHICS"===e)))||void 0===r?void 0:r.answer,c=null===(a=e.tags)||void 0===a?void 0:a.some((({key:e,values:t})=>"reevoolaunch"===e&&"1"===(null==t?void 0:t[0])));return{kind:ra.product,id:e.products[0].id,saleId:e.sale_id,overallScore:e.products[0].rating.rating,locale:e.locale,language:ea(e.locale),launchReview:c,reviewer:{segment:l,name:null===(s=e.customer)||void 0===s?void 0:s.display_name,location:null===(i=e.customer)||void 0===i?void 0:i.display_location},fastResponses:this.fastResponsesAdapter.adapt(e.products[0].thread)||[],publishDate:e.last_updated_date,text:e.products[0].review,translations:{launchReview:this.translations.nodes.node_productExchangeText},url:e.url,helpfulVotes:e.products[0].helpful_votes,photos:this.photosAdapter.adapt(e.products[0].media),facets:this.facetsAdapter.adapt(e.products[0].attributes),attributes:this.attributesAdapter.adapt(e.products[0].attributes),aggregatedScores:this.aggregatableScoresAdapter.adaptForReview(e.products[0].aggregatableScores),supplementaryInfo:this.supplementaryInfoAdapter.adapt(null===(o=e.tags)||void 0===o?void 0:o.filter((({key:e})=>"reevoolaunch"!==e)))}}}class la{constructor({summary:e,translations:t}){this.translations=t,this.summary=e,this.ratingLabelAdapter=new sa({translations:t})}generateRatingBreakdown(){return{one:0,two:0,three:0,four:0,five:0}}generateAttributes(){return[]}generateRatingTypeText(){}adapt(){var e;const t=this.summary.rating.rating;return{score:t.toFixed(1),descriptor:this.ratingLabelAdapter.adapt(t),scoreText:jr.render(null!==(e=this.translations.nodes.node_scoreOutOf)&&void 0!==e?e:"",{score:t,maxScore:"5"}),ratingBreakdown:this.generateRatingBreakdown(),attributes:this.generateAttributes(),ratingTypeText:this.generateRatingTypeText()}}}class ca extends la{constructor({summary:e,translations:t,aggregationTranslations:n}){super({summary:e,translations:t}),this.facetsAdapter=new zr({aggregationTranslations:n}),this.aggregatableScoresAdapter=new Jr({aggregationTranslations:n})}generateRatingBreakdown(){const e=this.summary.rating.product;return{one:e["1_star"],two:e["2_star"],three:e["3_star"],four:e["4_star"],five:e["5_star"]}}generateAttributes(){var e;const t=[...this.facetsAdapter.adapt(this.summary.rating.product.attributes),...this.aggregatableScoresAdapter.adaptForSummaryCard(null===(e=this.summary.aggregatedScores)||void 0===e?void 0:e.scores)];if(t)return t.map((e=>Object.assign(Object.assign({},e),{descriptor:this.ratingLabelAdapter.adapt(e.score)})))}generateRatingTypeText(){return this.translations.nodes.node_productRatingLabel}}class da{constructor({translations:e}){this.translationsResponse=e}adapt(){throw new Error(V)}_adaptCommonTranslations(){var e,t,n,r,a,s,i,o,l,c,d,u,h,p,m,v,f,g,_,b,w,y,x,E,P,C,k,N,A,O,S,R,T,L,I,M,Z,j,B,H,V,F,D,z,U,q,$,W,Y,J,G,K;return{verified:this.translationsResponse.nodes.node_verified,publishedOn:this.translationsResponse.nodes.node_publishedOn,noComment:this.translationsResponse.nodes.node_noReviewsYet,noReviews:this.translationsResponse.nodes.node_noReviewsYet,searchNoReviews:this.translationsResponse.nodes.node_noReviewsYet,searchNoResult:this.translationsResponse.nodes.node_noReviewsYet,linkCopied:this.translationsResponse.nodes.node_linkCopied,shareLabel:this.translationsResponse.nodes.node_shareLabel,readMore:this.translationsResponse.nodes.node_readMore,seeLess:this.translationsResponse.nodes.node_readLess,showScores:this.translationsResponse.nodes.node_showScores,hideScores:this.translationsResponse.nodes.node_hideScores,talkingAbout:this.translationsResponse.nodes.node_whatPeopleTalkingAbout,backlinksText:this.translationsResponse.nodes.node_readAllReviews,cancelLabel:this.translationsResponse.nodes.node_cancelLabel,atAGlance:this.translationsResponse.nodes.node_atAGlance,thankYou:this.translationsResponse.nodes.node_thankYou,yes:this.translationsResponse.nodes.node_yes,no:this.translationsResponse.nodes.node_no,pagination:{next:this.translationsResponse.nodes.node_nextLabel,previous:this.translationsResponse.nodes.node_previousLabel,truncate:null},doesSnippetTalkPositiveAboutService:this.translationsResponse.nodes.node_doesSnippetTalkPositiveAboutService,translate:this.translationsResponse.nodes.node_translate,showOriginal:this.translationsResponse.nodes.node_showOriginal,translateUsingGoogleTranslate:null!==(e=this.translationsResponse.nodes.node_translateUsingGoogleTranslate)&&void 0!==e?e:"Translate using Google Translate",justNow:null!==(t=this.translationsResponse.nodes.node_justNow)&&void 0!==t?t:"just now",secondsAgo:null!==(n=this.translationsResponse.nodes.node_secondsAgo)&&void 0!==n?n:"%s seconds ago",minuteAgo:null!==(r=this.translationsResponse.nodes.node_minuteAgo)&&void 0!==r?r:"1 minute ago",minutesAgo:null!==(a=this.translationsResponse.nodes.node_minutesAgo)&&void 0!==a?a:"%s minutes ago",hourAgo:null!==(s=this.translationsResponse.nodes.node_hourAgo)&&void 0!==s?s:"1 hour ago",hoursAgo:null!==(i=this.translationsResponse.nodes.node_hoursAgo)&&void 0!==i?i:"%s hours ago",dayAgo:null!==(o=this.translationsResponse.nodes.node_dayAgo)&&void 0!==o?o:"1 day ago",daysAgo:null!==(l=this.translationsResponse.nodes.node_daysAgo)&&void 0!==l?l:"%s days ago",weekAgo:null!==(c=this.translationsResponse.nodes.node_weekAgo)&&void 0!==c?c:"1 week ago",weeksAgo:null!==(d=this.translationsResponse.nodes.node_weeksAgo)&&void 0!==d?d:"%s weeks ago",monthAgo:null!==(u=this.translationsResponse.nodes.node_monthAgo)&&void 0!==u?u:"1 month ago",monthsAgo:null!==(h=this.translationsResponse.nodes.node_monthsAgo)&&void 0!==h?h:"%s months ago",yearAgo:null!==(p=this.translationsResponse.nodes.node_yearAgo)&&void 0!==p?p:"1 year ago",yearsAgo:null!==(m=this.translationsResponse.nodes.node_yearsAgo)&&void 0!==m?m:"%s years ago",treefoLabel:null!==(v=this.translationsResponse.nodes.node_treefoCaption)&&void 0!==v?v:"Turning reviews into forests",treefoLearnLabel:null!==(f=this.translationsResponse.nodes.node_treefoLink)&&void 0!==f?f:"Learn about Treefo",ecoLearnLabel:null!==(g=this.translationsResponse.nodes.node_ecolabelLink)&&void 0!==g?g:"Learn about Feefo Ecolabels",viewMoreEcoLabel:null!==(_=this.translationsResponse.nodes.node_ecoViewMoreLabel)&&void 0!==_?_:"View more Feefo Ecolabels",viewLessEcoLabel:null!==(b=this.translationsResponse.nodes.node_ecoViewLessLabel)&&void 0!==b?b:"View less Feefo Ecolabels",tsaLearnLabel:null!==(w=this.translationsResponse.nodes.node_tsaLink)&&void 0!==w?w:"Learn about Trusted Service Awards",awardLevelLabel:null!==(y=this.translationsResponse.nodes.node_awardLevelLabel)&&void 0!==y?y:"Winner of {{award}} Trusted Service Award",awards:null!==(x=this.translationsResponse.nodes.node_awards)&&void 0!==x?x:"Awards",starCount:null!==(E=this.translationsResponse.nodes.node_starCount)&&void 0!==E?E:"{{count}} Stars",showReplies:this.translationsResponse.nodes.node_showReplies,hideReplies:this.translationsResponse.nodes.node_hideReplies,ratingCount:null!==(P=this.translationsResponse.nodes.node_ratingCount)&&void 0!==P?P:"{{count}} ratings",allRatings:null!==(C=this.translationsResponse.nodes.node_allRatings)&&void 0!==C?C:"All ratings",singleStar:null!==(k=this.translationsResponse.nodes.node_singleStar)&&void 0!==k?k:"1 star",mostRecent:null!==(N=this.translationsResponse.nodes.node_mostRecent)&&void 0!==N?N:"Most recent",lowestRated:null!==(A=this.translationsResponse.nodes.node_lowestRated)&&void 0!==A?A:"Highest rated",highestRated:null!==(O=this.translationsResponse.nodes.node_highestRated)&&void 0!==O?O:"Lowest rated",verifiedCustomerLabel:this.translationsResponse.nodes.node_verifiedCustomerLabel,trustedCustomer:this.translationsResponse.nodes.node_trustedCustomer,helpful:null!==(S=this.translationsResponse.nodes.node_helpful)&&void 0!==S?S:"Helpful",copyrightMaterialText:null!==(R=this.translationsResponse.nodes.node_copyrightMaterialText)&&void 0!==R?R:"Copyright Material",duplicateText:null!==(T=this.translationsResponse.nodes.node_duplicateText)&&void 0!==T?T:"Duplicate",lowQualityText:null!==(L=this.translationsResponse.nodes.node_lowQualityText)&&void 0!==L?L:"Low Quality",irrelevantText:null!==(I=this.translationsResponse.nodes.node_irrelevantText)&&void 0!==I?I:"Irrelevant",notFamilyFriendlyText:null!==(M=this.translationsResponse.nodes.node_notFamilyFriendlyText)&&void 0!==M?M:"Not Family Friendly",otherText:null!==(Z=this.translationsResponse.nodes.node_otherText)&&void 0!==Z?Z:"Other",promotionalNotOriginalText:null!==(j=this.translationsResponse.nodes.node_promotionalNotOriginalText)&&void 0!==j?j:"Promotional/Not Original",wrongLocationText:null!==(B=this.translationsResponse.nodes.node_wrongLocationText)&&void 0!==B?B:"Wrong Location",flagAsInappropriate:null!==(H=this.translationsResponse.nodes.node_flagAsInappropriate)&&void 0!==H?H:"Flag as inappropriate",thanksAppreciateFeedbackText:null!==(V=this.translationsResponse.nodes.node_thanksAppreciateFeedbackText)&&void 0!==V?V:"Thank you, we appreciate your feedback.",photosAndVideos:null!==(F=this.translationsResponse.nodes.node_photosAndVideos)&&void 0!==F?F:"{{number}}  customer photos & videos",sizing:null!==(D=this.translationsResponse.nodes.node_sizing)&&void 0!==D?D:"Sizing",small:null!==(z=this.translationsResponse.nodes.node_small)&&void 0!==z?z:"Small",trueSize:null!==(U=this.translationsResponse.nodes.node_trueSize)&&void 0!==U?U:"True size",large:null!==(q=this.translationsResponse.nodes.node_large)&&void 0!==q?q:"Large",aiOverview:null!==($=this.translationsResponse.nodes.node_aiOverview)&&void 0!==$?$:"AI Overview",reviews:null!==(W=this.translationsResponse.nodes.node_reviews)&&void 0!==W?W:"Reviews",noOfReviews:null!==(Y=this.translationsResponse.nodes.node_noOfReviews)&&void 0!==Y?Y:"{{number}} reviews",compactPageCount:null!==(J=this.translationsResponse.nodes.node_compactPageCount)&&void 0!==J?J:"{{currentPage}} of {{totalPages}}",viewRatingBreakdown:null!==(G=this.translationsResponse.nodes.node_viewRatingBreakdown)&&void 0!==G?G:"View rating breakdown",hideRatingBreakdown:null!==(K=this.translationsResponse.nodes.node_hideRatingBreakdown)&&void 0!==K?K:"Hide rating breakdown"}}}class ua extends da{adapt(){return Object.assign(Object.assign({},this._adaptCommonTranslations()),{viewAllProductAttributes:this.translationsResponse.nodes.node_viewAllProductAttributes,hideProductAttributes:this.translationsResponse.nodes.node_hideProductAttributes})}}const ha="f_af",pa="f_w",ma=(0,be.kr)({isLoading:!1,setIsLoading:()=>{}}),va=({children:e})=>{const[t,n]=(0,be.eJ)(!1),r=(0,be.Ye)((()=>({isLoading:t,setIsLoading:n})),[t,n]);return xe(ma.Provider,{value:r,children:e})},fa=({visible:e,className:t})=>xe("div",{className:Ce()(ha,t),style:{display:e?"block":"none"},children:xe("reevoo-quotes",{className:pa})}),ga=be.ZP.createContext(void 0),_a=()=>(0,be.qp)(ga),ba="j_c bc_ly bc_mu bc_no",wa="ag_ej bc_nf bc_mu",ya="ag_ek",xa="ag_el",Ea="ag_em",Pa="ag_en",Ca="ag_eo",ka="ag_cx",Na="ag_cu bc_lv bc_mb bc_me bc_mp",Aa="ag_ep",Oa="ag_eq",Sa="ag_er bc_mo",Ra="ag_es",Ta="ag_et",La="ag_eu bc_mm bc_lu",Ia="ag_ev",Ma="https://business.feefo.com/company/trusted-service-awards",Za="https://business.feefo.com/features/sustainability-awareness-solution/ecolabels",ja="https://public.feefo.com/images/trust-marks/",Ba="https://business.feefo.com/features/treefo",Ha="https://public.feefo.com/images/feefo-sustainability-logo.svg",Va="https://public.feefo.com/images/feefo-exceptional-service-award.svg",Fa="ethy",Da=["TRUSTED","GOLD","PLATINUM"],za={TRUSTED:"https://public.feefo.com/images/feefo-trusted-service-award.svg",GOLD:"https://public.feefo.com/images/feefo-gold-service-award.svg",PLATINUM:"https://public.feefo.com/images/feefo-platinum-service-award.svg"},Ua="ao_gx",qa="ao_hs",$a="ao_ht",Wa="ao_hu bc_mj bc_lv bc_ms",Ya="ao_hv bc_lv",Ja="ao_hw bc_mj bc_lv",Ga="ao_hx",Ka="ao_hy",Qa="ao_hz bc_mz",Xa="ao_ia bc_mz",es="ao_ic",ts="ao_ie",ns=({width:e,left:t=0,style:n={}})=>be.ZP.createElement("span",{className:Xa,"data-score":e,"data-left":t,style:{width:e,left:t,...n}}),rs=({children:e,inReview:t=!1})=>be.ZP.createElement("div",{className:Ce()(Ga,Qa),"data-inReview":t},e),as=be.ZP.memo((({score:e=0,leadingHeight:t="14",inReview:n,scoresInFacets:r})=>{const a=2*e*10+"%";return be.ZP.createElement(be.ZP.Fragment,null,be.ZP.createElement(rs,{inReview:n},be.ZP.createElement(ns,{width:a})),r&&be.ZP.createElement("reevoo-score",{"data-score":e,className:Ka,"data-inReview":n,"data-trailing-height":"11","data-leading-height":t,title:e}),!r&&n&&be.ZP.createElement("div",{className:Ka}))})),ss="ba_ls bc_lu bc_mn",is=({score:e,starsEnabled:t,className:n,title:r})=>{const a=bn();if(!t)return null;const s=a.loader.themeStyles.stars_color;return be.ZP.createElement(be.ZP.Fragment,null,be.ZP.createElement("reevoo-stars",{className:n,"data-five-points-score":"true","data-color":s,"data-score":e,title:r||e}),be.ZP.createElement("div",{className:ss},e," / 5"))},os=be.ZP.memo((({score:e=0})=>be.ZP.createElement("div",{className:Ga},be.ZP.createElement(is,{starsEnabled:!0,score:e,className:es}))));function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ls.apply(this,arguments)}const cs=be.ZP.memo((({name:e,score:t,inReview:n,leadingHeight:r,starsInFacets:a,scoresInFacets:s})=>be.ZP.createElement("div",{className:Ua,"data-inReview":n,"data-noScores":!s,"data-starsEnabled":a},be.ZP.createElement("span",{className:Ja,"data-e2e-facet-element":"label","data-inReview":n},e),a&&be.ZP.createElement(os,{score:t}),!a&&be.ZP.createElement(as,{score:t,inReview:n,leadingHeight:r,scoresInFacets:s})))),ds=({list:e=[],scoresInFacets:t,starsInFacets:n})=>e.map((e=>be.ZP.createElement(cs,ls({key:new Date},e,{scoresInFacets:t,starsInFacets:n})))),us="as_kh",hs="as_ic",ps=be.ZP.memo((({score:e,starsEnabled:t,isInReview:n,showBrand:r})=>be.ZP.createElement(be.ZP.Fragment,null,t&&be.ZP.createElement(is,{className:hs,score:e,starsEnabled:t}),!t&&be.ZP.createElement(be.ZP.Fragment,null,r?be.ZP.createElement("reevoo-quotes",{className:us,"data-inReview":n,"data-score":e}):be.ZP.createElement("div",{className:us,"data-inReview":n}),be.ZP.createElement("reevoo-score",{"data-leading-height":n?30:40,"data-score":e}))))),ms="ar_kg",vs="ar_gw bc_mk bc_mw bc_lv bc_mz",fs=({children:e,label:t,value:n,onChange:r,dataParam:a,classNames:s={label:void 0,select:void 0}})=>be.ZP.createElement(be.ZP.Fragment,null,t&&be.ZP.createElement("span",{className:Ce()(ms,s.label)},t),be.ZP.createElement("select",{className:Ce()(vs,s.select),value:n,"data-param":a,onChange:r,"data-e2e-select":"true"},e));function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gs.apply(this,arguments)}const _s=({name:e="",value:t=""})=>be.ZP.createElement(be.ZP.Fragment,null,be.ZP.createElement("div",null,e),be.ZP.createElement("div",{className:Ya},t)),bs=({name:e="",value:t=""})=>be.ZP.createElement("div",{className:Ce()(Ua,qa),"data-starsEnabled":"true"},be.ZP.createElement("span",{className:Ja},e),be.ZP.createElement("div",{className:Ga},t)),ws=({name:e="",value:t,options:n=[],withTopMargin:r=!1})=>{const a=.67,s=n.shift(),i=n.pop(),o=10*(t&&"number"==typeof+t?t>a?t+a<10?t:t-a:t:0)+"%",l={transform:`translateX(${t>a&&t-.335+a<9.665?-50:0}%)`};return be.ZP.createElement(be.ZP.Fragment,null,be.ZP.createElement("div",{className:Ce()(Ua,{[qa]:r})},be.ZP.createElement("span",{className:Ce()(Ja,$a)},e)),be.ZP.createElement("div",{className:Ce()(Ua,ts)},be.ZP.createElement("span",{className:Ja},s),be.ZP.createElement(rs,null,be.ZP.createElement(ns,{width:"6.7%",left:o,style:l})),be.ZP.createElement("span",{className:Ce()(Ka,Wa)},i)))},ys=({list:e=[],starsInFacets:t,showTextVariant:n,...r})=>e.map(((e,a)=>{const s=new Date;return n?be.ZP.createElement(_s,gs({key:s},e,r)):t||!e.options?be.ZP.createElement(bs,gs({key:s},e,r)):be.ZP.createElement(ws,gs({withTopMargin:0===a,key:s},e,r))})),xs=()=>{const e=bn(),{isLoading:t,setIsLoading:n}=(0,be.qp)(ma),r=(0,be.I4)(((t,r)=>{n(!0),e.updateRequestParams(t),e.load().finally((()=>{r&&"function"==typeof r&&r(),n(!1)}))}),[e,n]);return(0,be.Ye)((()=>({builderLoader:r,isLoading:t})),[r,t])},Es=be.ZP.memo((()=>{const{configuration:{serviceAwardLevel:e,starsEnabled:t,multiCountryRegionIsAvailable:n,scoresInFacets:r,starsInFacets:a,showBrand:s},header:{title:i,regionList:o=[],productImage:l,showProductImage:c,numOfReviews:d,averageScore:u,facets:h,aggregatedScores:p},builder:{loader:m}}=(0,be.qp)(ga),v=((e,t)=>e&&"boa-lingua"===e.merchant_slug?"":t)(m&&m.settings,i);let{header:{sliderFacets:f}}=(0,be.qp)(ga);p&&(f??=[],f.push(...p));const[g,_]=(0,be.eJ)("my-country"),{builderLoader:b}=xs(),w=Ce()(wa,{[ya]:c,[xa]:!c}),y=e&&za[e];return be.ZP.createElement("div",{className:w},be.ZP.createElement("div",{className:Ea},y&&be.ZP.createElement("div",{className:Pa}),be.ZP.createElement("p",{className:Na,"data-e2e-product-details":"h1",dangerouslySetInnerHTML:{__html:v}}),y&&be.ZP.createElement("div",{className:Pa}),y&&be.ZP.createElement("div",{className:Ca},be.ZP.createElement("img",{src:za[e],className:ka}))),c&&be.ZP.createElement("div",{className:Aa},be.ZP.createElement("div",{className:Oa},be.ZP.createElement("img",{src:l,alt:i}))),be.ZP.createElement("div",{className:Sa,dangerouslySetInnerHTML:{__html:d}}),be.ZP.createElement("div",{className:Ra},be.ZP.createElement("div",null,be.ZP.createElement(ps,{score:u,starsEnabled:t,showBrand:s}))),be.ZP.createElement("div",{className:Ta},be.ZP.createElement(ds,{list:h,scoresInFacets:r,starsInFacets:a}),be.ZP.createElement(ys,{list:f,starsInFacets:a})),n&&o.length>0&&be.ZP.createElement(be.ZP.Fragment,null,be.ZP.createElement("div",{className:La},"Reviews from: "),be.ZP.createElement("div",{className:Ia},be.ZP.createElement(fs,{value:g,onChange:({target:{value:e}})=>{_(e),b({region:e,page:1})}},o.map((([e,t])=>be.ZP.createElement("option",{key:t,value:t},e)))))))})),Ps="w_a bc_lx bc_mw bc_ml",Cs="w_he bc_mb",ks="w_hf bc_lu bc_lz bc_mz",Ns="w_hg",As="w_hi",Os="w_hj",Ss=e=>{const t=bn().container(),[n]=(0,be.eJ)((()=>e));return(0,be.I4)((e=>{const r=t.querySelector(`#${e||n}`);null!==r&&r.scrollIntoView({behavior:"smooth"})}),[n,t])},Rs=be.ZP.createContext(),Ts=({builder:e,children:t})=>be.ZP.createElement(Rs.Provider,{value:{builder:e}},t),Ls=()=>{const{builder:e}=(0,be.qp)(Rs);return(0,be.I4)(((t,n,r)=>a=>{t&&t(a);const s=r||a?.target?.value||"generic",i=a?.target?.className||"generic class",o="string"==typeof i?i.trim():"",l={context:{clickType:n,clickValue:s,targetClass:o?`.${o}`:"",targetElement:a?.target?.nodeName||"generic element"}};e.track(jn,l)}),[e])},Is=({onClick:e,label:t,className:n=""})=>be.ZP.createElement("button",{tabIndex:0,onClick:e,className:`${ks} ${n}`,dangerouslySetInnerHTML:{__html:t}}),Ms="pagination",Zs=({context:e})=>{const{body:{reviews:t,pagination:{currentPage:n=1,totalPages:r=1}}}=(0,be.qp)(e),{builderLoader:a}=xs(),[s,i]=Le(),o=On(),l=Ls(),c=Ss("r-review-filter-bar"),d=e=>()=>{a({page:e},c)},u=(0,be.Ye)((()=>{if(!t.length)return[];return((e,t,n=2)=>{const r=[],a=Math.max(2,e-n),s=Math.min(t-1,e+n);for(let e=a;e<=s;e+=1)r.push(e);return e-n>2&&r.unshift("..."),e+n<t-1&&r.push("..."),r.unshift(1),1!==t&&1!==n&&r.push(t),r})(n,r,i<576?1:2)}),[t,i,n,r]);return be.ZP.createElement("div",{className:Ps,ref:s},be.ZP.createElement("div",{className:Cs},n>1&&be.ZP.createElement(Is,{onClick:l(d(n-1),Vn,n-1),label:o.get([Ms,"previous"]),className:As}),(u||[]).map(((e,t)=>be.ZP.createElement(Is,{key:`${e}-${t}`,onClick:l(d(e),Vn,e),label:e,className:n===e?Ns:""}))),n<r&&be.ZP.createElement(Is,{onClick:l(d(n+1),Vn,n+1),label:o.get([Ms,"next"]),className:Os})))},js=e=>e.reduce(((e,t)=>Object.assign(Object.assign({},e),{list:[...e.list,t.id],[t.id]:Object.assign(Object.assign({},t),{scoresVisible:!1})})),{list:[]}),Bs={container:"aq_c",divider:"aq_h",reviewContent:"aq_cq",summary:"aq_im bc_mi",summaryInLine:"aq_in",responseText:"aq_io bc_lu bc_ml bc_mb",responseTextInLine:"aq_ip bc_lu bc_mk bc_mc bc_mh",attributionContainer:"aq_iq",title:"aq_ir bc_lv bc_mw bc_ml bc_mg",capitalize:"aq_is",details:"aq_it bc_mj bc_me bc_mg",attribute:"aq_iu",translate:"aq_iv bc_mk bc_lz",comment:"aq_hn bc_mm bc_lv",serviceReviewDetails:"aq_iw",toggleScoreBlock:"aq_ix",sliderFacets:"aq_iy bc_mj bc_ma",verifiedBadgeArea:"aq_iz bc_mi",purchaseDate:"aq_ja bc_mi bc_ma",date:"aq_jb bc_lu",scoresBlock:"aq_jc",showIt:"aq_je",npsLabel:"aq_jf bc_ml bc_lu",separator:"aq_jg",goodPointBlock:"aq_jh bc_ml",goodBadPointLine:"aq_ji",point:"aq_jj",text:"aq_jk bc_lv",noComment:"aq_jl",supplementaryInfo:"aq_jm bc_mi",supplementaryInfoImage:"aq_jn",supplementaryInfoList:"aq_jo","show-more":"aq_jp",reevooScore:"aq_jq bc_mj",facets:"aq_et bc_lu",reviewPhotos:"aq_jr",photoBlock:"aq_js bc_lz",halfSizePhoto:"aq_jt",fullSizePhoto:"aq_ju",highlight:"aq_jv",showScoreBtn:"aq_jw",fastResponses:"aq_jx",fastResponseHeader:"aq_jy bc_nc",displayName:"aq_jz bc_mn bc_mx bc_my",jobTitle:"aq_ka bc_mi bc_lu",fastResponseBody:"aq_kb",fastResponseText:"aq_kc bc_ml bc_mt",fastResponseDate:"aq_ke bc_mi bc_lu",textHighlighter:"aq_kf"},Hs="at_km bc_lu bc_mu bc_mj bc_lz bc_mg bc_ms bc_mz bc_ly",Vs="at_kn",Fs="at_ko",Ds="at_kp",zs="at_kq",Us=(0,be.X$)((({onClick:e,dataCy:t="show",isActive:n,text:r,className:a,additionalClassName:s})=>{const i=Ce()(Vs,{[Fs]:n});return be.ZP.createElement("button",{className:Ce()(a||Hs,s),"data-e2e-toggle-score-btn":t,onClick:e},be.ZP.createElement(en.List,{className:i}),be.ZP.createElement("span",{className:Ds},r))})),qs={verifiedBadge:"ax_lj",verifiedCheck:"ax_lk",verifiedLogoContainer:"ax_ll",feefoLogo:"ax_p","verified-text":"ax_lm"},$s=({text:e})=>be.ZP.createElement("div",{className:qs.verifiedBadge},be.ZP.createElement("div",{className:qs.verifiedCheck},be.ZP.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABGdBTUEAALGPC/xhBQAAActJREFUOBGdVEtLAlEU/u44WFBgQlARWQTSohZFoBRlRbWOwBCjyMI2Rot2/YQ2/QIleoAStKh9Uemixy8opMemRW3ctAhRb+fOdRxnmtA6m5nz+u65557vMNhJamUaKIXAeQAMnVoIxxsYSwPKMcIHF9Y0ZjKcRLzIF+MAnzDZfyjsGk7HOoL7Wd1lAKUi4+CFM3K4dWeNbw5MnUN4PyPiJJBWSeGO9HpB9DNycKp+UZmiWbTr/BlEpLplK0RForG8eK4f8a8vc8xQRfQ6dYjKFCRHYjif2kaTo8GSUQop2hNbzFZVgKRGNxDuGcF0ez/mu4bNITQmSmVOyq7BFg9OxjbR0ejSLFolozEEPT5NP3zJIPl6YwaiWVPNFuA0sIXuplYMuLowe7mD3aFFLHj8FZDV2zhK4NY0qie59EDWPt2z1htAwhelIWb4KubR6HDWBKGAR7qaGHtD9p7TiN4nqHW8XhB6e5amVyPuWKQaTPTkt+sYacqxnOzk8pUdv7zNbXj6/LDtiQFCvFs8mpSTLQgI5Ayn/Mt+vtcAoRyZCwkkWCwIaANmBa/SJWnLG0ACCa9gsSAgqNSaItYIxZaZL8KNNVKd/I/F9g1fFJyxpIkNbAAAAABJRU5ErkJggg==",alt:"",height:"11"})),be.ZP.createElement("div",{className:qs.verifiedLogoContainer},be.ZP.createElement(en.FeefoLogo,{type:$e,className:qs.feefoLogo}),be.ZP.createElement("span",{className:qs.verifiedText},e))),Ws="bb_lt bc_lz bc_mh",Ys="bb_jk bc_mt",Js="ay_ln",Gs=(e,t)=>e&&t?e.replace(t,(e=>`<em>${e}</em>`)):e,Ks=({className:e,searchWords:t=[],text:n})=>{const r=(0,be.Ye)((()=>{if(t&&t.length)return new RegExp(t.map((e=>`\\b${e}\\b`)).join("|"),"gi")}),[t]);return be.ZP.createElement("span",{className:Ce()(Js,e),dangerouslySetInnerHTML:{__html:Gs(n,r)}})},Qs=({context:e,text:t,maxLength:n=200})=>{const[r,a]=(0,be.eJ)({text:"",showLessBtn:!1}),s=On(),{body:{smartThemes:{searchWords:i}}}=(0,be.qp)(e),o=(0,be.I4)((()=>{if(!t||"string"!=typeof t)return null;if(t.length<=n)return t;const e=t.split(" ");let r="";for(let t=0,{length:a}=e;t<a;t++){const a=e[t];if(!(r.length+a.length+3<=n))break;r+=t>0?` ${a}`:a}return r+="...",r}),[t,n]);if((0,be.d4)((()=>{const e=o();a((t=>({...t,text:e})))}),[o]),!t||"string"!=typeof t)return null;return be.ZP.createElement("div",{className:Ys},be.ZP.createElement(Ks,{searchWords:i,text:r.text}),t.length>n&&t.length!==r.text.length&&!r.showLessBtn&&be.ZP.createElement("button",{onClick:()=>{a({text:t,showLessBtn:!0})},className:Ws},s.get("readMore")),r.showLessBtn&&be.ZP.createElement("button",{onClick:()=>a({text:o(),showLessBtn:!1}),className:Ws},s.get("seeLess")))},Xs=(e,t="en-GB",n={year:"numeric",month:"long",day:"numeric"})=>{if(!e)return;const r=new Date(e);if(r instanceof Date&&!isNaN(r.getTime()))return r.toLocaleDateString(t.replace("_","-"),n);throw new Error("Date is not valid")},ei=en;function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ti.apply(this,arguments)}const ni=()=>be.ZP.createElement("div",{className:Bs.divider}),ri=({el:e,locale:t})=>{const{response:n,createdAt:r,respondent:{displayName:a,jobTitle:s},organisation:{name:i}}=e;return be.ZP.createElement("div",null,be.ZP.createElement("div",{className:Bs.fastResponseHeader},be.ZP.createElement("span",{className:Bs.displayName},a,", ",i),be.ZP.createElement("span",{className:Bs.jobTitle},s)),be.ZP.createElement("div",{className:Bs.fastResponseBody},be.ZP.createElement("p",{className:Bs.fastResponseText,dangerouslySetInnerHTML:{__html:n}})),be.ZP.createElement("div",{className:Bs.fastResponseDate},Xs(r,t)))},ai=({list:e,locale:t})=>be.ZP.createElement("div",{className:Bs.fastResponses},e.map(((e,n)=>be.ZP.createElement(ri,{el:e,key:n,locale:t})))),si=(0,be.X$)((({score:e,starsEnabled:t,showBrand:n})=>be.ZP.createElement("div",{className:Bs.summary},be.ZP.createElement("div",{className:Bs.reevooScore,"data-star":t},be.ZP.createElement(ps,{score:e,isInReview:!0,starsEnabled:t,showBrand:n}))))),ii=(0,be.X$)((({isHaveAnswer:e,text:t,inOneLine:n=!1})=>{const r=On();return be.ZP.createElement("div",{className:n?Bs.summaryInLine:Bs.summary},be.ZP.createElement(ei.CheckMark,{type:e?$e:qe,inOneLine:n}),be.ZP.createElement("div",{className:n?Bs.responseTextInLine:Bs.responseText},be.ZP.createElement("div",null,t),n?be.ZP.createElement(be.ZP.Fragment,null,""):null,be.ZP.createElement("div",null,e?r.get("satisfied"):r.get("unsatisfied"))))})),oi=(0,be.X$)((e=>{const{isProduct:t,handleTranslate:n,isShowTranslatedText:r,isShowTranslateBtn:a,review:{title:s,reviewTranslatedText:i,locale:o},reviewer:{name:l,location:c,segment:d},flagsEnabled:u}=e,h=(p=o,p?.slice(p.length-2));var p;const m=On(),v=[!t&&l,c,d],f=i?.substring(0,75).concat("..."),g=bn(),_=g?.loader?.settings;return be.ZP.createElement("div",{className:Bs.attributionContainer},t?be.ZP.createElement("p",{className:Ce()(Bs.title,Bs.capitalize)},l):be.ZP.createElement("p",{className:Bs.title},s||f),be.ZP.createElement("p",{className:Bs.details},v.filter((e=>e)).map(((e,t,n)=>{const r=t===n.length-1;return be.ZP.createElement(be.HY,{key:e},be.ZP.createElement("span",{className:Bs.attribute},e),r&&!u?"":be.ZP.createElement("span",{className:Bs.separator}))})),u&&be.ZP.createElement("img",{src:`${_?.protocol}://${_?.hosts?.feefoFlags}/${h?.toLowerCase()}.png`,alt:h,title:h}),a&&be.ZP.createElement("span",{onClick:n,className:Bs.translate},r?m.get("showOriginal"):m.get("translate"))))})),li=(0,be.X$)((({context:e,text:t})=>be.ZP.createElement("div",{className:Bs.comment},be.ZP.createElement(Qs,{context:e,text:t})))),ci=(0,be.X$)((({date:e,locale:t})=>be.ZP.createElement("div",{className:Bs.date},Xs(e,t)))),di=(0,be.X$)((()=>{const e=On();return be.ZP.createElement("span",{className:Bs.noComment},e.get("noComment"))})),ui=(0,be.X$)((({text:e})=>e?be.ZP.createElement(Qs,{text:e}):be.ZP.createElement(di,null))),hi=(0,be.X$)((({text:{goodPoints:e,badPoints:t}})=>be.ZP.createElement("div",{className:Bs.goodPointBlock},be.ZP.createElement("div",{className:Bs.goodBadPointLine},be.ZP.createElement(ei.Plus,{className:Bs.point}),be.ZP.createElement("span",{className:Bs.text},be.ZP.createElement(ui,{text:e}))),be.ZP.createElement("div",{className:Bs.goodBadPointLine},be.ZP.createElement(ei.Minus,{className:Bs.point}),be.ZP.createElement("span",{className:Bs.text},be.ZP.createElement(ui,{text:t})))))),pi=(0,be.X$)((({productImage:e,children:t,...n})=>{const[r,a]=(0,be.eJ)(!1),s=Object.values(n||{}),i=(0,be.I4)((()=>a((e=>!e))),[]),o=(0,be.I4)((()=>r?s:s.slice(0,3)),[r,s]);return be.ZP.createElement("div",{className:Bs.supplementaryInfo},e&&be.ZP.createElement("img",{className:Bs.supplementaryInfoImage,alt:"of",src:e})," ",s.length>0&&be.ZP.createElement("ul",{className:Bs.supplementaryInfoList,onClick:i},o().map((e=>be.ZP.createElement("li",{key:e},e)))))})),mi=(0,be.X$)((({imageUrl:e,alt:t,caption:n})=>{const[r,a]=(0,be.eJ)(!1),s=Ce()(Bs.photoBlock,{[Bs.halfSizePhoto]:!r,[Bs.fullSizePhoto]:r});return be.ZP.createElement("div",{className:s},be.ZP.createElement("img",{src:e,alt:t,onClick:()=>{a((e=>!e))}}),n&&be.ZP.createElement("p",null,n))})),vi=(0,be.X$)((({list:e=[]})=>be.ZP.createElement("div",{className:Bs.reviewPhotos},e.map((e=>be.ZP.createElement(mi,ti({key:e.uuid},e))))))),fi=(0,be.X$)((({list:e=[]})=>be.ZP.createElement("p",{className:Bs.sliderFacets},be.ZP.createElement(ys,{list:e,showTextVariant:!0})))),gi="az_lo",_i="az_lp",bi="az_lq",wi="az_lr",yi=({message:e,vote:t,votingHandler:n,className:r})=>{const[a,s]=(0,be.eJ)((()=>({helpful:t}))),i=On(),[o,l]=(0,be.eJ)((()=>e)),c=Ce()(gi,{[_i]:void 0!==a.helpful&&a.helpful});return be.ZP.createElement("button",{onClick:()=>{n().then((()=>{s((({helpful:e})=>({helpful:!e}))),l(i.get("vote_response"))})).catch((e=>{console.error("HelpfulnessButtons_handler:",e),l(i.get(`vote_${qe}`))}))},className:Ce()(bi,r)},be.ZP.createElement(en.Thumb,{className:c}),o&&be.ZP.createElement("div",{className:wi},o))},xi="ap_if bc_ml bc_my bc_mb",Ei=({className:e,children:t})=>be.ZP.createElement("div",{className:Ce()(xi,e)},t),Pi="aw_km bc_lu bc_mu bc_mj bc_lz bc_mg bc_ms bc_mz bc_ly",Ci="aw_le",ki="aw_lf",Ni="aw_lg bc_mu bc_mj bc_ms",Ai="aw_lh",Oi="aw_li",Si=({reviewUrl:e})=>{const[t,n]=(0,be.eJ)(!1),r=On();return t?be.ZP.createElement("div",{className:Ni},be.ZP.createElement(en.Copy,{className:Ce()(Ai)}),be.ZP.createElement("span",{className:Oi},r?.get("linkCopied"))):be.ZP.createElement("button",{className:Pi,onClick:()=>{navigator.clipboard.writeText(e),n(!0),setTimeout((()=>n(!1)),2e3)}},be.ZP.createElement(en.Share,{className:Ce()(Ci),title:r?.get("shareLabel")}),be.ZP.createElement("span",{className:ki},r?.get("shareLabel")))};function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ri.apply(this,arguments)}const Ti=({context:e,isHighlight:t,isProduct:n,...r})=>{const{setIsLoading:a}=(0,be.qp)(ma),s=Ls(),{reviews:i,updater:o,builder:l,configuration:{flagsEnabled:c,starsEnabled:d,scoresInFacets:u,starsInFacets:h,showBrand:p,showMedia:m}}=(0,be.qp)(e),v=l.loader.cookieConfig.functional,f=wn(),{saleId:g,reviewer:_,locale:b,language:w,publishDate:y,overall:x,aggregatedScores:E,overallScore:P,happyWithDelivery:C,happyWithCustomerService:k,scoresVisible:N,supplementaryInfo:A,facets:O,id:S,photos:R,fastResponses:T,title:L,text:I,helpfulnessMessage:M,launchReview:Z,translations:{launchReview:j},url:B}=i[r.id];let{sliderFacets:H}=i[r.id];E&&(H??=[],H.push(...E));const[V,F]=(0,be.eJ)((()=>({originalText:I,translatedText:null,isShowTranslatedText:!1})));(0,be.d4)((()=>F((e=>({...e,originalText:I})))),[I]);const D=(0,be.Ye)((()=>V.isShowTranslatedText&&V.translatedText?V.translatedText:V.originalText),[V]),z=(0,be.Ye)((()=>l.paramsFetcher().language()),[l]),U=(0,be.Ye)((()=>!!I&&l.isTranslationsEnabled()&&z!==w),[I,l,z,w]),q=(0,be.I4)((()=>l.helpfulnessVoting.vote({id:g,feedbackId:S},"helpfulnessVoting")),[l.helpfulnessVoting,S,g]),$=On(),W=(0,be.I4)((()=>{const{translatedText:e}=V;e&&F((e=>({...e,isShowTranslatedText:!e.isShowTranslatedText}))),e||(a(!0),l.translationService.translate({langTo:z,review:i[r.id],translatableType:n?"PRODUCT":"SERVICE"}).then((e=>{a(!1),e&&(s(null,Hn,{language:w,trkrefLanguage:z})(),F((t=>({...t,translatedText:e,isShowTranslatedText:!0}))))})).catch((e=>{a(!1),console.error(e)})))}),[a,s,w,V,z,i,r.id,n,l.translationService]),Y=[x,C,k].filter((e=>!!e)).length>1||!!O;return be.ZP.createElement("div",{className:Ce()(Bs.container,{[Bs.highlight]:t})},Z&&be.ZP.createElement(Ei,{className:Bs.textHighlighter},be.ZP.createElement("p",null,j)),be.ZP.createElement("div",{className:Bs.reviewContent,id:`review_${S}`,"data-isProduct":n},P?be.ZP.createElement(si,{score:P,starsEnabled:d,showBrand:p}):be.ZP.createElement(ii,{isHaveAnswer:x,text:$?.get("overall")}),be.ZP.createElement(oi,{isProduct:n,reviewer:_,review:{title:L,reviewTranslatedText:D,locale:b},handleTranslate:W,isShowTranslatedText:V.isShowTranslatedText,isShowTranslateBtn:U,flagsEnabled:c}),D&&("string"==typeof D?be.ZP.createElement(li,{context:e,text:D}):be.ZP.createElement(hi,{text:D})),be.ZP.createElement("div",{className:Bs.serviceReviewDetails},n&&be.ZP.createElement("div",{className:Bs.toggleScoreBlock},Y&&be.ZP.createElement(Us,{onClick:()=>{o({...i,[S]:{...i[r.id],scoresVisible:!N}})},isActive:N,additionalClassName:Ce()({[Bs.showScoreBtn]:t,[zs]:!0}),text:N?$?.get("hideScores"):$?.get("showScores")}),n&&v&&be.ZP.createElement(yi,{votingHandler:q,vote:l.helpfulnessVoting?.hasVoted(S),className:Bs.voteButtons,message:M}),be.ZP.createElement(Si,{reviewUrl:B})),N&&O&&be.ZP.createElement("div",{className:Bs.facets,"data-e2e-review":"facets"},O.map((e=>be.ZP.createElement(cs,Ri({},e,{inReview:!0,leadingHeight:"16",starsInFacets:h,scoresInFacets:u})))))),be.ZP.createElement("div",{className:Bs.verifiedBadgeArea},be.ZP.createElement($s,{text:$?.get("verified")})),be.ZP.createElement("div",{className:Bs.purchaseDate},$?.get("publishedOn"),be.ZP.createElement(ci,{date:y,locale:f})),H&&be.ZP.createElement(fi,{list:H}),A&&Object.keys(A).length>0&&be.ZP.createElement(pi,A),(R||[]).length>0&&m&&be.ZP.createElement(vi,{list:R}),(T||[]).length>0&&be.ZP.createElement(ai,{list:T,locale:b})),be.ZP.createElement(ni,null))},Li="m_c",Ii=({context:e,isProduct:t})=>{const{reviews:{list:n=[]},builder:r,configuration:{reviewId:a},body:{pagination:{currentPage:s}}}=(0,be.qp)(e),{startTrackTimer:i,timerId:o,clearTrackTimer:l}=or(r),c=(0,be.sO)(null),d=Ss(),{isLoading:u}=xs();(0,be.d4)((()=>{a&&setTimeout((()=>d(`review_${a}`)),0)}),[s]);const h=(0,be.I4)((e=>{e&&!o?i():!e&&o&&l()}),[l,i,o]);return cr({element:c.current,cb:h}),be.ZP.createElement("div",{ref:c,className:Li},be.ZP.createElement(fa,{visible:u}),(n||[]).map((n=>be.ZP.createElement(Ti,{key:n,id:n,isHighlight:Number(a)===n,isProduct:t,context:e}))))},Mi="al_gl",Zi="al_gm",ji="al_gn",Bi="al_go",Hi="al_gp",Vi="al_gq",Fi="al_ax at_km bc_lu bc_mu bc_mj bc_lz bc_mg bc_ms bc_mz bc_ly bc_lv bc_mw bc_mk bc_mh",Di="al_gr bc_lu bc_ml bc_mb",zi="al_gs bc_ms",Ui="al_gt",qi="al_gu",$i="al_gv",Wi="al_gw",Yi="al_gx",Ji="al_gy",Gi=(e,t,n)=>{e(Object.values(t).reduce(((e,t)=>({...e,...Array.isArray(t)?{list:t}:{},[t.id]:{...t,scoresVisible:n}})),{}))},Ki=({activeText:e,inActiveText:t,onClick:n,style:r,pagination:a,filters:s})=>{const[i,o,l]=(e=>{const[t,n]=(0,be.eJ)((()=>e)),r=(0,be.I4)((()=>n((e=>!e))),[]);return[t,r,n]})(!1);return(0,be.d4)((()=>{l(!1)}),[a,s,l]),be.ZP.createElement("div",{className:ji,style:r},be.ZP.createElement("div",{className:Vi},be.ZP.createElement(Us,{isActive:i,dataCy:"show-all",onClick:()=>{o(),n(!i)},className:Fi,text:i?e:t})))},Qi="av_lc bc_lv bc_lx bc_mk",Xi=be.ZP.memo((({columnClass:e,children:t,forwardedRef:n})=>be.ZP.createElement("div",{id:"r-review-filter-bar",className:Ce()(Qi,e),ref:n},t))),eo=(be.ZP.memo((({context:e,reviewContext:t})=>{const{body:{filterBar:{filters:n,title:r,filterAll:a,filtersText:s,showScores:i},pagination:o}}=(0,be.qp)(e),{reviews:l,updater:c}=(0,be.qp)(t),{builderLoader:d}=xs(),[u,h]=(0,be.eJ)("all"),p=s&&u,m=!!i;return be.ZP.createElement(Xi,{columnClass:Zi},m&&be.ZP.createElement(Ki,{pagination:o,filters:n,onClick:e=>{Gi(c,l,e)},activeText:i.hideText,inActiveText:i.showText}),be.ZP.createElement("p",{className:Ce()(Di,Ji),dangerouslySetInnerHTML:{__html:r}}),p&&be.ZP.createElement("div",{className:zi},be.ZP.createElement("div",{className:Yi},be.ZP.createElement(fs,{label:s,value:u,onChange:e=>{h(e.target.value),d({filter:e.target.value,page:1})}},be.ZP.createElement("option",{value:"all"},a),(n||[]).map((([e,t])=>be.ZP.createElement("optgroup",{key:e,label:e},(t||[]).map((([e,t])=>be.ZP.createElement("option",{key:t,value:t},e))))))))))})),"au_kv"),to="au_kg",no="au_kw",ro="au_bq bc_lz",ao="au_kx",so="au_ky",io="au_kz",oo="au_la",lo="au_lb",co=(e,t=3)=>e.replace(" ","").length>=t,uo=({label:e,value:t,isSearched:n,placeholder:r,onSubmit:a,onESC:s,onChange:i,onResetFilters:o})=>{const l=Ce()(ro,{[ao]:co(t),[so]:n});return be.ZP.createElement("form",{onSubmit:a,className:eo},be.ZP.createElement("label",{htmlFor:"search-input",className:to},e),be.ZP.createElement("input",{required:!0,minLength:3,type:"search",id:"search-input",value:t,onChange:i,onKeyDown:s,className:no,"data-hasResetBtn":n,placeholder:r}),be.ZP.createElement("input",{className:io,"data-hasResetBtn":n,type:"submit",value:" ",title:"Submit filter"})," ",be.ZP.createElement(ei.Search,{className:l,onClick:a,title:"Submit filter"})," ",n&&be.ZP.createElement("button",{className:oo,onClick:o,title:"Reset filter"}," ",be.ZP.createElement(ei.Cross,{className:lo})))},ho="demographics_option",po="sort",mo=be.ZP.memo((({context:e,reviewContext:t})=>{const{body:{filterBar:{filters:n,filterAll:r,filtersText:a,showScores:s,sortText:i,sorters:o,defaultSorter:l},pagination:c},isAutomotive:d}=(0,be.qp)(e),{builderLoader:u}=xs(),{reviews:h,updater:p}=(0,be.qp)(t),m=Ls(),[v,f]=(0,be.eJ)({[ho]:void 0,[po]:l||"recent"}),[g,_]=Ie(),{isSearched:b,onESC:w,onChange:y,onSubmit:x,onResetFilters:E,searchQuery:P}=(()=>{const{builderLoader:e}=xs(),[t,n]=(0,be.eJ)(""),[r,a]=(0,be.eJ)(!1),s=(0,be.I4)((t=>{e({search:t})}),[e]),i=(0,be.I4)((e=>{n(e.target.value)}),[]),o=(0,be.I4)((e=>{e.preventDefault(),co(t)&&(s(t),a(!0))}),[s,t]),l=(0,be.I4)((()=>{n(""),s(""),a(!1)}),[s]),c=(0,be.I4)((e=>{"Escape"===e.key&&t.length>0&&l()}),[t,l]);return(0,be.Ye)((()=>({searchQuery:t,isSearched:r,handleLoad:s,onChange:i,onSubmit:o,onResetFilters:l,onESC:c})),[s,r,i,c,l,o,t])})(),C=e=>{const{value:t,dataset:{param:n}}=e.target;f((e=>({...e,[n]:t}))),u({[n]:t,page:1})},k=s&&s.hideText&&s.showText,N=(0,be.Ye)((()=>n&&n.length>0),[n]),A=(0,be.Ye)((()=>o&&o.length),[o]),O=(0,be.Ye)((()=>(_||[]).includes("medium")),[_]),S=(0,be.Ye)((()=>({display:O?"none":"block"})),[O]),R=(0,be.Ye)((()=>({label:O&&$i,select:O&&Wi})),[O]),T=(e,t)=>{m(C,t,e.target.selectedOptions[0]?.text)(e)};return be.ZP.createElement(Xi,{columnClass:Mi,forwardedRef:g},k&&be.ZP.createElement(Ki,{key:1,style:S,onClick:e=>{Gi(p,h,e)},activeText:s.hideText,inActiveText:s.showText,pagination:c,filters:n}),be.ZP.createElement("div",{className:Ce()(zi,qi)},be.ZP.createElement("div",{className:Ce()(Yi,Ui)},N&&be.ZP.createElement(fs,{label:a,value:v[Fn],classNames:R,dataParam:ho,onChange:e=>T(e,Fn)},be.ZP.createElement("option",{value:""},r),(n||[]).map((([e,t])=>be.ZP.createElement("option",{key:t,value:t},e))))),be.ZP.createElement("div",{className:Ce()(Yi,Ui)},A&&be.ZP.createElement(fs,{label:i,value:v[zn],classNames:R,dataParam:po,onChange:e=>T(e,zn)},(o||[]).map((([e,t])=>be.ZP.createElement("option",{key:t,value:t},e)))))),d&&be.ZP.createElement("div",{className:Bi},be.ZP.createElement("div",{className:Hi},be.ZP.createElement(uo,{onESC:w,value:P,onSubmit:x,onChange:y,isSearched:b,onResetFilters:E}))))})),vo="af_ah bc_mb",fo="af_ax bc_lz bc_lw bc_na bc_ml",go=({text:e,older:t,onClick:n})=>{const{builderLoader:r}=xs();return be.ZP.createElement("div",{className:vo},be.ZP.createElement("a",{className:fo,onClick:()=>{n(t),r({older_reviews:t,page:1})}},e))},_o="ac_eh",bo=()=>{const e=On();return be.ZP.createElement(Ei,{className:_o},e.get("searchNoReviews"))},wo="y_c",yo="am_kj bc_ms bc_mu bc_mj bc_lz",xo="am_kk",Eo="am_kl",Po=({index:e,topic:t,onClick:n,selected:r})=>{const{feature:a,mentions:s}=t,i=`${a} (${s})`,o=Ce()(yo,{[Eo]:r});return be.ZP.createElement("button",{className:o,onClick:()=>{n(e)}},be.ZP.createElement("span",null,i),be.ZP.createElement(en.Cross,{className:xo}))},Co="am_gz bc_lx",ko="am_ha",No="am_hb",Ao=({context:e})=>{const t=(0,be.qp)(e),{configuration:{topicsEnabled:n},body:{smartThemes:{topics:r}}}=t,{builderLoader:a}=xs(),s=On(),[i,o]=(0,be.eJ)(null),l=e=>{let t=null;e===i?o(null):(o(e),t=r[e].searchFeatures?.join(",")),a({[f]:t,page:1})};return be.ZP.createElement(be.ZP.Fragment,null,n&&r.length>0&&be.ZP.createElement("div",{className:Co},be.ZP.createElement("p",{className:No},s.get("talkingAbout")),be.ZP.createElement("div",{className:ko},r.map(((e,t)=>be.ZP.createElement(Po,{key:t,index:t,topic:e,selected:i===t,onClick:l}))))))},Oo="aj_kr bc_mu",So="aj_ks",Ro="aj_kt",To="aj_ku",Lo=({handleSubmitSnippetVote:e,setShowSnippetQuestions:t})=>{const n=On();return be.ZP.createElement("div",{className:Oo},be.ZP.createElement("span",{className:To},n.get("doesSnippetTalkPositiveAboutService")),be.ZP.createElement("span",{className:Ro},be.ZP.createElement("button",{type:"button",className:So,onClick:()=>e("true")},n.get("yes")),be.ZP.createElement("button",{type:"button",className:So,onClick:()=>e("false")},n.get("no")),be.ZP.createElement("button",{type:"button",className:So,onClick:()=>t(!1)},n.get("cancelLabel"))))},Io="aj_ci",Mo="aj_ig bc_mu",Zo="aj_ih bc_mu",jo="aj_ii",Bo="aj_ij",Ho="aj_ik bc_ms bc_mu bc_mj bc_lz",Vo="aj_il",Fo=({snippet:e,searchWords:t})=>{const{text:n,author:r,date:a,feedbackId:s}=e,[i,o]=(0,be.eJ)(!1),l=bn(),c=wn(),[d]=(0,be.eJ)((()=>l.snippetVoting?.hasVoted(s))),[u,h]=(0,be.eJ)(!1),p=On(),m=(0,be.I4)((e=>{l.snippetVoting.vote({feedbackId:s,feedbackAnswer:e,body:{sentence:n}}).then((()=>{o(!1),h(!0)})).catch((e=>{console.error("SmartThemeSnippet_handler:",e),o(!1),h(!0)}))}),[l.snippetVoting,s,n]);return be.ZP.createElement("div",{className:Io},be.ZP.createElement("div",{className:Mo},'"',be.ZP.createElement(Ks,{text:n,searchWords:t}),'"'),i?be.ZP.createElement(Lo,{handleSubmitSnippetVote:m,setShowSnippetQuestions:o}):be.ZP.createElement("div",{className:Zo},be.ZP.createElement("span",null,r),be.ZP.createElement("span",{className:jo},Xs(a,c)),u?be.ZP.createElement("span",{className:Bo},p.get("thankYou")):!d&&be.ZP.createElement("button",{type:"button",className:Ho,onClick:()=>o(!0)},be.ZP.createElement(en.ChatBubbleWithDots,{className:Vo}))))},Do="aj_ga",zo="aj_gb bc_mu",Uo="aj_gc",qo=({context:e})=>{const t=(0,be.qp)(e),{configuration:{snippetsEnabled:n},body:{smartThemes:{snippets:r,searchWords:a}}}=t,s=On();return n&&r?.length>0&&be.ZP.createElement("div",{className:Do},be.ZP.createElement("p",{className:zo},s.get("atAGlance")),be.ZP.createElement("div",{className:Uo},r.map((e=>be.ZP.createElement(Fo,{key:e.feedbackId,snippet:e,searchWords:a})))))},$o=({context:e})=>be.ZP.createElement("div",{className:wo},be.ZP.createElement(Ao,{context:e}),be.ZP.createElement(qo,{context:e})),Wo=be.ZP.createContext(void 0),Yo=()=>{const e=(0,be.qp)(ga),{builder:t,configuration:{olderReviewsAvailable:n,showOlderReviews:r},body:{reviews:a,pagination:{currentPage:s,totalPages:i}},translations:o}=e,[l,c]=Ie(),[d,u]=(0,be.eJ)((()=>js(a))),[h,p]=(0,be.eJ)(!1),m=e=>{e&&u(e)};(0,be.d4)((()=>{m(js(a))}),[a]);const v=o.seeNewerReviews,f=o.seeNewerReviews;return be.ZP.createElement("div",{className:Ce()(ba,c),ref:l},be.ZP.createElement(Ts,{builder:t},be.ZP.createElement(Es,null),a&&!!a.length&&be.ZP.createElement(be.ZP.Fragment,null,be.ZP.createElement($o,{context:ga}),be.ZP.createElement(Wo.Provider,{value:{...e,reviews:d,updater:m}},be.ZP.createElement(mo,{context:ga,reviewContext:Wo}),h&&r&&1===s&&be.ZP.createElement(go,{text:v,older:!1,onClick:p}),0===a.length&&be.ZP.createElement(bo,null),be.ZP.createElement(Ii,{isProduct:!0,context:Wo}),n&&r&&s===i&&be.ZP.createElement(go,{text:f,older:!0,onClick:p}),be.ZP.createElement(Zs,{context:ga})))))};a(199);var Jo=a(671);const Go=({className:e,variant:t="outlined",startIcon:n,endIcon:r,children:a,shape:s="squared",...i})=>(0,we.h)("button",{type:"button",className:(0,Jo.c)("widgets-button",t,s,e),...i},n,a,r),Ko=({className:e,...t})=>(0,we.h)("div",{className:(0,Jo.c)("widgets-card",e),...t});function Qo({title:e,titleId:t,desc:n,descId:r,...a}){return(0,we.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 25 25",role:"img","aria-labelledby":t,"aria-describedby":r,...a},n?(0,we.h)("desc",{id:r},n):null,e?(0,we.h)("title",{id:t},e):null,(0,we.h)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m18.5 9.966-6 6-6-6"}))}function Xo({title:e,titleId:t,desc:n,descId:r,...a}){return(0,we.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 21 20",role:"img","aria-labelledby":t,"aria-describedby":r,...a},n?(0,we.h)("desc",{id:r},n):null,e?(0,we.h)("title",{id:t},e):null,(0,we.h)("path",{fill:"currentcolor",fillRule:"evenodd",d:"M8.793 15.707a1 1 0 0 0 1.414-1.414L6.914 11H16.5a1 1 0 1 0 0-2H6.914l3.293-3.293a1 1 0 0 0-1.414-1.414l-5 5a1 1 0 0 0 0 1.414l5 5",clipRule:"evenodd"}))}function el({title:e,titleId:t,desc:n,descId:r,...a}){return(0,we.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 20 21",role:"img","aria-labelledby":t,"aria-describedby":r,...a},n?(0,we.h)("desc",{id:r},n):null,e?(0,we.h)("title",{id:t},e):null,(0,we.h)("path",{fill:"currentcolor",fillRule:"evenodd",d:"M11.707 4.73a1 1 0 1 0-1.414 1.414l3.293 3.293H4a1 1 0 0 0 0 2h9.586l-3.293 3.293a1 1 0 1 0 1.414 1.414l5-5a1 1 0 0 0 0-1.414l-5-5",clipRule:"evenodd"}))}function tl({title:e,titleId:t,desc:n,descId:r,...a}){return(0,we.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 25 19",role:"img","aria-labelledby":t,"aria-describedby":r,...a},n?(0,we.h)("desc",{id:r},n):null,e?(0,we.h)("title",{id:t},e):null,(0,we.h)("path",{stroke:"currentColor",d:"m1.04 9.64 6.8 6.59L23.09 1.06"}))}function nl({title:e,titleId:t,desc:n,descId:r,...a}){return(0,we.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 22 22",role:"img","aria-labelledby":t,"aria-describedby":r,...a},n?(0,we.h)("desc",{id:r},n):null,e?(0,we.h)("title",{id:t},e):null,(0,we.h)("rect",{width:22,height:22,y:.227,fill:"currentFill",rx:4}),(0,we.h)("path",{stroke:"currentStroke",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m5 11.227 3.429 4 8.571-8"}))}function rl({title:e,titleId:t,desc:n,descId:r,...a}){return(0,we.h)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",role:"img","aria-labelledby":t,"aria-describedby":r,...a},n?(0,we.h)("desc",{id:r},n):null,e?(0,we.h)("title",{id:t},e):null,(0,we.h)("rect",{width:22,height:22,x:1,y:1,fill:"currentFill",rx:3.5}),(0,we.h)("rect",{width:22,height:22,x:1,y:1,stroke:"currentStroke",strokeLinecap:"round",strokeLinejoin:"round",rx:3.5}))}function al({title:e,titleId:t,desc:n,descId:r,...a}){return(0,we.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 4 5",role:"img","aria-labelledby":t,"aria-describedby":r,...a},n?(0,we.h)("desc",{id:r},n):null,e?(0,we.h)("title",{id:t},e):null,(0,we.h)("circle",{cx:2,cy:2.923,r:2,fill:"currentColor"}))}function sl({title:e,titleId:t,desc:n,descId:r,...a}){return(0,we.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 12 14",role:"img","aria-labelledby":t,"aria-describedby":r,...a},n?(0,we.h)("desc",{id:r},n):null,e?(0,we.h)("title",{id:t},e):null,(0,we.h)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 7.215a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5"}),(0,we.h)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 12.756c1.167-2.333 4.667-3.839 4.667-7a4.667 4.667 0 1 0-9.333 0c0 3.161 3.5 4.667 4.666 7"}))}function il({title:e,titleId:t,desc:n,descId:r,...a}){return(0,we.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28px",height:"27px",fill:"currentColor",viewBox:"0 0 28 27",role:"img","aria-labelledby":t,"aria-describedby":r,...a},n?(0,we.h)("desc",{id:r},n):null,e?(0,we.h)("title",{id:t},e):null,(0,we.h)("path",{fill:"currentColor",d:"m9.692 9.111-9.087.674a.66.66 0 0 0-.379 1.162l5.025 4.258c2.642-.777 4.48-3.27 4.44-6.096l.001.002"}),(0,we.h)("path",{fill:"currentColor",d:"m26.912 9.798-9.093-.674-3.45-8.442a.661.661 0 0 0-1.224 0l-1.613 3.951c.58 1.075.939 2.312 1.035 3.658.27 3.737-1.917 7.252-5.399 8.553l.018.014-2.166 8.859a.66.66 0 0 0 .99.719l7.748-4.8 7.75 4.8a.66.66 0 0 0 .99-.72l-2.166-8.858 6.959-5.895a.66.66 0 0 0-.38-1.163v-.002"}))}function ol({title:e,titleId:t,desc:n,descId:r,...a}){return(0,we.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",role:"img","aria-labelledby":t,"aria-describedby":r,...a},n?(0,we.h)("desc",{id:r},n):null,e?(0,we.h)("title",{id:t},e):null,(0,we.h)("path",{stroke:"currentcolor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 22V11m-5 2v7a2 2 0 0 0 2 2h13.426a3 3 0 0 0 2.965-2.544l1.077-7A3 3 0 0 0 18.503 9H15a1 1 0 0 1-1-1V4.466A2.466 2.466 0 0 0 11.534 2a.822.822 0 0 0-.75.488l-3.52 7.918A1 1 0 0 1 6.35 11H4a2 2 0 0 0-2 2"}))}const ll=(0,Jo.N)((({checked:e,wrapperProps:t,focused:n,...r},a)=>(0,we.h)("div",{...t,className:(0,Jo.c)("widgets-checkbox",t?.className)},(0,we.h)("input",{className:(0,Jo.c)({"widgets-checkbox-focused":n}),ref:a,type:"checkbox",checked:e,...r}),e?(0,we.h)(nl,{"data-cy":"widgets-checkbox-checked","data-aqa-id":"widgets-checkbox-checked",className:"widgets-checkbox-checked"}):(0,we.h)(rl,{"data-cy":"widgets-checkbox-unchecked","data-aqa-id":"widgets-checkbox-unchecked",className:"widgets-checkbox-unchecked"}))));var cl=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},dl="undefined"!=typeof window&&window.document&&window.document.createElement?be.bt:be.d4,ul="top",hl="bottom",pl="right",ml="left",vl="auto",fl=[ul,hl,pl,ml],gl="start",_l="end",bl="clippingParents",wl="viewport",yl="popper",xl="reference",El=fl.reduce((function(e,t){return e.concat([t+"-"+gl,t+"-"+_l])}),[]),Pl=[].concat(fl,[vl]).reduce((function(e,t){return e.concat([t,t+"-"+gl,t+"-"+_l])}),[]),Cl=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function kl(e){return e?(e.nodeName||"").toLowerCase():null}function Nl(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Al(e){return e instanceof Nl(e).Element||e instanceof Element}function Ol(e){return e instanceof Nl(e).HTMLElement||e instanceof HTMLElement}function Sl(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Nl(e).ShadowRoot||e instanceof ShadowRoot)}var Rl={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];Ol(a)&&kl(a)&&(Object.assign(a.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],a=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Ol(r)&&kl(r)&&(Object.assign(r.style,s),Object.keys(a).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function Tl(e){return e.split("-")[0]}var Ll=Math.max,Il=Math.min,Ml=Math.round;function Zl(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function jl(){return!/^((?!chrome|android).)*safari/i.test(Zl())}function Bl(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),a=1,s=1;t&&Ol(e)&&(a=e.offsetWidth>0&&Ml(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Ml(r.height)/e.offsetHeight||1);var i=(Al(e)?Nl(e):window).visualViewport,o=!jl()&&n,l=(r.left+(o&&i?i.offsetLeft:0))/a,c=(r.top+(o&&i?i.offsetTop:0))/s,d=r.width/a,u=r.height/s;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function Hl(e){var t=Bl(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Vl(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Sl(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Fl(e){return Nl(e).getComputedStyle(e)}function Dl(e){return["table","td","th"].indexOf(kl(e))>=0}function zl(e){return((Al(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ul(e){return"html"===kl(e)?e:e.assignedSlot||e.parentNode||(Sl(e)?e.host:null)||zl(e)}function ql(e){return Ol(e)&&"fixed"!==Fl(e).position?e.offsetParent:null}function $l(e){for(var t=Nl(e),n=ql(e);n&&Dl(n)&&"static"===Fl(n).position;)n=ql(n);return n&&("html"===kl(n)||"body"===kl(n)&&"static"===Fl(n).position)?t:n||function(e){var t=/firefox/i.test(Zl());if(/Trident/i.test(Zl())&&Ol(e)&&"fixed"===Fl(e).position)return null;var n=Ul(e);for(Sl(n)&&(n=n.host);Ol(n)&&["html","body"].indexOf(kl(n))<0;){var r=Fl(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Wl(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Yl(e,t,n){return Ll(e,Il(t,n))}function Jl(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Gl(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var Kl={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=e.options,s=n.elements.arrow,i=n.modifiersData.popperOffsets,o=Tl(n.placement),l=Wl(o),c=[ml,pl].indexOf(o)>=0?"height":"width";if(s&&i){var d=function(e,t){return Jl("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Gl(e,fl))}(a.padding,n),u=Hl(s),h="y"===l?ul:ml,p="y"===l?hl:pl,m=n.rects.reference[c]+n.rects.reference[l]-i[l]-n.rects.popper[c],v=i[l]-n.rects.reference[l],f=$l(s),g=f?"y"===l?f.clientHeight||0:f.clientWidth||0:0,_=m/2-v/2,b=d[h],w=g-u[c]-d[p],y=g/2-u[c]/2+_,x=Yl(b,y,w),E=l;n.modifiersData[r]=((t={})[E]=x,t.centerOffset=x-y,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&Vl(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ql(e){return e.split("-")[1]}var Xl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ec(e){var t,n=e.popper,r=e.popperRect,a=e.placement,s=e.variation,i=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,h=i.x,p=void 0===h?0:h,m=i.y,v=void 0===m?0:m,f="function"==typeof d?d({x:p,y:v}):{x:p,y:v};p=f.x,v=f.y;var g=i.hasOwnProperty("x"),_=i.hasOwnProperty("y"),b=ml,w=ul,y=window;if(c){var x=$l(n),E="clientHeight",P="clientWidth";x===Nl(n)&&"static"!==Fl(x=zl(n)).position&&"absolute"===o&&(E="scrollHeight",P="scrollWidth"),(a===ul||(a===ml||a===pl)&&s===_l)&&(w=hl,v-=(u&&x===y&&y.visualViewport?y.visualViewport.height:x[E])-r.height,v*=l?1:-1),a!==ml&&(a!==ul&&a!==hl||s!==_l)||(b=pl,p-=(u&&x===y&&y.visualViewport?y.visualViewport.width:x[P])-r.width,p*=l?1:-1)}var C,k=Object.assign({position:o},c&&Xl),N=!0===d?function(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:Ml(n*a)/a||0,y:Ml(r*a)/a||0}}({x:p,y:v},Nl(n)):{x:p,y:v};return p=N.x,v=N.y,l?Object.assign({},k,((C={})[w]=_?"0":"",C[b]=g?"0":"",C.transform=(y.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",C)):Object.assign({},k,((t={})[w]=_?v+"px":"",t[b]=g?p+"px":"",t.transform="",t))}var tc={passive:!0},nc={left:"right",right:"left",bottom:"top",top:"bottom"};function rc(e){return e.replace(/left|right|bottom|top/g,(function(e){return nc[e]}))}var ac={start:"end",end:"start"};function sc(e){return e.replace(/start|end/g,(function(e){return ac[e]}))}function ic(e){var t=Nl(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function oc(e){return Bl(zl(e)).left+ic(e).scrollLeft}function lc(e){var t=Fl(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function cc(e){return["html","body","#document"].indexOf(kl(e))>=0?e.ownerDocument.body:Ol(e)&&lc(e)?e:cc(Ul(e))}function dc(e,t){var n;void 0===t&&(t=[]);var r=cc(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),s=Nl(r),i=a?[s].concat(s.visualViewport||[],lc(r)?r:[]):r,o=t.concat(i);return a?o:o.concat(dc(Ul(i)))}function uc(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function hc(e,t,n){return t===wl?uc(function(e,t){var n=Nl(e),r=zl(e),a=n.visualViewport,s=r.clientWidth,i=r.clientHeight,o=0,l=0;if(a){s=a.width,i=a.height;var c=jl();(c||!c&&"fixed"===t)&&(o=a.offsetLeft,l=a.offsetTop)}return{width:s,height:i,x:o+oc(e),y:l}}(e,n)):Al(t)?function(e,t){var n=Bl(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):uc(function(e){var t,n=zl(e),r=ic(e),a=null==(t=e.ownerDocument)?void 0:t.body,s=Ll(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),i=Ll(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-r.scrollLeft+oc(e),l=-r.scrollTop;return"rtl"===Fl(a||n).direction&&(o+=Ll(n.clientWidth,a?a.clientWidth:0)-s),{width:s,height:i,x:o,y:l}}(zl(e)))}function pc(e){var t,n=e.reference,r=e.element,a=e.placement,s=a?Tl(a):null,i=a?Ql(a):null,o=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(s){case ul:t={x:o,y:n.y-r.height};break;case hl:t={x:o,y:n.y+n.height};break;case pl:t={x:n.x+n.width,y:l};break;case ml:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=s?Wl(s):null;if(null!=c){var d="y"===c?"height":"width";switch(i){case gl:t[c]=t[c]-(n[d]/2-r[d]/2);break;case _l:t[c]=t[c]+(n[d]/2-r[d]/2)}}return t}function mc(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,s=n.strategy,i=void 0===s?e.strategy:s,o=n.boundary,l=void 0===o?bl:o,c=n.rootBoundary,d=void 0===c?wl:c,u=n.elementContext,h=void 0===u?yl:u,p=n.altBoundary,m=void 0!==p&&p,v=n.padding,f=void 0===v?0:v,g=Jl("number"!=typeof f?f:Gl(f,fl)),_=h===yl?xl:yl,b=e.rects.popper,w=e.elements[m?_:h],y=function(e,t,n,r){var a="clippingParents"===t?function(e){var t=dc(Ul(e)),n=["absolute","fixed"].indexOf(Fl(e).position)>=0&&Ol(e)?$l(e):e;return Al(n)?t.filter((function(e){return Al(e)&&Vl(e,n)&&"body"!==kl(e)})):[]}(e):[].concat(t),s=[].concat(a,[n]),i=s[0],o=s.reduce((function(t,n){var a=hc(e,n,r);return t.top=Ll(a.top,t.top),t.right=Il(a.right,t.right),t.bottom=Il(a.bottom,t.bottom),t.left=Ll(a.left,t.left),t}),hc(e,i,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}(Al(w)?w:w.contextElement||zl(e.elements.popper),l,d,i),x=Bl(e.elements.reference),E=pc({reference:x,element:b,strategy:"absolute",placement:a}),P=uc(Object.assign({},b,E)),C=h===yl?P:x,k={top:y.top-C.top+g.top,bottom:C.bottom-y.bottom+g.bottom,left:y.left-C.left+g.left,right:C.right-y.right+g.right},N=e.modifiersData.offset;if(h===yl&&N){var A=N[a];Object.keys(k).forEach((function(e){var t=[pl,hl].indexOf(e)>=0?1:-1,n=[ul,hl].indexOf(e)>=0?"y":"x";k[e]+=A[n]*t}))}return k}var vc={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,s=void 0===a||a,i=n.altAxis,o=void 0===i||i,l=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=void 0===p||p,v=n.allowedAutoPlacements,f=t.options.placement,g=Tl(f),_=l||(g!==f&&m?function(e){if(Tl(e)===vl)return[];var t=rc(e);return[sc(e),t,sc(t)]}(f):[rc(f)]),b=[f].concat(_).reduce((function(e,n){return e.concat(Tl(n)===vl?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,s=n.rootBoundary,i=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Pl:l,d=Ql(r),u=d?o?El:El.filter((function(e){return Ql(e)===d})):fl,h=u.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=u);var p=h.reduce((function(t,n){return t[n]=mc(e,{placement:n,boundary:a,rootBoundary:s,padding:i})[Tl(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:m,allowedAutoPlacements:v}):n)}),[]),w=t.rects.reference,y=t.rects.popper,x=new Map,E=!0,P=b[0],C=0;C<b.length;C++){var k=b[C],N=Tl(k),A=Ql(k)===gl,O=[ul,hl].indexOf(N)>=0,S=O?"width":"height",R=mc(t,{placement:k,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),T=O?A?pl:ml:A?hl:ul;w[S]>y[S]&&(T=rc(T));var L=rc(T),I=[];if(s&&I.push(R[N]<=0),o&&I.push(R[T]<=0,R[L]<=0),I.every((function(e){return e}))){P=k,E=!1;break}x.set(k,I)}if(E)for(var M=function(e){var t=b.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return P=t,"break"},Z=m?3:1;Z>0&&"break"!==M(Z);Z--);t.placement!==P&&(t.modifiersData[r]._skip=!0,t.placement=P,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function fc(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function gc(e){return[ul,pl,hl,ml].some((function(t){return e[t]>=0}))}var _c={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,s=void 0===a?[0,0]:a,i=Pl.reduce((function(e,n){return e[n]=function(e,t,n){var r=Tl(e),a=[ml,ul].indexOf(r)>=0?-1:1,s="function"==typeof n?n(Object.assign({},t,{placement:e})):n,i=s[0],o=s[1];return i=i||0,o=(o||0)*a,[ml,pl].indexOf(r)>=0?{x:o,y:i}:{x:i,y:o}}(n,t.rects,s),e}),{}),o=i[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=i}},bc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,s=void 0===a||a,i=n.altAxis,o=void 0!==i&&i,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,u=n.padding,h=n.tether,p=void 0===h||h,m=n.tetherOffset,v=void 0===m?0:m,f=mc(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),g=Tl(t.placement),_=Ql(t.placement),b=!_,w=Wl(g),y="x"===w?"y":"x",x=t.modifiersData.popperOffsets,E=t.rects.reference,P=t.rects.popper,C="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,k="number"==typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(x){if(s){var O,S="y"===w?ul:ml,R="y"===w?hl:pl,T="y"===w?"height":"width",L=x[w],I=L+f[S],M=L-f[R],Z=p?-P[T]/2:0,j=_===gl?E[T]:P[T],B=_===gl?-P[T]:-E[T],H=t.elements.arrow,V=p&&H?Hl(H):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},D=F[S],z=F[R],U=Yl(0,E[T],V[T]),q=b?E[T]/2-Z-U-D-k.mainAxis:j-U-D-k.mainAxis,$=b?-E[T]/2+Z+U+z+k.mainAxis:B+U+z+k.mainAxis,W=t.elements.arrow&&$l(t.elements.arrow),Y=W?"y"===w?W.clientTop||0:W.clientLeft||0:0,J=null!=(O=null==N?void 0:N[w])?O:0,G=L+$-J,K=Yl(p?Il(I,L+q-J-Y):I,L,p?Ll(M,G):M);x[w]=K,A[w]=K-L}if(o){var Q,X="x"===w?ul:ml,ee="x"===w?hl:pl,te=x[y],ne="y"===y?"height":"width",re=te+f[X],ae=te-f[ee],se=-1!==[ul,ml].indexOf(g),ie=null!=(Q=null==N?void 0:N[y])?Q:0,oe=se?re:te-E[ne]-P[ne]-ie+k.altAxis,le=se?te+E[ne]+P[ne]-ie-k.altAxis:ae,ce=p&&se?function(e,t,n){var r=Yl(e,t,n);return r>n?n:r}(oe,te,le):Yl(p?oe:re,te,p?le:ae);x[y]=ce,A[y]=ce-te}t.modifiersData[r]=A}},requiresIfExists:["offset"]};function wc(e,t,n){void 0===n&&(n=!1);var r,a,s=Ol(t),i=Ol(t)&&function(e){var t=e.getBoundingClientRect(),n=Ml(t.width)/e.offsetWidth||1,r=Ml(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=zl(t),l=Bl(e,i,n),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(s||!s&&!n)&&(("body"!==kl(t)||lc(o))&&(c=(r=t)!==Nl(r)&&Ol(r)?{scrollLeft:(a=r).scrollLeft,scrollTop:a.scrollTop}:ic(r)),Ol(t)?((d=Bl(t,!0)).x+=t.clientLeft,d.y+=t.clientTop):o&&(d.x=oc(o))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function yc(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),r}var xc={placement:"bottom",modifiers:[],strategy:"absolute"};function Ec(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}var Pc=function(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,s=void 0===a?xc:a;return function(e,t,n){void 0===n&&(n=s);var a,i,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},xc,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:o,setOptions:function(n){var a="function"==typeof n?n(o.options):n;u(),o.options=Object.assign({},s,o.options,a),o.scrollParents={reference:Al(e)?dc(e):e.contextElement?dc(e.contextElement):[],popper:dc(t)};var i,c,h=function(e){var t=yc(e);return Cl.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((i=[].concat(r,o.options.modifiers),c=i.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return o.orderedModifiers=h.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"==typeof a){var s=a({state:o,name:t,instance:d,options:r});l.push(s||function(){})}})),d.update()},forceUpdate:function(){if(!c){var e=o.elements,t=e.reference,n=e.popper;if(Ec(t,n)){o.rects={reference:wc(t,$l(n),"fixed"===o.options.strategy),popper:Hl(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var a=o.orderedModifiers[r],s=a.fn,i=a.options,l=void 0===i?{}:i,u=a.name;"function"==typeof s&&(o=s({state:o,options:l,name:u,instance:d})||o)}else o.reset=!1,r=-1}}},update:(a=function(){return new Promise((function(e){d.forceUpdate(),e(o)}))},function(){return i||(i=new Promise((function(e){Promise.resolve().then((function(){i=void 0,e(a())}))}))),i}),destroy:function(){u(),c=!0}};if(!Ec(e,t))return d;function u(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,s=void 0===a||a,i=r.resize,o=void 0===i||i,l=Nl(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach((function(e){e.addEventListener("scroll",n.update,tc)})),o&&l.addEventListener("resize",n.update,tc),function(){s&&c.forEach((function(e){e.removeEventListener("scroll",n.update,tc)})),o&&l.removeEventListener("resize",n.update,tc)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=pc({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,s=n.adaptive,i=void 0===s||s,o=n.roundOffsets,l=void 0===o||o,c={placement:Tl(t.placement),variation:Ql(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ec(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ec(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Rl,_c,vc,bc,Kl,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,i=mc(t,{elementContext:"reference"}),o=mc(t,{altBoundary:!0}),l=fc(i,r),c=fc(o,a,s),d=gc(l),u=gc(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]}),Cc="undefined"!=typeof Element,kc="function"==typeof Map,Nc="function"==typeof Set,Ac="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function Oc(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,r,a,s;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!Oc(e[r],t[r]))return!1;return!0}if(kc&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!Oc(r.value[1],t.get(r.value[0])))return!1;return!0}if(Nc&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Ac&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((n=(a=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;if(Cc&&e instanceof Element)return!1;for(r=n;0!=r--;)if(("_owner"!==a[r]&&"__v"!==a[r]&&"__o"!==a[r]||!e.$$typeof)&&!Oc(e[a[r]],t[a[r]]))return!1;return!0}return e!=e&&t!=t}var Sc=(0,Jo.g)((function(e,t){try{return Oc(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}})),Rc=[],Tc=function(e,t,n){void 0===n&&(n={});var r=be.sO(null),a={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Rc},s=be.eJ({styles:{popper:{position:a.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),i=s[0],o=s[1],l=be.Ye((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);be.iW((function(){o({styles:cl(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:cl(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),c=be.Ye((function(){var e={onFirstUpdate:a.onFirstUpdate,placement:a.placement,strategy:a.strategy,modifiers:[].concat(a.modifiers,[l,{name:"applyStyles",enabled:!1}])};return Sc(r.current,e)?r.current||e:(r.current=e,e)}),[a.onFirstUpdate,a.placement,a.strategy,a.modifiers,l]),d=be.sO();return dl((function(){d.current&&d.current.setOptions(c)}),[c]),dl((function(){if(null!=e&&null!=t){var r=(n.createPopper||Pc)(e,t,c);return d.current=r,function(){r.destroy(),d.current=null}}}),[e,t,n.createPopper]),{state:d.current?d.current.state:null,styles:i.styles,attributes:i.attributes,update:d.current?d.current.update:null,forceUpdate:d.current?d.current.forceUpdate:null}};const Lc=({content:e,children:t,placement:n="top",id:r})=>{const[a,s]=(0,Ee.eJ)(null),[i,o]=(0,Ee.eJ)(null),[l,c]=(0,Ee.eJ)(null),{styles:d,attributes:u,update:h}=Tc(a,i,{placement:n,modifiers:[{name:"arrow",options:{element:l}},{name:"offset",options:{offset:[0,12]}}]}),p=()=>{h&&h().then((()=>i?.classList.add("tooltip-visible")))},m=()=>{i?.classList.remove("tooltip-visible")};return(0,we.h)(we.HY,null,(0,we.h)("div",{className:"widgets-tooltip",onMouseEnter:p,onMouseLeave:m,onFocus:p,onBlur:m,ref:s,"data-aqa-id":"widgets-tooltip-wrapper"},t),(0,we.h)("div",{id:r,role:"tooltip",className:"widgets-tooltip-bubble","data-aqa-id":"widgets-tooltip-bubble",style:d.popper,ref:o,...u.popper},e,(0,we.h)("span",{ref:c,style:d.arrow,...u.arrow,className:"widgets-tooltip-bubble-arrow"})))},Ic=({tooltipMessage:e,children:t,id:n,variant:r="outlined"})=>{const a=(0,Jo.c)(["widgets-chip",r]);return e?(0,we.h)(Lc,{id:`${n}-tooltip`,content:e},(0,we.h)("div",{id:n,"aria-describedby":`${n}-tooltip`,className:a,"data-aqa-id":"widgets-chip"},t)):(0,we.h)("div",{"data-aqa-id":"widgets-chip",id:n,className:a},t)},Mc=({className:e,...t})=>(0,we.h)("hr",{className:(0,Jo.c)("widget-divider",e),...t}),Zc=({label:e,comboBoxId:t,expanded:n,onClick:r,onKeyDown:a,className:s,...i})=>(0,we.h)("div",{className:(0,Jo.c)(s,"widgets-dropdown-button",n&&"widgets-dropdown-button-expanded"),tabIndex:0,onClick:r,role:t?"combobox":void 0,"aria-haspopup":t?"listbox":void 0,"aria-controls":t,"aria-expanded":n,onKeyDown:a,...i},(0,we.h)("span",{className:"widgets-dropdown-button-label"},e),(0,we.h)(Qo,{"data-cy":"widgets-dropdown-button-arrow",className:(0,Jo.c)({"widgets-dropdown-button-arrow-inverted":n},"widgets-dropdown-button-arrow")})),jc=(0,Jo.N)((({children:e,selected:t,onClick:n,focused:r,...a},s)=>(0,we.h)("div",{className:(0,Jo.c)({"widgets-dropdown-item":!0,"widgets-dropdown-item-focused":r}),tabIndex:-1,onClick:n,onKeyPress:e=>"Enter"===e.key&&n(),role:"option","aria-selected":t,...a,ref:s},e))),Bc=({percentage:e=100,variation:t="large",color:n="white"})=>{const r=(0,Ee.Ye)((()=>e>100||Number.isNaN(e)?100:e<0?0:e),[e]);return(0,we.h)("div",{"data-aqa-id":"filled-star",className:(0,Jo.c)(["filled-star-container",t,n])},(0,we.h)("div",{style:{width:`${r}%`},className:"filled-star-container-left","data-cy":"filled-star-container-left"}),(0,we.h)("div",{style:{width:100-r+"%"},className:"filled-star-container-right","data-cy":"filled-star-container-right"}),(0,we.h)(il,null))},Hc=({className:e,startIcon:t,endIcon:n,label:r,isActive:a=!1,...s})=>(0,we.h)("button",{type:"button",className:(0,Jo.c)("widgets-inline-action",e,{"is-active":a}),...s},t,r,n),Vc=({className:e,href:t,children:n,...r})=>(0,we.h)("a",{href:t,className:(0,Jo.c)("widgets-link",e),...r},n),Fc=({className:e,...t})=>(0,we.h)("div",{className:(0,Jo.c)("loading-spinner",e),...t});function Dc(e){return"function"==typeof e?e():e}const zc=({anchorEl:e,children:t,placement:n=hl,modifiers:r,popperElProps:a,withTransition:s=!1})=>{const[i,o]=(0,Ee.eJ)(null),{styles:l,attributes:c,update:d}=Tc(Dc(e),i,{placement:n,modifiers:r}),u=(0,Ee.I4)((()=>{d&&d().then((()=>i?.classList.add("visible")))}),[d,i]),h=(0,Ee.I4)((()=>{i?.classList.remove("visible")}),[i]);return(0,Ee.d4)((()=>{e&&d?u():h()}),[e,d,u,h]),(0,we.h)("div",{className:(0,Jo.c)({"widgets-popper":!0,"widgets-popper-transition":s}),"data-cy":"widgets-popper","data-aqa-id":"widgets-popper",ref:o,...c.popper,...a,style:{...l.popper,...a?.style}},t)},Uc=({star:e,count:t,totalCount:n})=>{const r=t/n*100;return(0,we.h)(we.HY,null,(0,we.h)("strong",{className:"rating-star","aria-hidden":!0},e," ",(0,we.h)(il,{height:16,width:16,"aria-label":"star"})),(0,we.h)("div",{className:"rating-meter",role:"meter","aria-valuemin":0,"aria-valuenow":t,"aria-valuemax":n,"data-aqa-id":`rating-meter:${e}`},(0,we.h)("div",{style:{width:`${r}%`},className:"rating-meter-highlight"})),(0,we.h)("div",{className:"rating-meter-count","aria-hidden":!0},t.toLocaleString()))},qc=({attribute:e,className:t,...n})=>(0,we.h)("div",{className:(0,Jo.c)("service-attribute",t),"data-aqa-id":"service-attribute",...n},e);function $c({title:e,titleId:t,desc:n,descId:r,...a}){return(0,we.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19px",height:"19px",fill:"currentColor",viewBox:"0 0 19 19",role:"img","aria-labelledby":t,"aria-describedby":r,...a},n?(0,we.h)("desc",{id:r},n):null,e?(0,we.h)("title",{id:t},e):null,(0,we.h)("path",{d:"M17.375 9.98961C17.3755 10.1806 17.3265 10.3685 17.2329 10.5349C17.1392 10.7014 17.0041 10.8408 16.8406 10.9395L6.71 17.1369C6.5392 17.2415 6.34358 17.2986 6.14334 17.3023C5.94309 17.306 5.74549 17.2562 5.57094 17.158C5.39805 17.0613 5.25402 16.9203 5.15368 16.7495C5.05333 16.5788 5.00029 16.3843 5 16.1862V3.79297C5.00029 3.59489 5.05333 3.40046 5.15368 3.22967C5.25402 3.05889 5.39805 2.91792 5.57094 2.82125C5.74549 2.72306 5.94309 2.67324 6.14334 2.67695C6.34358 2.68066 6.5392 2.73776 6.71 2.84234L16.8406 9.03969C17.0041 9.13846 17.1392 9.27785 17.2329 9.44431C17.3265 9.61076 17.3755 9.79862 17.375 9.98961Z",fill:"currentColor"}))}const Wc=(0,Jo.N)((({className:e,src:t,alt:n,isVideo:r,...a},s)=>(0,we.h)("button",{ref:s,type:"button",className:(0,Jo.c)("media-thumbnail",e),style:t?{backgroundImage:`url(${t})`}:{},"aria-label":n,...a},r&&(0,we.h)("div",{className:"svg-circle-background"},(0,we.h)($c,{width:"18px",height:"18px"}))))),Yc=({open:e,onClose:t,children:n,className:r,closeButtonProps:a,...s})=>{const i=(0,Ee.sO)(null);return(0,Ee.d4)((()=>{document.body.style.overflow=e?"hidden":"auto";const n=n=>{n.key===Jo.K.ESCAPE&&e&&t()},r=i.current;if(!r)return;const a=Array.from(r?.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')),s=a[0],o=a[a.length-1],l=e=>{if(e.key===Jo.K.TAB){if(0===a.length)return void e.preventDefault();const t=e.composedPath()[0];a.includes(t)?e.shiftKey&&t===s?(e.preventDefault(),o.focus()):e.shiftKey||t!==o||(e.preventDefault(),s.focus()):(e.preventDefault(),s.focus())}};return document.addEventListener("keydown",n),document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",n),document.removeEventListener("keydown",l)}}),[e,t]),e?(0,we.h)("div",{ref:i,role:"presentation",className:(0,Jo.c)("modal-container",r),"data-aqa-id":"modal-container",...s},(0,we.h)("div",{className:"modal"},(0,we.h)("div",{role:"presentation",className:"modal-backdrop",onClick:t}),(0,we.h)("div",{role:"dialog","aria-modal":"true",className:"modal-content"},(0,we.h)("button",{tabIndex:-1,type:"button",className:"modal-close",onClick:t,"data-aqa-id":"modal-close-button",...a},(0,we.h)(Jo.S,null)),n))):null},Jc=({percent:e,className:t,...n})=>(0,we.h)("div",{role:"meter","aria-valuenow":e,"aria-valuemin":0,"aria-valuemax":100,...n,className:(0,Jo.c)("linear-progress",t)},(0,we.h)("div",{className:"linear-progress-track"},(0,we.h)("div",{"data-cy":"linear-progress-fill",className:"linear-progress-fill",style:{left:`clamp(0%, calc(${e}% - var(--feefo-size-linear-progress-width) / 2), calc(100% - var(--feefo-size-linear-progress-width))`}}))),Gc=({id:e,openText:t,closeText:n,defaultOpen:r=!1,children:a,className:s,withBorder:i=!1,expandUp:o=!1,...l})=>{const[c,d]=(0,Ee.eJ)(r),u=(0,Ee.sO)(null),[h,p]=(0,Ee.eJ)(r?void 0:0),m=`collapsible-content-${e}`;(0,Ee.d4)((()=>{if(c&&null!==u.current){const e=u.current.scrollHeight;p(e)}else p(0)}),[c]);const v=c?n:t,f=(0,we.h)("div",{className:"collapsible-header"},(0,we.h)(Hc,{label:v,endIcon:(0,we.h)(Qo,{"data-cy":"widgets-dropdown-button-arrow",className:(0,Jo.c)("widgets-dropdown-button-arrow",{"widgets-dropdown-button-arrow-inverted":c})}),isActive:!c,onClick:()=>{d(!c)},"aria-label":v,"aria-expanded":c,"aria-controls":m})),g=(0,we.h)("div",{id:m,ref:u,className:(0,Jo.c)("collapsible-content",{"with-border":i}),style:{height:h}},a);return(0,we.h)("div",{className:(0,Jo.c)("collapsible-section",s),...l},o?g:f,o?f:g)},Kc=({reviewsText:e,chipLabel:t,chipIcon:n,chipTooltipMessage:r,chipVariant:a,name:s,location:i,id:o})=>{const l=i||e;return(0,we.h)("div",{"data-aqa-id":"consumer-details",className:"consumer-details"},(0,we.h)("div",{className:"consumer-details-top"},(0,we.h)("strong",{"data-aqa-id":"consumer-details-name"},s),(0,we.h)(Ic,{id:`${o}-chip`,tooltipMessage:r,variant:a},(0,we.h)(we.HY,null,n,t))),l&&(0,we.h)("div",{className:"consumer-details-bottom"},i&&(0,we.h)(we.HY,null,(0,we.h)("span",{"data-aqa-id":"consumer-details-location",className:"consumer-details-bottom-location"},(0,we.h)(sl,{title:"location"}),i),e&&(0,we.h)(al,{className:"consumer-details-bottom-location-circle",width:4,height:4})),e&&(0,we.h)("span",{"data-aqa-id":"consumer-details-review-count"},e)))},Qc=({options:e,onOpenDropdown:t,onCloseDropdown:n,onSelect:r})=>{const a=(0,Ee.sO)([]),[s,i]=(0,Ee.eJ)(),[o,l]=(0,Ee.eJ)(null),c=(0,Ee.sO)(null),d=()=>{t?.(),i(c.current)},u=(0,Ee.I4)((()=>{s&&(n?.(),i(null),l(null))}),[s,n]),h=(0,Ee.I4)((e=>{const t=e.composedPath();c.current&&!t.includes(c.current)&&u()}),[u]);(0,Ee.d4)((()=>(document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)})),[h]),(0,Ee.d4)((()=>{null!==o&&a.current&&a.current[o]?.scrollIntoView?.({block:"nearest"})}),[o]);const p=()=>{o!==e.length-1&&l((e=>null===e?0:e+1))},m=()=>{0!==o&&l((e=>null===e?0:e-1))},v=e=>{e.preventDefault(),s?m():d()},f=e=>{e.preventDefault(),s?p():d()},g=e=>{s&&(e.preventDefault(),m())},_=e=>{s&&(e.preventDefault(),p())},b=e=>{e.preventDefault(),s?w():d()},w=()=>{null!==o&&r(e[o])},y=e=>{s&&(e.preventDefault(),l(0))},x=t=>{s&&(t.preventDefault(),l(e.length-1))};return{wrapperRef:c,anchorEl:s,itemRefs:a,highlightedIndex:o,setHighlightedIndex:l,onKeyDown:e=>{new Jo.a({onArrowUp:v,onArrowDown:f,onPageUp:g,onPageDown:_,onEnter:b,onEscape:u,onHome:y,onEnd:x,onTab:u}).listen(e)},closeDropdown:u,toggleDropdown:()=>{i(s?null:c.current)},setAnchorEl:i}},Xc=({children:e,cardProps:t,anchorEl:n,withAnchorElWidth:r,popperElProps:a,...s})=>{const[i,o]=(0,Ee.eJ)();return(0,Ee.d4)((()=>{n&&r&&o(Dc(n)?.offsetWidth)}),[n,r]),(0,we.h)(zc,{anchorEl:n,...s,popperElProps:{...a,style:{width:i,...a?.style}}},(0,we.h)("div",{"data-aqa-id":"widgets-popper-card",className:"widgets-popper-card",...t},e))},ed={name:"offset",options:{offset:[0,4]}},td=({id:e,listProps:t,listItemProps:n,value:r,onChange:a,options:s,dropdownControl:{closeDropdown:i,itemRefs:o,anchorEl:l,highlightedIndex:c},withAnchorElWidth:d})=>{const u=e=>t=>{o.current[e]=t};return(0,we.h)(Xc,{withTransition:!0,placement:"bottom-start",anchorEl:l,withAnchorElWidth:d,modifiers:[ed]},(0,we.h)("ul",{id:`${e}-list`,role:"listbox",...t},s.map(((e,t)=>(0,we.h)(jc,{ref:u(t),key:e.value,id:`option-${t}`,selected:r===e.value,onClick:()=>(e=>{a(e),i()})(e.value),focused:c===t,...n,...e.listItemPropsOverrides},e.label)))))},nd=e=>{const{label:t,options:n,id:r,wrapperProps:a,dropdownButtonProps:s,value:i,onChange:o}=e,l=Qc({options:n,onOpenDropdown:()=>{i?m(n.findIndex((e=>e.value===i))):null===p&&m(0)},onSelect:e=>{(e=>{o(e),c()})(e.value)}}),{closeDropdown:c,onKeyDown:d,wrapperRef:u,anchorEl:h,highlightedIndex:p,setHighlightedIndex:m,toggleDropdown:v}=l,f=(0,Ee.Ye)((()=>n.find((e=>e.value===i))?.label),[i,n]);return(0,we.h)("div",{"data-cy":"dropdown-wrapper",ref:u,...a,className:(0,Jo.c)("widgets-dropdown",a?.className)},(0,we.h)(Zc,{onClick:v,onKeyDown:d,expanded:!!h,comboBoxId:`${r}-list`,label:f||t,"aria-label":t,...s}),(0,we.h)(td,{...e,dropdownControl:l,withAnchorElWidth:!0}))},rd=({totalItems:e,pageSize:t,currentPage:n})=>{const r=Math.ceil(e/t);return{totalPages:r,hasPrevious:n>1,hasNext:n<r}},ad=({locale:e,textNode:t,currentPage:n,totalItems:r,pageSize:a,onChangePage:s,previousButtonProps:i,nextButtonProps:o})=>{const{totalPages:l,hasPrevious:c,hasNext:d}=rd({currentPage:n,totalItems:r,pageSize:a}),u=t.replace("{{currentPage}}",n.toLocaleString(e)).replace("{{totalPages}}",l.toLocaleString(e));return(0,we.h)("div",{className:"pagination-compact","data-testid":"pagination-compact"},(0,we.h)(Go,{disabled:!c,shape:"rounded",onClick:()=>s(n-1),"aria-label":"Go to previous page","data-aqa-id":"pagination-previous-button",startIcon:(0,we.h)(Xo,{width:"20px",height:"20px"}),...i}),(0,we.h)("div",{className:"pagination-compact_current-page"},u),(0,we.h)(Go,{disabled:!d,shape:"rounded",onClick:()=>s(n+1),"aria-label":"Go to next page","data-aqa-id":"pagination-next-button",endIcon:(0,we.h)(el,{width:"20px",height:"20px"}),...o}))},sd=({currentPage:e,pageSize:t,onChangePage:n,totalItems:r,previousButtonProps:a,nextButtonProps:s,currentPageButtonProps:i})=>{const{totalPages:o,hasPrevious:l,hasNext:c}=rd({currentPage:e,totalItems:r,pageSize:t}),d=((e,t)=>{const n=(0,Jo.u)(540);return(0,Ee.Ye)((()=>{const r=t-e+1,a=e-1;return Array(t).fill("").map(((s,i)=>{const o=i+1;return t<=5||o===e||1===o||o===t||!n&&e<=2&&o<=3||!n&&e>=t-2&&o>=t-3?o:o<=e&&(t=>(!n||2!==t||3!==e)&&(!!n||a>2&&t<e-1&&e-2!=2))(o)||o>=e&&(a=>(!n||a!==t-1||e!==t-2)&&(!!n||r>2&&a>e+1&&e+2!==t-1))(o)?void 0:o})).filter(((e,t,n)=>0===t||e!==n[t-1]))}),[e,n,t])})(e,o);return(0,we.h)("div",{className:"new-pagination-container"},l&&(0,we.h)(Go,{shape:"rounded",className:"pagination-edge",onClick:()=>n(e-1),"aria-label":"Go to previous page","data-aqa-id":"pagination-previous-button",startIcon:(0,we.h)(Xo,{width:"20px",height:"20px"}),...a}),(0,we.h)("div",{className:"pagination-pages"},d.map((t=>{if(t){const r=t===e;return(0,we.h)(Go,{variant:"text",shape:"rounded",className:"pagination-page "+(t===e?"pagination-current-page":""),key:t,disabled:r,"aria-current":r,"data-aqa-id":"pagination-page-button","aria-label":r?`Current Page ${t}`:`Page ${t}`,onClick:()=>n(t),...r?i:{}},t.toLocaleString())}return(0,we.h)(Go,{shape:"rounded",variant:"text",className:"pagination-elipses",key:t,disabled:!0},"...")}))),c&&(0,we.h)(Go,{shape:"rounded",className:"pagination-edge",onClick:()=>n(e+1),"aria-label":"Go to next page","data-aqa-id":"pagination-next-button",endIcon:(0,we.h)(el,{width:"20px",height:"20px"}),...s}))},id=({ratingDescriptor:e,attributeName:t,rating:n})=>(0,we.h)("div",{className:"product-attribute-meter-container",role:"meter","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":5,"data-aqa-id":`product-attribute-meter:${t}`},(0,we.h)("div",{className:"attribute-description"},(0,we.h)("strong",null,t,":")," ",e),(0,we.h)("div",{className:"attribute-rating-meter"},Array.from({length:5},((e,t)=>(0,we.h)("div",{className:"attribute-rating-meter-section",key:t},n>t&&(0,we.h)("div",{className:"attribute-rating-meter-highlight",style:{width:od(n,t)}})))))),od=(e,t)=>{if(e>t+1)return"100%";let n=e-t;return n=+n.toFixed(2),100*n+"%"},ld=({attributes:e})=>(0,we.h)("div",{className:"product-attributes-container","data-aqa-id":"product-attributes"},e.map((e=>e.descriptors?(0,we.h)(wd,{key:e.label,...e}):(0,we.h)(id,{key:e.attributeName,...e})))),cd=({rating:e,ariaLabel:t="Star rating"})=>{const n=Array.from({length:5},((t,n)=>(0,we.h)(il,{key:n,height:18,width:18,className:e>n?"star-highlight":""})));return(0,we.h)("div",{className:"star-rating-container",role:"meter","aria-valuemin":0,"aria-valuenow":e,"aria-valuemax":5,"aria-label":t,"data-aqa-id":"star-rating"},n)},dd=({rating:e,reviewContent:t,productAttributes:n,className:r,...a})=>(0,we.h)("div",{className:(0,Jo.c)("product-review",r),...a},(0,we.h)(cd,{rating:e}),(0,we.h)("p",{className:"product-review-body"},t),n&&(0,we.h)(ld,{attributes:n})),ud=({oneStar:e,twoStar:t,threeStar:n,fourStar:r,fiveStar:a,className:s,...i})=>{const o=e+t+n+r+a;return(0,we.h)("div",{...i,className:(0,Jo.c)("rating-breakdown-container",s)},(0,we.h)(Uc,{star:5,count:a,totalCount:o}),(0,we.h)(Uc,{star:4,count:r,totalCount:o}),(0,we.h)(Uc,{star:3,count:n,totalCount:o}),(0,we.h)(Uc,{star:2,count:t,totalCount:o}),(0,we.h)(Uc,{star:1,count:e,totalCount:o}))},hd=({label:e,id:t,value:n,onChange:r,onApply:a,optionsLabel:s,wrapperProps:i,dropdownButtonProps:o})=>{const l=s.map(((e,t)=>({value:t+1,label:e}))),{onKeyDown:c,wrapperRef:d,anchorEl:u,highlightedIndex:h,setHighlightedIndex:p,toggleDropdown:m}=Qc({options:l,onSelect:e=>{n.includes(e.value)?r(n.filter((t=>t!==e.value))):r([...n,e.value])},onOpenDropdown:()=>{p(0)},onCloseDropdown:a});return(0,we.h)("div",{...i,className:(0,Jo.c)("widgets-rating-selector",i?.className),ref:d},(0,we.h)(Zc,{"data-aqa-id":"rating-selector-button",comboBoxId:`${t}-list`,label:e,"aria-label":e,expanded:!!u,onClick:m,onKeyDown:c,...o}),(0,we.h)(Xc,{withTransition:!0,withAnchorElWidth:!0,placement:"bottom-start",modifiers:[ed],anchorEl:u},(0,we.h)("ul",{id:`${t}-list`,role:"listbox"},l.map(((e,t)=>{return(0,we.h)("li",{role:"option",key:e.value,"aria-selected":n.includes(e.value)},(0,we.h)(ll,{"aria-label":e.label,"data-aqa-id":"rating-selector-checkbox",focused:h===t,checked:n.includes(e.value),onChange:(a=e.value,e=>{e.currentTarget.checked?r([...n,a]):r(n.filter((e=>e!==a)))}),tabIndex:-1}),(0,we.h)(cd,{rating:e.value}));var a})))))},pd=({replyText:e,name:t,merchant:n,datePosted:r,avatar:a,className:s,...i})=>(0,we.h)(Ko,{className:(0,Jo.c)("reply-card",s),"data-aqa-id":"reply",...i},(0,we.h)("div",{className:"reply-body"},(0,we.h)("p",{className:"reply-text"},e)),(0,we.h)("div",{className:"reply-footer"},a&&(0,we.h)("div",{className:"avatar-wrapper"},(0,we.h)("img",{src:a.src,alt:a.alt,className:"reply-avatar"})),(0,we.h)("div",{className:"reply-info"},(0,we.h)("strong",{"data-aqa-id":"reply-name"},t),(0,we.h)("div",{className:"reply-data"},n&&(0,we.h)(we.HY,null,(0,we.h)("p",{className:"reply-merchant"},n),(0,we.h)(al,{className:"reply-data-seperator-circle",width:5,height:5})),(0,we.h)("span",{className:"reply-date"},r))))),md=({rating:e,reviewTitle:t,reviewContent:n,serviceAttributes:r,className:a,...s})=>(0,we.h)("div",{className:(0,Jo.c)("service-review",a),...s},(0,we.h)(cd,{rating:e}),t&&(0,we.h)("span",{className:"service-review-title"},t),(0,we.h)("p",{className:"service-review-body"},n),(0,we.h)("div",{className:"service-attributes-wrapper"},r.map((e=>(0,we.h)(qc,{key:e,attribute:e}))))),vd=({score:e=0,descriptor:t,scoreText:n,ratingsText:r,ratingTypeText:a,className:s,...i})=>{const o=(0,Ee.Ye)((()=>Number.isNaN(e)||e<0?0:e>5?5:e),[e]),l=(0,Ee.Ye)((()=>{const e=Math.floor(o),t=o-Math.floor(o);let n=!1;return Array.from({length:5}).map(((r,a)=>{const s=`star${a}`;return a<=e-1?{key:s,percentage:100}:t&&!n?(n=!0,{key:s,percentage:100*t}):{key:s,percentage:0}}))}),[o]);return(0,we.h)("div",{"data-aqa-id":"top-line-stars",...i,className:(0,Jo.c)("top-line-stars",s)},(0,we.h)("strong",{id:"top-line-stars-descriptor","data-aqa-id":"top-line-stars-descriptor",className:"top-line-stars-descriptor"},t),(0,we.h)("div",{role:"presentation",className:"top-line-stars-star-section","data-aqa-id":"top-line-stars-star-section","aria-labelledby":"top-line-stars-score-text","aria-describedby":"top-line-stars-descriptor"},l.map((({percentage:e,key:t})=>(0,we.h)(Bc,{percentage:e,key:t})))),(0,we.h)("div",{className:"top-line-stars-score-text"},(0,we.h)("strong",{id:"top-line-stars-score-text","data-aqa-id":"top-line-stars-score-text"},n),!!r&&(0,we.h)(we.HY,null,(0,we.h)(al,{className:"top-line-stars-circle",width:4}),(0,we.h)("strong",{"data-aqa-id":"top-line-stars-ratings-text"},r))),(0,we.h)("div",{className:"top-line-stars-logo-wrapper"},(0,we.h)("span",{className:"top-line-stars-rating-type"},a),(0,we.h)(Jo.b,{"aria-label":"Feefo",className:"top-line-stars-feefo-logo"})))},fd=({thumbnails:e,onThumbnailClick:t,onFetchMoreThumbnails:n,prevButtonProps:r,nextButtonProps:a})=>{const s=(0,Ee.sO)(null),[i,o]=(0,Ee.eJ)(!1),[l,c]=(0,Ee.eJ)(!0),[d,u]=(0,Ee.eJ)(!1),[h,p]=(0,Ee.eJ)(e),[m,v]=(0,Ee.eJ)(new Set),[f,g]=(0,Ee.eJ)(!1),[_,b]=(0,Ee.eJ)(!1),[w,y]=(0,Ee.eJ)(new Set),x=(0,Ee.sO)(null),E=(0,Ee.sO)(null),P=(0,Ee.sO)({}),C=(0,Ee.sO)(!1);(0,Ee.d4)((()=>()=>{C.current=!0}),[]),(0,Ee.d4)((()=>{o(!(l&&d))}),[l,d]);const{handleScrollLeft:k,handleScrollRight:N}=function(e){const t=(0,Ee.I4)((()=>{if(e.current){const t=getComputedStyle(e.current),n=parseInt(t.getPropertyValue("--thumbnail-width"),10),r=e.current.clientWidth-n;e.current.scrollBy({left:r>n?r:n,behavior:"smooth"})}}),[e]);return{handleScrollLeft:(0,Ee.I4)((()=>{if(e.current){const t=getComputedStyle(e.current),n=parseInt(t.getPropertyValue("--thumbnail-width"),10),r=e.current.clientWidth-n;e.current.scrollBy({left:r>n?-r:-n,behavior:"smooth"})}}),[e]),handleScrollRight:t}}(s);return(0,Ee.d4)((()=>{(async()=>{if(n&&!f&&m.size>0){const e=Math.max(...m);if(h.length-e<=5&&!_){g(!0);try{const e=await n(h.length);!C.current&&e?.length>0?p((t=>[...t,...e])):b(!0)}finally{C.current||g(!1)}}}})()}),[m,h.length,n,f,_]),(0,Ee.d4)((()=>{const e=s.current,t=x.current,n=E.current;if(!e||!t||!n)return;const r={root:e,threshold:.1},a=new IntersectionObserver((e=>{e.forEach((e=>{c(e.isIntersecting)}))}),r),i=new IntersectionObserver((e=>{e.forEach((e=>{u(e.isIntersecting)}))}),r);return a.observe(t),i.observe(n),()=>{a.disconnect(),i.disconnect()}}),[]),(0,Ee.d4)((()=>{const e=s.current;if(!e)return;const t=new IntersectionObserver((e=>{(e=>{y((t=>{const n=new Set(t);return e.forEach((e=>((e,t)=>{const n=Number(e.target.getAttribute("data-index"));e.isIntersecting?t.add(n):t.delete(n)})(e,n))),n}))})(e)}),{root:e,threshold:.1});return h.forEach(((e,n)=>{const r=P.current[n];r&&t.observe(r)})),()=>{t.disconnect()}}),[h]),(0,Ee.d4)((()=>{v(function(e,t,n){const r=new Set;return e.forEach((e=>{r.add(e);for(let n=1;n<=5;n++){const a=e-n,s=e+n;a>=0&&r.add(a),s<t&&r.add(s)}})),r}(w,h.length))}),[w,h.length]),(0,we.h)("div",{className:`thumbnail-carousel ${l?"at-start":""} ${d?"at-end":""}`},(0,we.h)("div",{className:"thumbnail-container",ref:s},(0,we.h)("div",{ref:x,className:"start-sentinel"}),h.map(((e,n)=>(0,we.h)(Wc,{key:e.id,id:e.id,src:m.has(n)?e.src:void 0,alt:e.alt,onClick:()=>t(e.id),isVideo:e.isVideo,ref:e=>{e&&(P.current[n]=e,e.setAttribute("data-index",n.toString()))}}))),(0,we.h)("div",{ref:E,className:"end-sentinel"})),i&&!l&&(0,we.h)("button",{className:"scroll-arrow-left",type:"button",onClick:k,"data-aqa-id":"media-carousel-left-button",...r},(0,we.h)(Xo,{width:"20px",height:"20px"})),i&&!d&&(0,we.h)("button",{className:"scroll-arrow-right",type:"button",onClick:N,"data-aqa-id":"media-carousel-right-button",...a},(0,we.h)(el,{width:"20px",height:"20px"})))},gd=({title:e,description:t,percentage:n,total:r,className:a,...s})=>{const i=(0,Ee.Ye)((()=>`${t.replace("{{percentage}}",`\n      <strong class='attribute-card-description-percentage'>${n}<span class='attribute-card-description-percentage-symbol'>%</span>\n      </strong>\n      <span>\n    `).replace("{{total}}",`<span class='attribute-card-description-respondents'>${r.toLocaleString()}</span>`)}</span>`),[t,n,r]);return(0,we.h)(Ko,{"data-aqa-id":"attribute-card",className:(0,Jo.c)("attribute-card",a),...s},(0,we.h)("strong",{"data-aqa-id":"attribute-card-title",className:"attribute-card-title"},e),(0,we.h)("div",{"data-aqa-id":"attribute-card-description","data-cy":"attribute-card-description",dangerouslySetInnerHTML:{__html:i},className:"attribute-card-description"}))},_d=({tabs:e,activeTab:t,onTabChange:n,className:r,...a})=>{const[s,i]=(0,Ee.eJ)({width:0,left:0}),o=(0,Ee.sO)([]),l=(0,Ee.I4)((()=>{if(t){const n=e.findIndex((e=>e.key===t)),r=o.current[n];i({width:r.offsetWidth,left:r.offsetLeft})}}),[t,e]);return(0,Ee.d4)((()=>(document.fonts?.ready?.then(l),window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)})),[l]),(0,we.h)("div",{className:(0,Jo.c)(["tabs",r]),"data-aqa-id":"widgets-tabs",role:"tablist",...a},e.map(((e,r)=>{const a=e.key===t;return(0,we.h)("button",{key:e.key,ref:e=>{e&&(o.current[r]=e)},"data-aqa-id":"widgets-tabs-tab",type:"button",role:"tab",className:(0,Jo.c)({"tabs-button":!0,selected:a}),onClick:()=>n(e.key),"aria-selected":a},e.label)})),(0,we.h)("div",{style:s,className:"tabs-underline"}))},bd=({startIcon:e,...t})=>{const{label:n,options:r,wrapperProps:a,onChange:s}=t,i=Qc({options:r,onOpenDropdown:()=>{u(0)},onSelect:e=>{(e=>{s(e),o()})(e.value)}}),{closeDropdown:o,onKeyDown:l,wrapperRef:c,anchorEl:d,setHighlightedIndex:u,toggleDropdown:h}=i;return(0,we.h)("div",{...a,className:(0,Jo.c)("widgets-dropdown",a?.className),ref:c},(0,we.h)(Hc,{onClick:h,onKeyDown:l,"aria-expanded":!!d,label:n,startIcon:e}),(0,we.h)(td,{...t,dropdownControl:i}))},wd=({percent:e,label:t,descriptors:n,id:r,className:a,...s})=>{const i=n.map((e=>`${r}-${e.toLowerCase().replace(/ /g,"-")}`));return(0,we.h)("div",{className:(0,Jo.c)("linear-product-attribute-meter",a),...s},(0,we.h)("strong",{id:`${r}-label`},t),(0,we.h)(Jc,{"aria-describedby":i.join(" "),"aria-labelledby":`${r}-label`,percent:e}),(0,we.h)("div",{className:"linear-product-attribute-meter-descriptors"},n.map(((e,t)=>(0,we.h)("span",{id:i[t],key:e},e)))))},yd="i_am",xd="i_an",Ed="i_ao",Pd="i_ap",Cd="i_aq",kd="i_ar",Nd="i_as",Ad=()=>{const{translations:e,summaryCard:{score:t,scoreText:n,descriptor:r,ratingBreakdown:a,attributes:s,ratingTypeText:i}}=_a(),o=(0,be.Ye)((()=>{if(s)return[s.slice(0,3),s.slice(3)]}),[s]),l=t=>"fit"===t.name?{percent:100*t.score,label:e.sizing,descriptors:[e.small,e.trueSize,e.large],id:"fit"}:{rating:t.score,ratingDescriptor:t.descriptor,attributeName:t.name};return xe(Ko,{className:yd,"data-testid":"summary-card",children:[xe(vd,{className:kd,score:parseFloat(t),scoreText:n,descriptor:r,ratingTypeText:i,ratingsText:""}),xe(Gc,{id:"collapsible-rating-breakdown",openText:e.viewRatingBreakdown,closeText:e.hideRatingBreakdown,className:Pd,expandUp:!0,children:xe(ud,{oneStar:a.one,twoStar:a.two,threeStar:a.three,fourStar:a.four,fiveStar:a.five})}),xe(ud,{"data-testid":"rating-breakdown",className:Cd,oneStar:a.one,twoStar:a.two,threeStar:a.three,fourStar:a.four,fiveStar:a.five}),o&&!!o[0].length&&xe("div",{"data-testid":"product-attributes-container",className:xd,children:xe(ld,{attributes:o[0].map(l)})}),o&&!!o[1].length&&xe(Gc,{id:"collapsible-product-attributes","data-aqa-id":"collapsible-product-attributes",openText:e.viewAllProductAttributes,closeText:e.hideProductAttributes,className:Ed,expandUp:!0,children:xe("div",{"data-testid":"expandable-product-attributes-container",className:Nd,children:xe(ld,{attributes:o[1].map(l)})})})]})},Od="t_cg",Sd=({isLoading:e})=>e?xe("div",{className:Od}):null,Rd=()=>{const{isLoading:e}=(0,be.qp)(ma);return xe(Sd,{isLoading:e})},Td="w_cl",Ld=(e,t="widget-container")=>{const[n,r]=(0,be.eJ)(null);return(0,be.d4)((()=>{if(!(null==e?void 0:e.current))return;const n=()=>{r((()=>{let n=e.current;for(;n;){if(getComputedStyle(n).getPropertyValue("container-name")===t)return n;n=n.parentElement}return null})())};n();const a=new MutationObserver(n);return a.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),()=>a.disconnect()}),[e,t]),n},Id=e=>{const t=Ld(null!=e?e:null),n=(0,be.I4)((()=>{const n=e?(null==t?void 0:t.clientWidth)||0:window.innerWidth;return n<=760?"SMALL":n<=1140?"MEDIUM":"LARGE"}),[t,e]),[r,a]=(0,be.eJ)(n());return(0,be.d4)((()=>{const e=()=>{a(n())};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[n]),r},Md=()=>{const{builderLoader:e}=xs(),{translations:t,body:{pagination:{perPage:n,currentPage:r,totalEntries:a}}}=_a(),s=Ss("top"),i=(0,Ee.sO)(),o=Id(i),l=wn(),c=t=>e({page:t},s);return a?xe("div",{ref:i,className:Td,children:"MEDIUM"===o||"SMALL"===o?xe(ad,{textNode:t.compactPageCount,locale:l,currentPage:r,totalItems:a,pageSize:n,onChangePage:c}):xe(sd,{currentPage:r,totalItems:a,pageSize:n,onChangePage:c})}):null},Zd="aa_c",jd="aa_co",Bd="aa_cp",Hd="aa_cq",Vd="aa_y",Fd="aa_cr",Dd="aa_cs";var zd;!function(e){e.MERCHANT_COMMENT="MERCHANT_COMMENT",e.CUSTOMER_COMMENT="CUSTOMER_COMMENT",e.CUSTOMER_RERATE="CUSTOMER_RERATE",e.CUSTOMER_RETITLE="CUSTOMER_RETITLE",e.CUSTOMER_ATTRIBUTE_RERATE="CUSTOMER_ATTRIBUTE_RERATE"}(zd||(zd={}));const Ud=({id:e,replies:t})=>{const{translations:n}=_a(),r=xn(),a=t.map((({createdAt:e,response:t,respondent:n,type:a,organisation:s})=>xe(pd,{replyText:t,name:n.displayName,merchant:a===zd.MERCHANT_COMMENT?s.name:void 0,datePosted:r(e),avatar:a===zd.MERCHANT_COMMENT&&s.logo?{src:s.logo,alt:`${s.name} Logo`}:void 0},e))),s=(null==t?void 0:t.length)||0;return xe("div",{className:"collapsible-replies",children:xe(Gc,{id:e,openText:`${n.showReplies} (${s})`,closeText:`${n.hideReplies} (${s})`,defaultOpen:!1,withBorder:!0,children:a})})},qd=({votes:e,id:t,saleId:n,resourceId:r})=>{const{translations:a,builder:s}=_a(),i=s.helpfulnessVoting,[o,l]=(0,Ee.eJ)(i.hasVoted(t,r));(0,be.d4)((()=>{l(i.hasVoted(t,r))}),[i,t,r]);const c=(0,Ee.I4)((()=>i.vote({id:n,feedbackId:t,resourceId:r})),[i,t,n,r]);return xe(Go,{id:"sorting-dropdown",startIcon:xe(ol,{}),children:o?a.helpful:e,onClick:()=>{c(),l(!o)},variant:o?"contained":"outlined","aria-label":a.helpful,"aria-pressed":o?"true":"false"})},$d=()=>bn().loader.getLanguage(),Wd=({handleTranslate:e,isTranslated:t,loading:n})=>{const r=On(),a=$d(),s=()=>{e(t?null:a)};return t?xe(Go,{disabled:n,onClick:s,children:r.get("showOriginal")}):xe(Lc,{content:r.get("translateUsingGoogleTranslate"),children:xe(Go,{disabled:n,onClick:s,children:r.get("translate")})})};var Yd=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))};const Jd=function(e,t){const[n,r]=(0,be.eJ)(e.text),[a,s]=(0,be.eJ)(!1),[i,o]=(0,be.eJ)(null),l=bn(),c=$d(),d=(0,be.Ye)((()=>!!e.text&&l.isTranslationsEnabled()&&c!==e.language),[e,l]),u=(0,be.Ye)((()=>e.text!==n),[e.text,n]);return{translatedText:n,isTranslated:u,loading:a,error:i,handleTranslate:n=>{if(!e||!t)return;if(!n)return void r(e.text);(()=>{Yd(this,void 0,void 0,(function*(){s(!0),o(null);try{const a=yield l.translationService.translate({langTo:n,review:e,translatableType:t});r(a)}catch(e){o(e.message),r("")}finally{s(!1)}}))})()},shouldShowTranslateButton:d}},Gd=e=>{if(!e)return"";return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent},Kd=({review:e})=>{var t,n;const{loader:{settings:{widget_preferences:{media_enabled:r}}},openMediaModal:a}=bn(),{photos:s}=e,[i,o]=(0,be.eJ)(null),l=i&&s?s.findIndex((e=>i.uuid===e.uuid)):-1,{translations:c}=_a(),d=l<(null!==(t=null==s?void 0:s.length)&&void 0!==t?t:0)-1,u=l>0&&(null!==(n=null==s?void 0:s.length)&&void 0!==n?n:0)>1,h=(0,be.I4)((()=>{o((e=>{if(!e)return null;const t=s.findIndex((t=>e.uuid===t.uuid));return s[t-1]}))}),[s]),p=(0,be.I4)((()=>{o((e=>{if(!e)return null;const t=s.findIndex((t=>e.uuid===t.uuid));return s[t+1]}))}),[s]);return(0,be.d4)((()=>{i&&a({review:e,media:i,open:!0,onClose:()=>o(null),onNext:p,onPrevious:h,translations:c,previousDisabled:!u,nextDisabled:!d})}),[p,h,a,e,i,c,u,d]),(null==s?void 0:s.length)&&r?xe(be.HY,{children:xe(fd,{thumbnails:s.map((e=>({src:e.thumbnailUrl,alt:e.caption,id:e.uuid,isVideo:"VIDEO"===e.type}))),onThumbnailClick:e=>o(s.find((t=>t.uuid===e)))})}):null};var Qd,Xd;function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eu.apply(this,arguments)}const tu=function(e){return be.az("svg",eu({fill:"none",height:17,viewBox:"0 0 16 17",width:16,xmlns:"http://www.w3.org/2000/svg"},e),Qd||(Qd=be.az("defs",null,be.az("clipPath",{id:"new-share_svg__a"},be.az("path",{fill:"#fff",transform:"translate(0 .135)",d:"M0 0h16v16H0z"})))),Xd||(Xd=be.az("g",{clipPath:"url(#new-share_svg__a)"},be.az("path",{d:"M5.727 9.141l4.553 2.654m-.007-7.32L5.727 7.128M14 3.468a2 2 0 11-4 0 2 2 0 014 0zM6 8.135a2 2 0 11-4 0 2 2 0 014 0zm8 4.666a2 2 0 11-4 0 2 2 0 014 0z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5}))))},nu="q_ca";var ru;function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},au.apply(this,arguments)}const su=function(e){return be.az("svg",au({fill:"none",height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg"},e),ru||(ru=be.az("path",{d:"M16 4c.93 0 1.395 0 1.776.102a3 3 0 012.122 2.122C20 6.605 20 7.07 20 8v9.2c0 1.68 0 2.52-.327 3.162a3 3 0 01-1.311 1.311C17.72 22 16.88 22 15.2 22H8.8c-1.68 0-2.52 0-3.162-.327a3 3 0 01-1.311-1.311C4 19.72 4 18.88 4 17.2V8c0-.93 0-1.395.102-1.776a3 3 0 012.122-2.122C6.605 4 7.07 4 8 4m1 11l2 2 4.5-4.5M9.6 6h4.8c.56 0 .84 0 1.054-.109a1 1 0 00.437-.437C16 5.24 16 4.96 16 4.4v-.8c0-.56 0-.84-.109-1.054a1 1 0 00-.437-.437C15.24 2 14.96 2 14.4 2H9.6c-.56 0-.84 0-1.054.109a1 1 0 00-.437.437C8 2.76 8 3.04 8 3.6v.8c0 .56 0 .84.109 1.054a1 1 0 00.437.437C8.76 6 9.04 6 9.6 6z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})))};var iu=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))};const ou=e=>{const[t,n]=(0,be.eJ)(!1);return(0,be.d4)((()=>{if(t){const e=setTimeout((()=>{n(!1)}),3e3);return()=>clearTimeout(e)}}),[t]),{handleCopy:()=>iu(void 0,void 0,void 0,(function*(){try{yield navigator.clipboard.writeText(e),n(!0)}catch(e){console.error("Error while writing to clipboard:",e)}})),copied:t}},lu=({url:e})=>{const{translations:t}=_a(),{handleCopy:n,copied:r}=ou(e);return r?xe("div",{className:nu,children:[xe(su,{}),t.linkCopied]}):xe(Go,{onClick:n,endIcon:xe(tu,{}),children:t.shareLabel})},cu=({review:e})=>{var t;const{translations:n}=_a(),{id:r,reviewer:a,kind:s,publishDate:i,attributes:o,fastResponses:l,overallScore:c,helpfulVotes:d,saleId:u,url:h,title:p,serviceAttributes:m}=e,v=xn(),{translatedText:f,handleTranslate:g,shouldShowTranslateButton:_,isTranslated:b,loading:w}=Jd(e,s);return xe("div",{className:Zd,children:[xe("div",{className:jd,children:[xe("div",{className:Bd,children:xe(Kc,{id:r,name:null!==(t=a.name)&&void 0!==t?t:n.trustedCustomer,location:a.location,chipLabel:n.verifiedCustomerLabel,chipIcon:xe(tl,{}),chipVariant:"success"})}),xe("div",{className:Hd,children:["SERVICE"===s?xe(md,{rating:c,reviewContent:Gd(f),reviewTitle:p,serviceAttributes:m}):xe(dd,{rating:c,reviewContent:Gd(f),productAttributes:o}),xe(Kd,{review:e}),(null==l?void 0:l.length)>0&&xe(Ud,{id:r,replies:l}),xe("div",{className:Vd,children:[xe("div",{className:Fd,children:[xe(qd,{votes:d,saleId:u,id:r}),xe(lu,{url:h}),_&&xe(Wd,{handleTranslate:g,isTranslated:b,loading:w})]}),xe("div",{className:Dd,children:v(i)})]})]})]}),xe("div",{children:xe(Mc,{})})]})},du="m_c",uu="m_ay",hu="m_az",pu="m_ba",mu="m_bb",vu="m_bc",fu="m_be",gu="m_bf",_u=[1,2,3,4,5],bu=()=>{const{builderLoader:e}=xs(),[t,n]=(0,Ee.eJ)(_u),r=Ss("top"),{translations:a}=_a(),s=(0,Ee.I4)((()=>{0===t.length?e({rating:_u},r):e({rating:t},r)}),[t,e]),i=_u.map((e=>jr.render(a.starCount,{count:e})));return xe("div",{className:pu,children:xe(hd,{id:"rating-filter",value:t,onChange:n,onApply:s,label:wu(t,a),optionsLabel:i,wrapperProps:{className:mu},dropdownButtonProps:{className:mu}})})};function wu(e,t){const n=e.length;if(5===n||0===n)return t.allRatings;if(1===n){const n=e[0];return 1===n?t.singleStar:jr.render(t.starCount,{count:n})}return jr.render(t.ratingCount,{count:n})}const yu=()=>{const{builderLoader:e}=xs(),{translations:t}=_a(),n=Ss("top"),r=(0,Ee.Ye)((()=>[{label:t.mostRecent,value:"-updated_date"},{label:t.highestRated,value:"-rating"},{label:t.lowestRated,value:"+rating"}]),[t]),[a,s]=(0,Ee.eJ)(r[0].value),i=(0,Ee.I4)((t=>{e({sort:t},n),s(t)}),[e,n]);return xe("div",{className:pu,children:xe(nd,{id:"sorting-dropdown",options:r,onChange:i,label:(o=a,null!==(l=r.find((e=>e.value===o)).label)&&void 0!==l?l:""),dropdownButtonProps:{className:mu},wrapperProps:{className:mu}})});var o,l},xu="z_cn";var Eu=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))};const Pu=()=>{var e,t,n;const{mediaGallery:r}=_a(),{mediaGalleryService:a,_params:s,loader:{settings:{widget_preferences:{media_enabled:i}}},mediaCarouselEnabled:o,openMediaModal:l,closeMediaModal:c,mediaModalVisible:d}=bn(),{translations:u}=_a(),[h,p]=(0,be.eJ)(null),[m,v]=(0,be.eJ)(null!==(e=null==s?void 0:s.gallery_page_number)&&void 0!==e?e:0),[f,g]=(0,be.eJ)(null!==(t=null==r?void 0:r.media)&&void 0!==t?t:[]),_=(0,be.Ye)((()=>null===h?null:f[h]),[h,f]),[b,w]=(0,be.eJ)(null!==(n=null==r?void 0:r.hasMore)&&void 0!==n&&n),y=(0,be.I4)((()=>Eu(void 0,void 0,void 0,(function*(){if(b)try{const e=yield a.fetchMoreMedia(m+1);return v(m+1),w(e.hasMore),e.media&&g((t=>[...t,...e.media])),e}catch(e){console.error(e)}}))),[b,a,m]),x=(0,be.I4)((()=>Eu(void 0,void 0,void 0,(function*(){null!==h&&(h<f.length-1?p((e=>e+1)):b&&(yield y(),p((e=>e+1))))}))),[h,f.length,b,y]),E=(0,be.I4)((()=>{p((e=>e?e-1:e))}),[]),P=!b&&h===f.length-1;return(0,be.d4)((()=>{_?l({review:null==_?void 0:_.review,media:null==_?void 0:_.photo,open:!0,onClose:()=>p(null),onNext:x,onPrevious:E,previousDisabled:0===h,nextDisabled:P,translations:u}):d&&c()}),[_,x,E,P,h,l,u,c,d]),(null==r?void 0:r.media)&&i&&o?xe(we.HY,{children:xe("div",{children:[xe("div",{className:xu,children:r.totalText}),xe(fd,{thumbnails:a.adapter.adaptToThumbnailList(r),onFetchMoreThumbnails:()=>Eu(void 0,void 0,void 0,(function*(){if(!b)return[];const e=yield y();return(null==e?void 0:e.media)?a.adapter.adaptToThumbnailList(e):[]})),onThumbnailClick:e=>{var t;p(null!==(t=f.findIndex((t=>t.photo.uuid===e)))&&void 0!==t?t:null)}})]})}):null},Cu=()=>{const{header:e,body:{reviews:t}}=_a();return xe("div",{"data-testid":"review-list",className:du,children:[xe(Pu,{}),xe("div",{className:uu,id:"top",children:[xe("div",{className:hu,children:[xe(bu,{}),xe(yu,{})]}),xe("div",{children:[xe("div",{className:fu,children:e.listHeading}),e.listSubheading&&xe("div",{className:gu,children:e.listSubheading})]})]}),xe("div",{className:vu,children:[xe(Rd,{}),t.map((e=>xe(cu,{review:e},e.id))),xe(Md,{})]})]})},ku="a_a",Nu="a_b",Au="a_c",Ou="a_e",Su="a_f",Ru=a.p+"4dcc99321f7e3b33e210.svg?url",Tu="ae_fi",Lu="ae_fj",Iu="ae_fk",Mu="ae_fl",Zu=({label:e,learnLabel:t})=>xe(Ko,{className:Tu,children:[xe("div",{className:Lu,children:[xe("img",{src:Ru,className:Iu}),xe("div",{className:Mu,children:e})]}),xe(Vc,{target:"_blank",children:xe("div",{children:[t," ",xe(en.ArrowOut,{})]}),href:Ba})]}),ju="ae_fm",Bu="ae_fn",Hu="ae_fo",Vu="ae_fp",Fu="ae_fq",Du="ae_fb",zu="ae_ft",Uu="ae_fu",qu="ae_fv",$u="ae_ez",Wu=({trustMarks:e,learnMoreLabel:t,viewMoreLabel:n,viewLessLabel:r})=>{const[a,s]=(0,Ee.eJ)(!1),[i,o]=(0,Ee.eJ)(),[l,c]=(0,Ee.eJ)(!0),[d,u]=(0,Ee.eJ)(!1),h=(0,Ee.sO)(null),p=(0,Ee.sO)(null),m=(0,Ee.sO)(null),v=(0,Ee.sO)(null);(0,Ee.bt)((()=>{var t,n;if(h.current)if(a){const n=Math.ceil((e.length+1)/3),r=n>4?4:n,a=(null===(t=h.current.firstElementChild)||void 0===t?void 0:t.clientHeight)*r;o(`${a+10*r}px`)}else{const e=(null===(n=h.current.firstElementChild)||void 0===n?void 0:n.clientHeight)||100;o(`${e+5}px`)}}),[a]);return(0,Ee.d4)((()=>{const e=p.current,t=m.current,n=v.current;if(!e||!t||!n)return;const r={root:e,threshold:.1},a=new IntersectionObserver((e=>{e.forEach((e=>{c(e.isIntersecting)}))}),r),s=new IntersectionObserver((e=>{e.forEach((e=>{u(e.isIntersecting)}))}),r);return a.observe(t),s.observe(n),()=>{a.disconnect(),s.disconnect()}}),[]),xe(Ko,{className:ju,children:[xe("div",{className:`${Bu} ${l?Hu:""} ${a?"":Vu} ${d?Vu:""}`,children:xe("div",{className:Fu,ref:p,style:{height:i,overflowY:a?"auto":"hidden"},children:[xe("div",{ref:m,className:"start-sentinel"}),xe("div",{ref:h,className:Du,children:[xe(Vc,{className:$u,href:Za,target:"_blank",title:t,children:xe("img",{src:Ha,className:zu})}),e.map((e=>xe(Vc,{className:$u,href:e.learnMoreUrl,target:"_blank",title:e.slug,children:xe("img",{src:ja+e.slug+".svg",className:zu,alt:t})})))]}),xe("div",{ref:v,className:"end-sentinel"})]})}),e.length>2&&xe(Hc,{label:a?r:n,onClick:()=>{a&&h.current&&p.current.scrollTo({top:0}),s(!a)},endIcon:xe(Qo,{className:`${Uu} ${a?qu:""}`})}),e.length<=2&&xe(Vc,{href:Za,target:"_blank",children:xe("div",{children:[t," ",xe(en.ArrowOut,{})]})})]})},Yu={serviceAwardCard:"ae_fc",iconContainer:"ae_fb",trustedServiceBadge:"ae_cx",gradientSquare:"ae_fe","gradientSquare-TRUSTED":"ae_ff","gradientSquare-GOLD":"ae_fg","gradientSquare-PLATINUM":"ae_fh"},Ju=({awardLevel:e,learnLabel:t,serviceAwardExceptional:n})=>xe(Ko,{className:Yu.serviceAwardCard,children:[xe("div",{className:Yu.iconContainer,children:[xe("img",{src:za[e],className:Yu.trustedServiceBadge}),n?xe("img",{src:Va,className:Yu.trustedServiceBadge}):xe("div",{className:`${Yu.gradientSquare} ${Yu[`gradientSquare-${e}`]}`})]}),xe(Vc,{href:Ma,target:"_blank",children:xe("div",{children:[t," ",xe(en.ArrowOut,{})]})})]}),Gu="ae_ei",Ku=()=>{var e;const{translations:t,configuration:{treefoMerchant:n,displayTrustMarks:r,serviceAwardLevel:a,serviceAwardExceptional:s,trustMarkIssuers:i}}=_a(),o=null===(e=i.find((e=>e.issuer===Fa)))||void 0===e?void 0:e.trustMarks;return xe(we.HY,{children:r&&xe("div",{className:Gu,children:[a&&Da.includes(a)&&xe(Ju,{awardLevel:a,learnLabel:t.tsaLearnLabel,serviceAwardExceptional:s}),n&&xe(Zu,{label:t.treefoLabel,learnLabel:t.treefoLearnLabel}),o&&xe(Wu,{viewMoreLabel:t.viewMoreEcoLabel,viewLessLabel:t.viewLessEcoLabel,learnMoreLabel:t.ecoLearnLabel,trustMarks:o})]})})},Qu="ah_fw",Xu="ah_fx",eh="ah_fo",th="ah_fp",nh="ah_fb",rh="ah_fa",ah="ah_ez",sh=()=>{var e;const{translations:t,configuration:{displayTrustMarks:n,treefoMerchant:r,serviceAwardLevel:a,serviceAwardExceptional:s,trustMarkIssuers:i}}=_a(),[o,l]=(0,Ee.eJ)(!0),[c,d]=(0,Ee.eJ)(!1),u=(0,Ee.sO)(null),h=(0,Ee.sO)(null),p=(0,Ee.sO)(null);(0,Ee.d4)((()=>{const e=u.current,t=h.current,n=p.current;if(!e||!t||!n)return;const r={root:e,threshold:.1},a=new IntersectionObserver((e=>{e.forEach((e=>{l(e.isIntersecting)}))}),r),s=new IntersectionObserver((e=>{e.forEach((e=>{d(e.isIntersecting)}))}),r);return a.observe(t),s.observe(n),()=>{a.disconnect(),s.disconnect()}}),[]);const m=[],v=za[a]||null;a&&Da.includes(a)&&m.push(xe(Vc,{className:ah,href:Ma,target:"_blank",title:t.tsaLearnLabel,children:xe("img",{src:v,className:rh,alt:t.tsaLearnLabel})})),s&&m.push(xe(Vc,{className:ah,href:Ma,target:"_blank",title:t.tsaLearnLabel,children:xe("img",{src:Va,className:rh,alt:t.tsaLearnLabel})})),r&&m.push(xe(Vc,{className:ah,href:Ba,target:"_blank",title:t.treefoLearnLabel,children:xe("img",{src:Ru,className:rh,alt:t.treefoLearnLabel})}));const f=null===(e=i.find((e=>e.issuer===Fa)))||void 0===e?void 0:e.trustMarks;return f&&(m.push(xe(Vc,{className:ah,href:Za,target:"_blank",title:t.ecoLearnLabel,children:xe("img",{src:Ha,className:rh})})),f.forEach((e=>{const n=e;m.push(xe(Vc,{className:ah,href:n.learnMoreUrl,target:"_blank",title:n.slug,children:xe("img",{src:ja+n.slug+".svg",alt:t.ecoLearnLabel,className:rh})}))}))),xe(we.HY,{children:n&&xe("div",{children:[xe("div",{className:Qu,children:[" ",t.awards," "]}),xe("div",{className:`${Xu} ${o?eh:""} ${c?th:""}`,children:xe("div",{className:nh,ref:u,children:[xe("div",{ref:h,className:"start-sentinel"}),m.map((e=>xe("div",{children:e}))),xe("div",{ref:p,className:"end-sentinel"})]})})]})})},ih="ah_ex",oh="ah_ey",lh="ah_ez",ch="ah_fa",dh="ah_fb",uh=({srcUrl:e,linkURL:t,linkTitle:n,label:r,iconProps:a={}})=>xe("div",{className:ih,children:[xe(Vc,{className:lh,href:t,target:"_blank",rel:"noopener noreferrer",title:n,children:xe("img",Object.assign({src:e,className:ch,alt:n},a))}),r&&xe("div",{className:oh,children:r})]}),hh=({icons:e})=>xe("div",{className:dh,children:e.map((({srcUrl:e,linkURL:t,linkTitle:n,iconProps:r={}},a)=>xe(Vc,{className:lh,href:t,target:"_blank",rel:"noopener noreferrer",title:n,children:xe("img",Object.assign({src:e,className:ch,alt:n},r))},a)))}),ph=()=>{var e;const{translations:t,configuration:{treefoMerchant:n,serviceAwardLevel:r,serviceAwardExceptional:a,trustMarkIssuers:s,displayTrustMarks:i}}=_a(),o=!!(null===(e=s.find((e=>e.issuer===Fa)))||void 0===e?void 0:e.trustMarks),l=Da.includes(r),c=l&&r!==Da.at(0)?r.charAt(0).toUpperCase()+r.slice(1).toLowerCase():null,d=za[r]||null;return xe(we.HY,{children:i&&(()=>{switch(!0){case n&&!l&&!a&&!o:return xe(uh,{srcUrl:Ru,linkURL:Ba,linkTitle:t.treefoLearnLabel,label:t.treefoLabel});case l&&!a&&!n&&!o:return xe(uh,{srcUrl:d,linkURL:Ma,linkTitle:t.tsaLearnLabel,label:jr.render(t.awardLevelLabel,{award:c}),iconProps:{awardLevel:r}});case((l||a)&&n||l&&a)&&!o:return xe(hh,{icons:[l&&{srcUrl:d,linkURL:Ma,linkTitle:t.tsaLearnLabel,iconProps:{awardLevel:r}},a&&{srcUrl:Va,linkURL:Ma,linkTitle:t.tsaLearnLabel},n&&{srcUrl:Ru,linkURL:Ba,linkTitle:t.treefoLearnLabel}].filter(Boolean)});default:return xe(sh,{})}})()})},mh=e=>"SMALL"===Id(e),vh="v_ci",fh="v_cj",gh=()=>{var e,t,n;const{body:r,configuration:{snippetsEnabled:a}}=_a();if(!a||!(null===(e=null==r?void 0:r.smartThemes)||void 0===e?void 0:e.snippets)||(null===(n=null===(t=null==r?void 0:r.smartThemes)||void 0===t?void 0:t.snippets)||void 0===n?void 0:n.length)<1)return null;const s=r.smartThemes.snippets;return xe("div",{className:vh,children:[xe(Rd,{}),s.map((e=>xe("div",{className:fh,children:`"${e.text}"`})))]})},_h="x_c",bh="x_cm",wh=()=>{var e,t,n;const{body:r,configuration:{topicsEnabled:a}}=_a(),{builderLoader:s}=xs();if(!a||!(null===(e=null==r?void 0:r.smartThemes)||void 0===e?void 0:e.topics)||(null===(n=null===(t=null==r?void 0:r.smartThemes)||void 0===t?void 0:t.topics)||void 0===n?void 0:n.length)<1)return null;const i=r.smartThemes.topics,[o,l]=(0,be.eJ)(null),c=i.reduce(((e,t)=>e+t.mentions),0),d=i.map((e=>({feature:e.feature.charAt(0).toUpperCase()+e.feature.slice(1),mentions:e.mentions}))),u=e=>{var t;let n=null;null===e?(l(e),n=null):e===o?(l(null),n=null):(l(e),n=null===(t=i[e].searchFeatures)||void 0===t?void 0:t.join(",")),s({[f]:n,page:1},null)};return xe("div",{className:_h,children:[xe(Go,{className:bh,variant:null==o?"contained":"outlined",onClick:()=>u(null),children:[`All reviews (${c})`," ",null==o&&xe(Jo.S,{})]}),d.map(((e,t)=>xe(Go,{className:bh,variant:o==t?"contained":"outlined",onClick:()=>u(t),children:[`${e.feature} (${e.mentions})`," ",o==t&&xe(Jo.S,{})]},t)))]})},yh="p_c",xh="p_br",Eh="p_bs",Ph="p_bt",Ch="p_bu",kh="p_bv",Nh="p_bw",Ah="p_bx",Oh="p_by",Sh="p_bz";var Rh;function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Th.apply(this,arguments)}const Lh=function(e){return be.az("svg",Th({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Rh||(Rh=be.az("path",{d:"M8 1.8l1.349 3.507c.22.57.329.855.5 1.095.15.213.336.398.549.55.24.17.525.28 1.095.499L15 8.8l-3.507 1.349c-.57.219-.855.329-1.095.5a2.333 2.333 0 00-.55.549c-.17.24-.28.525-.5 1.095L8 15.8l-1.349-3.507c-.22-.57-.329-.855-.5-1.095a2.334 2.334 0 00-.549-.55c-.24-.17-.525-.28-1.095-.5L1 8.8 4.507 7.45c.57-.22.855-.329 1.095-.5.213-.15.398-.336.55-.549.17-.24.28-.525.5-1.095L8 1.8z",fill:"currentColor",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},Ih=()=>{var e,t,n,r,a,s;const[i,o]=(0,be.eJ)(!1),l=(0,be.sO)(null),[c,d]=(0,be.eJ)(0),u=(0,be.sO)(),h=mh(u),{translations:p,configuration:{topicsEnabled:m,snippetsEnabled:v},body:f}=_a();if(!m&&!v||(!(null===(e=f.smartThemes)||void 0===e?void 0:e.topics)||(null===(n=null===(t=f.smartThemes)||void 0===t?void 0:t.topics)||void 0===n?void 0:n.length)<1)&&(!(null===(r=f.smartThemes)||void 0===r?void 0:r.snippets)||(null===(s=null===(a=f.smartThemes)||void 0===a?void 0:a.snippets)||void 0===s?void 0:s.length)<1))return null;const g=()=>{i&&l.current?d(l.current.scrollHeight):i||d(0)};return(0,be.d4)((()=>(g(),window.addEventListener("resize",g),()=>{window.removeEventListener("resize",g)})),[i,h]),(0,be.d4)((()=>{h||(o(!1),d(void 0))}),[h]),xe(Ko,{children:xe("div",{ref:u,className:Eh,children:[xe("div",{className:Ph,style:h?{paddingBottom:i?"24px":"0"}:{paddingBottom:"24px"},children:[xe("div",{className:kh,children:[p.talkingAbout,xe("div",{className:Nh,children:[p.aiOverview,xe(Lh,{className:Ah})]})]}),h&&xe(Go,{className:Ch,onClick:()=>o(!i),shape:"rounded",children:xe(Qo,{className:i?Sh:Oh})})]}),xe("div",{className:h?xh:yh,style:h?{height:c}:{},ref:l,children:[xe(wh,{}),xe(gh,{})]})]})})},Mh=e=>e.includes(ln)||e.includes(on)||e.includes("SLIDE_OUT"),Zh=()=>{const e=(0,Ee.sO)(),t=bn(),n=mh(e),r=!Mh(t.getWidgetVariant());return xe("div",{ref:e,className:Ce()(ku,{[Nu]:r}),children:xe("div",{className:Au,id:"feefo-container",children:[xe("div",{className:Ou,children:[xe(Ad,{}),!n&&xe(Ku,{})]}),xe("div",{className:Su,children:[xe(Ih,{}),xe(Cu,{}),n&&xe(ph,{})]})]})})};var jh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Bh=({builder:e,content:t,isAutomotive:n})=>{var r;const a=null!==(r=e.paramsFetcher().version())&&void 0!==r?r:dn({widgetVersions:t.configuration.widgetVersions,widgetVariant:e.getWidgetVariant(),mode:cn});return xe(_n.Provider,{value:{builder:e},children:xe(ga.Provider,{value:Object.assign(Object.assign({},t),{isAutomotive:n,builder:e}),children:xe(va,{children:a===tn.V2?xe(Zh,{}):xe(Yo,{})})})})},Hh=e=>{var{builder:t}=e,n=jh(e,["builder"]);(0,we.sY)(xe(Bh,Object.assign({builder:t},n)),t.reactContainer())};var Vh=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))};class Fh{constructor(e){this.fetcher=e}_getFlaggedResourcesMap(){const e=localStorage.getItem("@feefo/resource-flagged-map");return e?JSON.parse(e):{}}_setFlagOnResource(e){const t=this._getFlaggedResourcesMap();t[e]=!0,localStorage.setItem("@feefo/resource-flagged-map",JSON.stringify(t))}isResourceFlagged(e){return!!this._getFlaggedResourcesMap()[e]}flagProblem(e){return Vh(this,void 0,void 0,(function*(){return this.fetcher.loadWithParams(e).then((()=>{this._setFlagOnResource(e.resourceId)}))}))}}var Dh=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))};class zh{constructor(e,t,n){this.builder=e,this.loader=t,this.adapter=n}fetchMoreMedia(e){return Dh(this,void 0,void 0,(function*(){const t=this.loader.fetchParams(this.builder.paramsFetcher()),n=yield this.loader.loadWithParams(Object.assign(Object.assign({},t),{pageNumber:e.toString()}));if(n)return this.adapter.adapt(n)}))}}const Uh=[{prop:"ratingValue",value:"ratingValue"},{prop:"reviewCount",value:"reviewCount"}],qh="Product jsonld schema is empty",$h="https://schema.org/Product",Wh="https://schema.org/AggregateRating",Yh="onpage-product-schema-";function Jh(e){const{ratingSchema:t,isCustomerRatingSchemaPresent:n,ratingSchemaId:r}=e,{ratingValue:a,reviewCount:s}=t,i={"@type":"AggregateRating",bestRating:"5",worstRating:"1",ratingValue:a,reviewCount:s};return n&&(i["@id"]=r),i}function Gh(e,t){const{authorName:n,reviewBody:r,ratingValue:a,datePublished:s}=e;return{"@context":"https://schema.org/","@type":"Review",author:{"@type":"Person",name:n||t.nodes.node_trustedCustomer},reviewRating:{"@type":"Rating",bestRating:"5",ratingValue:a,worstRating:"1"},reviewBody:r,datePublished:s,publisher:{"@type":"Organization",name:"Feefo"}}}function Kh(e){return{ratingValue:parseFloat(e.rating.rating).toFixed(1),reviewCount:e.meta.count.toString()}}function Qh(e){const t=e.settings;return`${t.protocol}://${t.hosts.api}/`}function Xh(e){return e.concat(Pn())}const ep=e=>{const t=e=>"Product"===e||e===$h;return Array.isArray(e)?e.some(t):t(e)};function tp(e,t,n){if("object"!=typeof e||"function"!=typeof t.appendChild)return;const r=document.createElement("script");r.type="application/ld+json",r.text=JSON.stringify(e),n&&(r.id=n),t.appendChild(r)}const np=e=>{tp(function(e){const{productSchemaId:t,schemaProps:n,parentProductSKU:r,translations:a,isCustomerRatingSchemaPresent:s,ratingSchemaId:i}=e,{productSchema:{description:o,name:l,skuList:c,reviews:d},ratingSchema:u}=n,h={"@context":"https://schema.org/","@type":"Product","@id":t,aggregateRating:Jh({ratingSchema:u,isCustomerRatingSchemaPresent:s,ratingSchemaId:i}),review:d.map((e=>Gh(e,a))),description:o,name:l};return!r&&Array.isArray(c)&&c.length&&(h.sku=c[0]),h}(e),document.body,e.feefoSchemaId)},rp={mergeJsonldProductSchema:function(e,t){!function(e,t){const{productSchemaId:n,ratingSchemaId:r}=e,a={...t.obj};a["@id"]=n,a.aggregateRating&&(a.aggregateRating["@id"]=r);t.element.textContent=JSON.stringify(a)}(e,t);const n={...e,isCustomerRatingSchemaPresent:!!t.obj?.aggregateRating};np(n)},findCustomerJsonldProductSchema:function(){const e=document.querySelectorAll('script[type="application/ld+json"]');if(!e.length)return null;let t={};const n=Array.from(e).find((e=>{try{if(!e.textContent?.trim())throw new Error(qh);if(t=JSON.parse(e.textContent),!t?.["@type"])throw new Error(qh)}catch(e){return console.error(e.message),!1}return ep(t["@type"])}));return n&&t?{element:n,obj:t}:null},appendFeefoSchemaToDocument:tp,addFeefoProductSchema:np};const ap={mergeMicrodataProductSchema:function(e,t){var n,r;n=t,r=e.schemaProps.ratingSchema,n.aggregateRatingElement?function(e,t){const n=(t,n)=>{const r=e.element.querySelector(`[itemprop="${t}"]`);r?r.setAttribute("content",n):sp(e.aggregateRatingElement,t,n)};Uh.forEach((e=>n(e.prop,t[e.value])))}(n,r):function(e,t){const n=document.createElement("div");n.setAttribute("itemprop","aggregateRating"),n.setAttribute("itemscope",""),n.setAttribute("itemtype",Wh),Uh.forEach((e=>sp(n,e.prop,t[e.value]))),e.element.appendChild(n)}(n,r)},findMicrodataProductSchema:function(){const e=document.querySelector(`[itemtype="${$h}"]`);return e&&{element:e,aggregateRatingElement:e.querySelector(`[itemtype="${Wh}"]`)}}};function sp(e,t,n){const r=document.createElement("meta");r.setAttribute("itemprop",t),r.setAttribute("content",n),e.appendChild(r)}function ip(e,t,n,r){if(!e?.rating?.rating||!t?.length)return;const a=function(e,t=[]){return{productSchema:{description:e.product?.description||t?.[0].products?.[0]?.description,name:e.product?.title||t?.[0].products?.[0]?.product.title,reviews:t.map((e=>{const t=e.products?.[0];return{authorName:t?.customer?.display_name,reviewBody:t?.review,ratingValue:t?.rating.rating.toString(),datePublished:e.last_updated_date}})),skuList:e.product?.sku},ratingSchema:Kh(e)}}(e,t),s=function(e,t,n){const{location:r}=window;return{schemaProps:e,feefoSchemaId:Xh(Yh),productSchemaId:`${r.pathname||r.hostname}#Product`,ratingSchemaId:`${r.pathname||r.hostname}#AggregateRating`,parentProductSKU:t,translations:n}}(a,n,r),i=rp.findCustomerJsonldProductSchema();if(i)return void rp.mergeJsonldProductSchema(s,i);const o=ap.findMicrodataProductSchema();o?ap.mergeMicrodataProductSchema(s,o):rp.addFeefoProductSchema(s)}function op(e,t,n,r){if(!t?.rating?.rating||!n?.length)return;const a=function(e,t,n,r){const{merchant:a}=t;return{"@context":"https://schema.org/","@type":"Organization","@id":a.review_url,sameAs:a.review_url,url:a.url,image:a.logo?`${Qh(e)}/merchant-image/${a.logo}`:"",name:a.name,aggregateRating:Jh({ratingSchema:Kh(t)}),review:n.filter((e=>!!e?.service.rating)).map((e=>{const{service:t}=e;return Gh({authorName:e?.customer?.display_name,reviewBody:t?.review,ratingValue:t?.rating.rating.toString(),datePublished:e.last_updated_date},r)})),address:{"@type":"PostalAddress",addressCountry:a.addressCountry,addressLocality:a.addressLocality,addressRegion:a.addressRegion,postalCode:a.postalCode,streetAddress:a.streetAddress},telephone:a.telephone}}(e,t,n,r);rp.appendFeefoSchemaToDocument(a,document.body,Xh("onpage-organization-schema-"))}var lp=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))};class cp{constructor(e,t){this.translatedMap=new Map,this.fetcher=e,this.builder=t}translate(e){return lp(this,arguments,void 0,(function*({translatableType:e,review:t,langTo:n}){const r=this.translatedMap.get(t.id);if(r)return r;const a=yield this.fetcher.loadWithParams({translatableType:e,language_to:n,saleId:t.saleId,feedback_id:t.id},this.builder.container());if(!a)return;const{translatedContent:{GENERAL_COMMENTS:s}}=a;return this.translatedMap.set(t.id,s),s}))}}class dp{constructor(e,t){if(!t)throw new Error("serviceName is required");if(!e.services[t])throw new Error("Invalid serviceName");this.fetcher=e.services[t],this.loader=e,this.storage=this._storage(),this.serviceName=t}hasVoted(e,t){return this._storedVotes().some((n=>n===this._getVoteKey(e,t)))}vote(e){return this.fetcher.loadWithParams(e).then((()=>{this._storeVote(e.feedbackId,e.resourceId)}))}_storedVotes(){const e=this.storage.get();return e&&Object.prototype.hasOwnProperty.call(e,this.serviceName)?e[this.serviceName]:[]}_getVoteKey(e,t){return t?`${e}-${t}`:e}_storeVote(e,t){let n=this._storedVotes();const r=this._getVoteKey(e,t),a=n.indexOf(r);a<0?n.push(r):n.splice(a,1),this._saveVotes(n)}_storage(){return new Q("reevoo_stored_votes",60,!0)}_saveVotes(e){let t=this.storage.get();t||(t={}),t[this.serviceName]=e,this.storage.set(t)}}class up{constructor({reviewAdapterClass:e,headerAdapterClass:t,translationsAdapterClass:n,filterBarAdapterClass:r,configurationAdapterClass:a,summaryCardAdapterClass:s,mediaGalleryAdapterClass:i}){this.reviewAdapterClass=e,this.headerAdapterClass=t,this.translationsAdapterClass=n,this.filterBarAdapterClass=r,this.configurationAdapterClass=a,this.summaryCardAdapterClass=s,this.mediaGalleryAdapterClass=i}adapt(e){return this.reviewAdapter=new this.reviewAdapterClass(e),this.headerAdapter=new this.headerAdapterClass(e),this.filterBarAdapter=new this.filterBarAdapterClass(e),this.translationsAdapter=new this.translationsAdapterClass(e),this.configurationAdapter=new this.configurationAdapterClass,this.summaryCardAdapter=new this.summaryCardAdapterClass(e),this.mediaGalleryAdapter=new this.mediaGalleryAdapterClass(e),{configuration:this._configuration(e),header:this._header(e),body:this._body(e),translations:this._translations(e),summaryCard:this._summaryCard(),mediaGallery:this._mediaGallery(e)}}_configuration(e){return this.configurationAdapter.adapt(e)}_header(e){return this.headerAdapter.adapt()}_body({reviews:e,topics:t,snippets:n,builder:r}){var a,s,i,o,l,c,d,u,h,p,m,v,g,_,b,w,y;const x=this._smartThemeTopics(t),E=null===(a=r.getParam(f))||void 0===a?void 0:a.split(",");return{smart_themes:{topics:x,snippets:this._smartThemeSnippets(n),search_words:E||[]},filter_bar:this.filterBarAdapter.adapt(),reviews:this._reviews(e),pagination:{total_entries:null===(i=null===(s=null==e?void 0:e.summary)||void 0===s?void 0:s.meta)||void 0===i?void 0:i.count,total_entries_with_content:null===(l=null===(o=null==e?void 0:e.summary)||void 0===o?void 0:o.meta)||void 0===l?void 0:l.count,current_page:null===(d=null===(c=null==e?void 0:e.summary)||void 0===c?void 0:c.meta)||void 0===d?void 0:d.current_page,total_pages:null===(h=null===(u=null==e?void 0:e.summary)||void 0===u?void 0:u.meta)||void 0===h?void 0:h.pages,per_page:null===(m=null===(p=null==e?void 0:e.summary)||void 0===p?void 0:p.meta)||void 0===m?void 0:m.page_size,previous_page:this._prevPage(null===(g=null===(v=null==e?void 0:e.summary)||void 0===v?void 0:v.meta)||void 0===g?void 0:g.current_page),next_page:this._nextPage(null===(b=null===(_=null==e?void 0:e.summary)||void 0===_?void 0:_.meta)||void 0===b?void 0:b.current_page,null===(y=null===(w=null==e?void 0:e.summary)||void 0===w?void 0:w.meta)||void 0===y?void 0:y.pages)}}}_summaryCard(){return this.summaryCardAdapter.adapt()}_mediaGallery(e){return this.mediaGalleryAdapter.adapt(e.mediaGallery)}_smartThemeTopics(e){return(null==e?void 0:e.features)||[]}_smartThemeSnippets(e){return(null==e?void 0:e.snippets)||[]}_prevPage(e){return e>1?e-1:null}_nextPage(e,t){return t>e?e+1:null}_translations(e){return this.translationsAdapter.adapt()}_reviews(e){var t;return null===(t=e.reviews)||void 0===t?void 0:t.map((e=>this._review(e)))}_review(e){return this.reviewAdapter.adapt(e)}}var hp;function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pp.apply(this,arguments)}const mp=function(e){return be.az("svg",pp({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),hp||(hp=be.az("path",{d:"M9 4.833h4.137c.286 0 .429 0 .515.06a.333.333 0 01.138.225c.016.104-.048.231-.176.487l-.835 1.67c-.041.082-.062.124-.07.167a.33.33 0 00-.003.117.715.715 0 00.063.17l.898 2.02c.11.25.166.376.148.477a.333.333 0 01-.14.216c-.085.058-.222.058-.496.058H8.067c-.374 0-.56 0-.703-.073a.666.666 0 01-.291-.291C7 9.993 7 9.806 7 9.433v-1.6M2 14.5V2.833m0 5h5.933c.374 0 .56 0 .703-.072a.667.667 0 00.291-.292C9 7.327 9 7.14 9 6.766V3.233c0-.373 0-.56-.073-.702a.667.667 0 00-.291-.292c-.143-.072-.33-.072-.703-.072H3.067c-.374 0-.56 0-.703.072a.667.667 0 00-.291.292C2 2.673 2 2.86 2 3.233v4.6z",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))};var vp;function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fp.apply(this,arguments)}const gp=function(e){return be.az("svg",fp({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),vp||(vp=be.az("path",{d:"M20 6L9 17l-5-5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))};var _p;!function(e){e.LOW_QUALITY="low quality",e.COPYRIGHT_MATERIAL="copyright material",e.WRONG_LOCATION="wrong location",e.IRRELEVANT="irrelevant",e.NOT_FAMILY_FRIENDLY="not family friendly",e.DUPLICATE="duplicate",e.PROMOTIONAL="promotional/not original",e.OTHER="other"}(_p||(_p={}));const bp=[{value:_p.NOT_FAMILY_FRIENDLY,label:"notFamilyFriendlyText"},{value:_p.COPYRIGHT_MATERIAL,label:"copyrightMaterialText"},{value:_p.PROMOTIONAL,label:"promotionalNotOriginalText"},{value:_p.IRRELEVANT,label:"irrelevantText"},{value:_p.LOW_QUALITY,label:"lowQualityText"},{value:_p.DUPLICATE,label:"duplicateText"},{value:_p.WRONG_LOCATION,label:"wrongLocationText"},{value:_p.OTHER,label:"otherText"}],wp="r_cb",yp="r_cc",xp="r_ce";var Ep=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))};const Pp=({saleId:e,resourceId:t,feedbackId:n})=>{var r;const[a,s]=(0,be.eJ)(!1),[i,o]=(0,be.eJ)(!1),l=bn();return{loading:a,error:i,flagProblem:r=>Ep(void 0,void 0,void 0,(function*(){var a;s(!0);try{yield null===(a=l.flagProblemService)||void 0===a?void 0:a.flagProblem({reason:r,id:e,feedbackId:n,resourceId:t})}catch(e){o(!0)}finally{s(!1)}})),isFlagged:null===(r=l.flagProblemService)||void 0===r?void 0:r.isResourceFlagged(t)}},Cp=({review:e,media:t})=>{const{translations:n}=_a(),{flagProblem:r,loading:a,isFlagged:s}=Pp({saleId:e.saleId,feedbackId:e.id,resourceId:t.uuid});return s?xe("span",{className:xp,children:[xe(gp,{}),n.thanksAppreciateFeedbackText]}):a?xe(Fc,{className:yp}):xe(bd,{wrapperProps:{className:wp},startIcon:xe(mp,{}),id:"report-dropdown",label:n.flagAsInappropriate,onChange:r,options:bp.map((e=>({value:e.value,label:n[e.label]})))})},kp={wrapper:"e_a",container:"e_c",photoContainer:"e_r",previous:"e_s",next:"e_t",nextButton:"e_u",previousButton:"e_v",spinner:"e_w",titleContainer:"e_x",footer:"e_y",actions:"e_z",personalDetails:"e_aa",name:"e_ab",dateAndLocationContainer:"e_ac",locationContainer:"e_ae"};var Np=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))};const Ap=({review:e,open:t,onClose:n,media:r,onNext:a,previousDisabled:s,onPrevious:i,nextDisabled:o,translations:l})=>{const c=xn(),d=(0,be.sO)(null),[u,h]=(0,be.eJ)(""),[p,m]=(0,be.eJ)(!0);(0,be.d4)((()=>{h("")}),[u]),(0,be.d4)((()=>{var e;(null===(e=d.current)||void 0===e?void 0:e.complete)||m(!0)}),[r]);return xe("div",{className:kp.wrapper,children:xe(Yc,{open:t,onClose:n,children:xe("div",{className:kp.container,children:[xe("div",{className:kp.photoContainer,children:[!s&&xe(Go,{"data-testid":"previous-button",className:kp.previousButton,onClick:()=>(h("previous"),void i()),shape:"rounded",children:xe(Xo,{})}),p&&xe(Fc,{className:kp.spinner}),r&&xe(we.HY,{children:"PHOTO"===r.type?xe("img",{className:kp[u],ref:d,alt:r.caption,style:{visibility:p?"hidden":"visible"},onLoad:()=>m(!1),src:r.imageUrl,"data-testid":"modal-image"},r.uuid):xe("iframe",{title:r.caption,alt:r.caption,frameBorder:"none",className:kp[u],style:{visibility:p?"hidden":"visible"},onLoad:()=>m(!1),src:null==r?void 0:r.imageUrl,"data-testid":"modal-iframe"},r.uuid)}),!o&&xe(Go,{"data-testid":"next-button",className:kp.nextButton,onClick:()=>Np(void 0,void 0,void 0,(function*(){m(!0),yield a(),m(!1),h("next")})),shape:"rounded",children:xe(el,{})})]}),!!e&&xe(be.HY,{children:[xe("div",{className:kp.titleContainer,children:[null==r?void 0:r.caption,xe(Cp,{review:e,media:r})]}),xe("div",{className:kp.footer,children:[xe("div",{className:kp.personalDetails,children:[xe("span",{className:kp.name,children:e.reviewer.name||l.trustedCustomer}),xe("div",{className:kp.dateAndLocationContainer,children:[e.reviewer.location&&xe("span",{className:kp.locationContainer,children:[xe(sl,{width:14,height:14}),e.reviewer.location,xe(al,{width:4,height:4})]}),c(e.publishDate)]})]}),xe("div",{className:kp.actions,children:[xe(qd,{votes:null==r?void 0:r.helpfulVotes,id:e.id,saleId:e.saleId,resourceId:null==r?void 0:r.uuid}),xe(lu,{url:e.url})]})]})]})]})})})},Op=({builder:e,content:t})=>{be.ZP.render(xe(_n.Provider,{value:{builder:e._parentBuilder},children:xe(ga.Provider,{value:{translations:t.translations,builder:e._parentBuilder},children:xe(Ap,Object.assign({},t))})}),e.contentContainer)};const Sp=class extends An{constructor({element:e,parentBuilder:t,loader:n}){super({element:e,parentBuilder:t,loader:n}),this.name="REVIEW_MEDIA_MODAL"}dependencies({widgetsStyles:e,themeVars:t}){return{widgetsStyles:e.load(void 0,this.container()),themeVars:t.load(void 0,this.container())}}connectHandler(e){}show({content:e}){if(!this.active)return this.content=e,this.contentContainer||(this.contentContainer=this._createContentContainer()),this.active=!0,Op({builder:this,content:e})}update({content:e}){return this.content=e,Op({builder:this,content:this.content})}hide(){return this.active=!1,Op({builder:this,content:Object.assign(Object.assign({},this.content),{open:!1})})}shadowEnabled(){return!0}_createContentContainer(){const e=document.createElement("div");return this.container().appendChild(e),e}};class Rp extends An{constructor({element:e,parentBuilder:t,loader:n}){super({element:e,parentBuilder:t,loader:n}),this.mediaModalContainer=this._createMediaModalContainer(),this.mediaModal=new Sp({element:this.mediaModalContainer,parentBuilder:this,loader:this.loader}),this.openMediaModal=this.openMediaModal.bind(this),this.closeMediaModal=this.closeMediaModal.bind(this)}connectHandler(e){this.beforeRender(e),this.render(e)}connectErrorHandler(e){super.connectErrorHandler(e)}render({summary:e,reviews:t,translations:n,topics:r,snippets:a,aggregationTranslations:s,mediaGallery:i}){this.initialSummaryResponse||(this.initialSummaryResponse=e);const o=this.responseAdapter.adapt({summary:Object.assign(Object.assign({},this.initialSummaryResponse),{meta:e.meta}),reviews:t,translations:n,topics:r,snippets:a,builder:this,aggregationTranslations:s,mediaGallery:i});this.loader.i18n.update(o.translations),e.meta.count<this.minReviewsForRender()&&!this.rendered?this.renderNoReviews():(this.mediaModalContainer=this._createMediaModalContainer(),this.component({content:Mn(o),builder:this}),this.rendered||(this.reviewsData={reviewsCount:e.meta.count,avgRating:this.initialSummaryResponse.rating.rating},this.track(Zn),this.eventsHelper.dispatchState("ready")),this.rendered=!0)}renderNoReviews(){Ln({builder:this})}updateRequestParams(e){this._params=Object.assign(Object.assign({},this._params),e)}defaultParams(){return{feefo_parameters:"include",full_thread:"include",unanswered_feedback:"include",translate_attributes:"exclude",media:"include",sort:"-updated_date",source:"lightbox_product_integration",locale:this.loader.getLocale(),with_global_translations:!0,empty_reviews:this.isEmptyReviews(),importedReviews:this.shouldDisplayImportedReviews(),reviews_with_content_count:"false"===this.isEmptyReviews()?"include":"exclude",gallery_page_size:50,gallery_page_number:0,sub_merchant:"true"}}reactContainer(){const e=this.container();let t=e.querySelector("div");if(t)return t;t=document.createElement("div");let n=fe;return this.loader.themeClass&&(n+=` ${this.loader.themeClass}`),t.setAttribute("class",n),e.append(t),t}load(){return this.connect(this.loader.services)}minReviewsForRender(){return 1}shadowEnabled(){return!this.isInLightbox()&&!this.isInSlideOut()&&!this._parentBuilder}isTranslationsEnabled(){return this.loader.settings.widget_preferences.translations_enabled||!1}isEmptyReviews(){const e=this.loader.settings.widget_preferences.empty_reviews;return null!=e?e.toString():void 0}beforeRender(e){this.helpfulnessVoting||(this.helpfulnessVoting=new dp(this.loader,"helpfulnessVoting")),super.beforeRender(e)}_createMediaModalContainer(){const e="feefo-media-modal-container",t=document.querySelector(`#${e}`);if(t)return t;const n=document.createElement("div");return n.id=e,document.body.appendChild(n),n}openMediaModal(e){return this.mediaModalVisible=!0,this.mediaModal.connect(this.loader.services).then((()=>{this.mediaModal.active?this.mediaModal.update({content:e}):this.mediaModal.show({content:e})})).catch((e=>{console.error(e),this.mediaModalVisible=!1}))}closeMediaModal(){this.mediaModalVisible=!1,this.mediaModal.hide()}}class Tp extends Rp{constructor({element:e,parentBuilder:t,loader:n}){super({element:e,parentBuilder:t,loader:n}),this.responseAdapter=new up({reviewAdapterClass:oa,headerAdapterClass:Kr,translationsAdapterClass:ua,filterBarAdapterClass:Dr,configurationAdapterClass:Vr,summaryCardAdapterClass:ca,mediaGalleryAdapterClass:Br}),this.mediaCarouselEnabled=this.loader.settings.widget_preferences.product_media_enabled,this.component=Hh,this.name="PRODUCT_REVIEWS_BUILDER"}dependencies({widgetsStyles:e,themeVars:t,reevooBadge:n,productReviewsSummary:r,productReviews:a,translations:s,productAggregationTranslations:i,smartThemeProductTopics:o,smartThemeProductSnippets:l,productMediaGallery:c}){return Object.assign(Object.assign(Object.assign({summary:r.load(this.paramsFetcher()),reviews:a.load(this.paramsFetcher()),translations:s.load(this.paramsFetcher()),aggregationTranslations:i.load(this.paramsFetcher()),widgetsStyles:e.load(void 0,this.container()),themeVars:t.load(void 0,this.container()),reevooBadge:n.load()},this.loader.settings.widget_preferences.product_on_page.topics_enabled&&{topics:o.load(this.paramsFetcher())}),this.loader.settings.widget_preferences.product_media_enabled&&{mediaGallery:c.load(this.paramsFetcher())}),this.loader.settings.widget_preferences.product_on_page.snippets_enabled&&{snippets:l.load(this.paramsFetcher())})}beforeRender(e){this.translationService||(this.translationService=new cp(this.loader.services.translate,this)),this.snippetVoting||(this.snippetVoting=new dp(this.loader,"snippetVoting")),this.flagProblemService||(this.flagProblemService=new Fh(this.loader.services.flagProblem)),this.mediaGalleryService||(this.mediaGalleryService=new zh(this,this.loader.services.productMediaGallery,new Br({builder:this,translations:e.translations}))),this.loader.settings.widget_preferences.media_enabled=this.loader.settings.widget_preferences.product_media_enabled,this.addSnippets(e),super.beforeRender(e)}addSnippets({summary:e,reviews:t,translations:n}){var r;this.isInLightbox()||this.isInSlideOut()||this.rendered||(null===(r=this._parentBuilder)||void 0===r?void 0:r.rendered)||ip(e,null==t?void 0:t.reviews,this.paramsFetcher().sku()||this.paramsFetcher().parentProductSku(),n)}defaultParams(){return Object.assign(Object.assign({},super.defaultParams()),{demographics:"include"})}}const Lp="an_hk bc_mb",Ip="an_hl bc_ml bc_me",Mp="an_hm bc_mj bc_me",Zp="an_hn bc_me bc_ml bc_lv",jp="an_ho bc_ms",Bp="an_hp",Hp="an_hq",Vp="an_hr bc_nb",Fp=({score:e,strokeWidth:t="2px",leadingHeight:n=60,hText:r,respondents:a,comment:s})=>be.ZP.createElement("li",{className:Lp},be.ZP.createElement("p",{className:Ip},r),be.ZP.createElement("div",{className:jp},be.ZP.createElement("reevoo-score",{class:Bp,"data-score":e,"data-leading-height":n}),be.ZP.createElement("reevoo-percent",{class:Hp,"data-stroke-width":t})),be.ZP.createElement("p",{className:Mp},a.toLocaleString()),be.ZP.createElement("p",{className:Zp,"data-e2e-brand-details-item":"comment"},s)),Dp=({alt:e,src:t})=>t?be.ZP.createElement("li",{className:Lp},be.ZP.createElement("div",{className:Vp},be.ZP.createElement("img",{alt:e,src:t}))):null,zp={3:Kn,2:Qn,1:Xn,0:er},Up=()=>{const{header:e,configuration:{showBrandLogo:t,serviceAwardLevel:n}}=(0,be.qp)(ga),{retailerImage:r,scores:a,title:s}=e;let i=a.length;const o=t&&r;o||(i-=1);const l=za[n]??!1,c=Ce()(Wn,zp[i],{[Gn]:!za[n],[tr]:!!za[n],[nr]:!o,[rr]:o});return be.ZP.createElement("div",{className:qn},be.ZP.createElement("p",{className:$n},s),be.ZP.createElement("ul",{className:c},a.map((({title:e,respondents:t,score:n,desc:r})=>be.ZP.createElement(Fp,{key:e,hText:e,score:n,respondents:t,comment:r}))),n&&l&&be.ZP.createElement("li",{className:Yn},be.ZP.createElement("img",{src:l,className:Jn})),t&&be.ZP.createElement(Dp,{src:r,alt:s})))},qp="k_c bc_ly bc_mu bc_no",$p=be.ZP.createContext(),Wp=()=>{const e=(0,be.qp)(ga),{configuration:{olderReviewsAvailable:t,showOlderReviews:n},body:{reviews:r,pagination:{currentPage:a,totalPages:s}},translations:i,builder:o}=e,[l,c]=Ie(),[d,u]=(0,be.eJ)((()=>js(r))),[h,p]=(0,be.eJ)(!1),m=e=>{e&&u(e)};return(0,be.d4)((()=>{m(js(r))}),[r]),be.ZP.createElement("div",{className:Ce()(qp,c),ref:l},be.ZP.createElement(Ts,{builder:o},be.ZP.createElement(Up,null),be.ZP.createElement($o,{context:ga}),be.ZP.createElement($p.Provider,{value:{...e,reviews:d,updater:m}},be.ZP.createElement(mo,{context:ga,reviewContext:$p}),h&&n&&1===a&&be.ZP.createElement(go,{text:i.seeNewerReviews,older:!1,onClick:p}),0===r.length&&be.ZP.createElement(bo,null),be.ZP.createElement(Ii,{context:$p}),t&&n&&a===s&&be.ZP.createElement(go,{text:i.seeOlderReviews,older:!0,onClick:p}),be.ZP.createElement(Zs,{context:ga}))))},Yp="s_cf",Jp=()=>{const{header:{scores:e}}=_a();return(0,be.Ye)((()=>!!(null==e?void 0:e.some((e=>e.title&&e.card&&!!e.score&&!!e.count)))),[e])?xe("div",{className:Yp,"data-testid":"attribute-cards",children:e.map((e=>e.title&&e.card&&!!e.score&&!!e.count&&xe(gd,{title:e.title,description:e.card,percentage:e.score,total:e.count},e.title)))}):null},Gp=()=>{const e=(0,Ee.sO)(),t=bn(),n=mh(e),r=!Mh(t.getWidgetVariant());return xe("div",{ref:e,className:Ce()(ku,{[Nu]:r}),children:xe("div",{className:Au,children:[xe("div",{className:Ou,children:[xe(Ad,{}),xe(Jp,{}),!n&&xe(Ku,{})]}),xe("div",{className:Su,children:[xe(Ih,{}),xe(Cu,{}),n&&xe(ph,{})]})]})})},Kp=({builder:e,content:t})=>{var n;const r=null!==(n=e.paramsFetcher().version())&&void 0!==n?n:dn({widgetVersions:t.configuration.widgetVersions,widgetVariant:e.getWidgetVariant(),mode:"service"});be.ZP.render(xe(_n.Provider,{value:{builder:e},children:xe(ga.Provider,{value:Object.assign(Object.assign({},t),{builder:e}),children:xe(va,{children:r===nn.V2?xe(Gp,{}):xe(Wp,{})})})}),e.reactContainer())};class Qp extends Hr{adapt({builder:e,summary:t}){const n=e.loader.settings.widget_preferences,r=e.loader.settings.widgetVersions,a=r?this.versionsAdapter.adapt(r):void 0;return{topics_enabled:n.service_on_page.topics_enabled,snippets_enabled:n.service_on_page.snippets_enabled,show_brand:!0,show_older_reviews:!1,multi_country_region_is_available:!1,current_region_is_multi_country:!1,older_reviews_available:!1,flags_enabled:n.flags_enabled||!1,translations_enabled:n.translations_enabled||!1,stars_enabled:!0,read_all_url:n.service_read_all_url||t.merchant.review_url,service_award_level:n.service_award_level,serviceAwardExceptional:n.serviceAwardExceptional,locale:e.loader.getLocale(),widgetVersions:a,treefoMerchant:n.treefoMerchant,displayTrustMarks:n.display_trust_marks,trustMarkIssuers:n.trustMarkIssuers||[]}}}class Xp extends Fr{adapt(){return{default_sorter:"-updated_date",sort_text:this.translations.nodes.node_sortBy,sorters:[[this.translations.nodes.node_mostRecent,"-updated_date"],[this.translations.nodes.node_mostHelpfulLabel,"-helpful"],[this.translations.nodes.node_highestScore,"-rating"],[this.translations.nodes.node_lowestScore,"+rating"]]}}}const em="_title",tm="_desc",nm="_card",rm="_tag",am="%{retailer}",sm="{{numberOfRespondents}}",im="SLIDER",om={OVERALL:"overall",CUSTOMER_SERVICE:"customer_service",DELIVERY:"delivery"};class lm extends Gr{constructor(){super(...arguments),this._adaptAggregatedScore=(e,t)=>{var n,r,a,s,i,o,l,c,d,u,h,p,m;if(e.displayType===im)return;const v=e.type,f=om[v];if(!f)return;const g=f+em,_=f+tm,b=f+nm,w=e.count,y=(null===(o=null===(i=null===(s=null===(a=null===(r=null===(n=this.aggregationTranslations)||void 0===n?void 0:n.nodes)||void 0===r?void 0:r[_])||void 0===a?void 0:a.translation)||void 0===s?void 0:s.replaceAll("<b>",""))||void 0===i?void 0:i.replaceAll("</b>",""))||void 0===o?void 0:o.replaceAll(am,t))||_,x=null===(d=null===(c=null===(l=this.aggregationTranslations)||void 0===l?void 0:l.nodes)||void 0===c?void 0:c[b])||void 0===d?void 0:d.translation.replaceAll(am,t);return{title:null===(p=null===(h=null===(u=this.aggregationTranslations)||void 0===u?void 0:u.nodes)||void 0===h?void 0:h[g])||void 0===p?void 0:p.translation,desc:y,card:x,count:w,score:e.rating?Math.round(e.rating):void 0,respondents:null===(m=this.translations.nodes.node_numberOfRespondents)||void 0===m?void 0:m.replaceAll(sm,w.toLocaleString())}}}adapt(){var e;const t=this.builder.loader.settings,n=`${t.protocol}://${t.hosts.api}/`,r=`${this.translations.nodes.node_reviewsOf}`,a=this.summary.merchant.name,s=this.summary.rating.recommendationPercentage,i=[],o=this.summary.aggregatedScores;if(o)null===(e=o.scores)||void 0===e||e.forEach((e=>{const t=this._adaptAggregatedScore(e,a);(null==t?void 0:t.title)&&t.score&&t.respondents&&i.push(t)}));else if(s){const e=this.translations.nodes.node_PercentageText.replaceAll("<b>","").replaceAll("</b>","");i.push({title:"Overall",desc:this.translations.nodes.node_PercentageText.replaceAll("<b>","").replaceAll("</b>",""),card:e,score:s,count:this.summary.rating.service.count,respondents:this.summary.rating.service.count.toLocaleString()})}return Object.assign({title:jr.render(r,{merchantName:a}),retailer_image:`${n}/merchant-image/${this.summary.merchant.logo}`,scores:i},this.getListHeadings())}}var cm;!function(e){e[e.negative=-1]="negative",e[e.neutral=0]="neutral",e[e.positive=1]="positive"}(cm||(cm={}));class dm extends aa{adapt(e){var t,n,r,a;const s=null===(t=e.tags)||void 0===t?void 0:t.some((({key:e,values:t})=>"reevoolaunch"===e&&"1"===(null==t?void 0:t[0]))),i=e.service.aggregatableScores?e.service.aggregatableScores.filter((e=>"PERCENTAGE"===e.aggregatableScoreDisplayType&&e.score===cm.positive)).map((({type:e})=>{var t,n,r;const a=om[e]+rm;return null===(r=null===(n=null===(t=this.aggregationTranslations)||void 0===t?void 0:t.nodes)||void 0===n?void 0:n[a])||void 0===r?void 0:r.translation})).filter((e=>e)):[];return{kind:ra.service,id:e.service.id,saleId:e.sale_id,overallScore:null===(n=e.service.rating)||void 0===n?void 0:n.rating,locale:e.locale,language:ea(e.locale),launchReview:s,reviewer:{name:null===(r=e.customer)||void 0===r?void 0:r.display_name,location:null===(a=e.customer)||void 0===a?void 0:a.display_location},fastResponses:this.fastResponsesAdapter.adapt(e.service.thread)||[],publishDate:e.last_updated_date,text:e.service.review,translations:{launchReview:this.translations.nodes.node_productExchangeText},url:e.url,photos:this.photosAdapter.adapt(e.service.media),overall:e.service.consumerRecommended,title:e.service.title,serviceAttributes:i,npsScore:null,happyWithDelivery:null,happyWithCustomerService:null}}}class um extends la{generateRatingBreakdown(){const e=this.summary.rating.service;return{one:e["1_star"],two:e["2_star"],three:e["3_star"],four:e["4_star"],five:e["5_star"]}}}class hm extends da{adapt(){return Object.assign(Object.assign({},this._adaptCommonTranslations()),{satisfied:this.translationsResponse.nodes.node_satisfied,unsatisfied:this.translationsResponse.nodes.node_dissatisfied,delivery:this.translationsResponse.nodes.node_delivery,overall:this.translationsResponse.nodes.node_overall,npsLabel:"Likelihood to recommend"})}}class pm extends Rp{constructor({element:e,parentBuilder:t,loader:n,mediaCarouselEnabled:r}){super({element:e,parentBuilder:t,loader:n}),this.responseAdapter=new up({reviewAdapterClass:dm,headerAdapterClass:lm,translationsAdapterClass:hm,filterBarAdapterClass:Xp,configurationAdapterClass:Qp,summaryCardAdapterClass:um,mediaGalleryAdapterClass:Br}),this.mediaCarouselEnabled=null!=r?r:n.settings.widget_preferences.service_media_enabled,this.component=Kp,this.name="BRAND_REVIEWS_BUILDER"}dependencies({widgetsStyles:e,themeVars:t,reevooBadge:n,serviceAggregationTranslations:r,serviceReviewsSummary:a,serviceReviews:s,translations:i,smartThemeServiceTopics:o,smartThemeServiceSnippets:l,serviceMediaGallery:c}){return Object.assign(Object.assign(Object.assign({summary:a.load(this.paramsFetcher()),reviews:s.load(this.paramsFetcher()),translations:i.load(this.paramsFetcher()),aggregationTranslations:r.load(this.paramsFetcher()),widgetsStyles:e.load(void 0,this.container()),themeVars:t.load(void 0,this.container()),reevooBadge:n.load()},this.loader.settings.widget_preferences.service_on_page.topics_enabled&&{topics:o.load(this.paramsFetcher())}),this.loader.settings.widget_preferences.service_media_enabled&&{mediaGallery:c.load(this.paramsFetcher())}),this.loader.settings.widget_preferences.service_on_page.snippets_enabled&&{snippets:l.load(this.paramsFetcher())})}beforeRender(e){this.translationService||(this.translationService=new cp(this.loader.services.translate,this)),this.flagProblemService||(this.flagProblemService=new Fh(this.loader.services.flagProblem)),this.mediaGalleryService||(this.mediaGalleryService=new zh(this,this.loader.services.serviceMediaGallery,new Br({builder:this,translations:e.translations}))),this.loader.settings.widget_preferences.media_enabled=this.loader.settings.widget_preferences.service_media_enabled,this.snippetVoting||(this.snippetVoting=new dp(this.loader,"snippetVoting")),this.addSnippets(e),super.beforeRender(e)}addSnippets({summary:e,reviews:t,translations:n}){var r;this.isInLightbox()||this.isInSlideOut()||this.rendered||(null===(r=this._parentBuilder)||void 0===r?void 0:r.rendered)||op(this.loader,e,t.reviews,n)}defaultParams(){return Object.assign(Object.assign({},super.defaultParams()),{gallery_page_number:1})}}const mm="u_ch",vm="u_c bc_no",fm="ai_ah bc_lu bc_mu",gm="ai_fy",_m=({isShowed:e})=>e?be.ZP.createElement("div",{className:fm},be.ZP.createElement("span",{className:gm},"?"),be.ZP.createElement("p",null,"We've been notified about this issue, and we'll take a look at it shortly.")):null,bm="ak_a",wm="ak_gf",ym="ak_gg bc_nh",xm="ak_gh bc_me",Em="ak_gi bc_mw bc_lu bc_lz bc_mj",Pm="ak_gj",Cm=({showBrand:e,tabs:t,selectedTab:n,onTabClick:r,isLoading:a})=>{const s=Ls(),i=(0,be.I4)((e=>{r(e.target.dataset.el)}),[]);return xe(we.HY,{children:[xe("nav",{className:bm,children:[xe("div",{className:wm,children:e&&xe("reevoo-logo",{className:ym})}),xe("ol",{className:xm,children:t.map((e=>xe("li",{"data-el":e.key,className:Ce()(Em,{[Pm]:e.key===n}),onClick:s(i,Dn,e.key),children:e.label},e.key)))})]}),xe(fa,{visible:a})]})},km=({tabsTitles:e,parentBuilder:t})=>{const n=t.availableTabs(),r=t.builders,a=t.element(),s=t._showBrand(),i=t.version(),[o,l]=(0,be.eJ)((()=>(()=>{const e=t.paramsFetcher().selectedTab();return n.includes(e)?e:n[0]})())),[c,d]=(0,be.eJ)(!1),[u,h]=(0,be.eJ)(!1),p=(0,be.Ye)((()=>({display:u?"none":"block"})),[u]),m=(0,be.sO)(null),v=e=>{const t=e instanceof Error;t&&!u?h(!0):!t&&u&&h(!1)};(0,be.d4)((()=>{d(!0),a instanceof HTMLElement&&a.attributes&&a.attributes.length>0&&Object.values(a.attributes).forEach((({name:e,value:t})=>{m.current.setAttribute(e,t)}));const e=new r[o]({element:m.current,parentBuilder:t,loader:t.loader});e.connect(t.loader.services).then(v).finally((()=>{d(!1),t.setSelectedBuilder(e)}))}),[o]);const f=(0,be.I4)((e=>{l(e)}),[]),g=(0,be.Ye)((()=>n.map((t=>({label:e[t],key:t})))),[e,n]);return xe("div",{className:vm,children:[i===rn.V2?xe("div",{children:[xe(_d,{className:mm,activeTab:o,tabs:g,onTabChange:f}),xe(Sd,{isLoading:c})]}):xe(Cm,{showBrand:s,tabs:g,selectedTab:o,onTabClick:f,isLoading:c}),xe(_m,{isShowed:u}),xe("main",{ref:m,style:p})]})},Nm=[R,T];class Am extends Rp{constructor({element:e,parentBuilder:t,loader:n}){super({element:e,parentBuilder:t,loader:n}),this.widgetVariant=on,this.builders={[R]:Tp,[T]:pm},this.name="TABBED_REVIEWS_BUILDER"}lightboxCloseContainer(){var e;const t=this.element();if(t instanceof HTMLElement){const n=null===(e=t.getElementsByTagName("nav"))||void 0===e?void 0:e[0];return n||this.element()}}dependencies({widgetsStyles:e,themeVars:t,translations:n}){return{widgetsStyles:e.load(this.paramsFetcher(),this.container()),themeVars:t.load(this.paramsFetcher(),this.container()),translations:n.load(this.paramsFetcher())}}connectHandler({translations:e}){var t,n;const r=this.loader.settings.merchant_name,a=null===(n=null===(t=this.loader.texts)||void 0===t?void 0:t.tab_titles)||void 0===n?void 0:n.brand,s=null!=a?a:jr.render(e.nodes.node_reviewsOf,{merchantName:r}),i={product:e.nodes.node_userReviews,brand:s};this.render({tabsTitles:i})}connectErrorHandler(e){console.error(this.constructor.name,e)}render({tabsTitles:e}){(({builder:e,tabsTitles:t})=>{be.ZP.render(xe(Ts,{builder:e,children:xe(km,{tabsTitles:t,parentBuilder:e})}),e.reactContainer())})({builder:this,tabsTitles:e})}track(e,t={}){this.selectedBuilder.track(e,t)}setSelectedBuilder(e){this.selectedBuilder=e,this.rendered=!0}_showBrand(){return!0}version(){if(this.paramsFetcher().version())return this.paramsFetcher().version();const e=this.loader.settings.widgetVersions;return this.getWidgetVariant(this.widgetVariant).includes(ln)?e.light_box_both:e.on_page_both}_disabledTabs(){const e=this.loader.settings.widget_preferences,t=[];return e.product_reviews_enabled||t.push(R),this.paramsFetcher().isSkuAvailable()||t.push(R),e.brand_reviews_enabled||t.push(T),t}availableTabs(){let e=this.paramsFetcher().tabsFromAttribute()||Nm;const t=this._disabledTabs();return e=e.filter((e=>!t.includes(e)&&Nm.includes(e))),0===e.length&&(e=[T]),e}}var Om=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class Sm extends An{constructor({element:e,parentBuilder:t,loader:n}){var r;super({element:e,parentBuilder:t,loader:n}),this.widgetVariant=ln,this.name="LIGHTBOX_BUILDER",this.versionsAdapter=new _e,this.initialOverflow=null!==(r=document.body.style.overflow)&&void 0!==r?r:""}dependencies({widgetsStyles:e,themeVars:t}){return{widgetStyles:e.load({},this.container()),themeVars:t.load({},this.container())}}connectHandler(e){}connectErrorHandler(e){console.error(this.constructor.name,e)}_generateParamsFromAction(e){return"qaa"===e?{Builder:fr}:{Builder:Am,params:{"seleted-tab":e}}}show(e={actionName:""}){var t,{actionName:n}=e,r=Om(e,["actionName"]);if(this.active)return;this.contentContainer||(this.contentContainer=this._createContentContainer());const a=this._generateParamsFromAction(n);this.active=!0;const s=Object.assign(Object.assign({"display-mode":"lightbox"},r),null==a?void 0:a.params);return document.body.style.overflow="hidden",(({builder:e,params:t,elementBuilder:n,version:r})=>{be.ZP.render(xe(sn,{builder:e,params:t,ElementBuilder:n,version:r}),e.contentContainer)})({builder:this,params:s,elementBuilder:a.Builder,version:null!==(t=this.paramsFetcher().version())&&void 0!==t?t:dn({widgetVariant:"LIGHTBOX_TABBED",widgetVersions:this.versionsAdapter.adapt(this.loader.settings.widgetVersions)})})}hide(e){document.body.style.overflow=this.initialOverflow,this.active=!1,be.ZP.unmountComponentAtNode(this.contentContainer)}_createContentContainer(){const e=document.createElement("div");return this.container().appendChild(e),e}shadowEnabled(){return!0}}class Rm extends kn{constructor(e){super(e),this._lightboxOpen=!1,this.loader=e.loader,this.lightboxContainer=this._createLightboxContainer(),this.lightbox=new Sm({element:this.lightboxContainer,parentBuilder:this,loader:this.loader}),this.name="BADGE_CLICK_HANDLER"}handle(e,t){const n=t.detail.data.clickAction,r=t.detail.data.actionName;switch(n){case j:return this.openLightbox(e,r);case B:return this.openWindow(e,r)}}openWindow(e,t){window.open(e.reviewsUrl)}openLightbox(e,t,n={}){if(!this._lightboxOpen)return this.lightbox.connect(this.loader.services).then((()=>{this.lightbox.show(Object.assign(Object.assign({actionName:t},this._attrsFromElement(null==e?void 0:e._element)),n))})).catch((e=>{console.error(e)}))}closeLightbox(){this._lightboxOpen=!1,this.lightboxContainer.innerHTML=""}_createLightboxContainer(){const e="feefo-lightbox-container",t=document.querySelector(`#${e}`);if(t)return t;const n=document.createElement("div");return n.id=e,document.body.appendChild(n),n}_attrsFromElement(e){if(!e)return{};const t=["id","class","style"];return Array.from(e.attributes).reduce(((e,n)=>(t.includes(n.name)||(e[n.name]=n.value),e)),{})}isInLightbox(){return!0}widgetName(e){return e}}class Tm{constructor(e){this.badgeClickHandler=new Rm({loader:e})}show(e){this.badgeClickHandler.openLightbox(null,"",e)}}class Lm{constructor(e){this.loader=e,window.addEventListener("reevoo_element_trk_register",this._registerElement.bind(this))}_badgeClickHandler(){return this.clickHandler||(this.clickHandler=new(this._badgeClickHandlerClass())({loader:this.loader})),this.clickHandler}_badgeClickHandlerClass(){return Rm}_setupBuildersEvent(e){e.element().addEventListener("reevoo_element_trk_event",this._trkEventHandler.bind(this,e)),e.element().addEventListener("reevoo_element_ui_event",this._uiEventHandler.bind(this,e))}_trkEventHandler(e,t){console.log(t.detail)}_uiEventHandler(e,t){"reevoo_badge_click"===t.detail.type&&this._badgeClickHandler().handle(e,t)}_registerElement(e){const t=e.detail.builder;this._setupBuildersEvent(t)}}const Im="feefoUserId";class Mm{constructor(e){this.trackingPoster=e}sendTrackerEvent(e={}){const{merchantIdentifier:t,widgetInstance:n,instanceId:r,eventType:a,eventData:s,productSku:i,parentSku:o,merchantSlug:l,locale:c}=e,d={date:(new Date).getTime(),eventType:a,instanceId:r,locale:c,merchantId:t,parentSku:o,productSku:i,url:window.location.href,userAgent:navigator.userAgent,userId:this.getCurrentUserId(),widgetInstance:n,...s},u=new CustomEvent("feefo_widgetTracking",{detail:this.adaptEventPayload(d,{merchantSlug:l}),bubbles:!0,cancelable:!0,composed:!0});return document.body.dispatchEvent(u),this.post(d)}post(e){this.trackingPoster.loadWithParams({body:e})}getCurrentUserId(){if(localStorage.getItem(Im))return localStorage.getItem(Im);const e=Pn();return localStorage.setItem(Im,e),e}adaptEventPayload(e,{merchantSlug:t}){const n={...e};return delete n.merchantId,n.merchantSlug=t,n}}var Zm,jm=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))};class Bm{constructor(e){this.tracking=e}track(e){return jm(this,arguments,void 0,(function*(e,t={}){var n,r,a,s;if(!this.tracking)return void console.warn("Tracking is disabled");const i=this.adapt(t);switch(e){case Zn:case jn:yield this.tracking.sendTrackerEvent(i);break;case Bn:{const e=null===(r=null===(n=i.eventData)||void 0===n?void 0:n.reviewData)||void 0===r?void 0:r.reviewsCount,t=null===(s=null===(a=i.eventData)||void 0===a?void 0:a.qaaData)||void 0===s?void 0:s.questionCount;(e&&e>0||t&&t>0)&&(yield this.tracking.sendTrackerEvent(i));break}default:console.warn("Unknown tracking event")}}))}adapt(e){return Mn(e)}}!function(e){e.BROWSER="BROWSER",e.MERCHANT="MERCHANT"}(Zm||(Zm={}));const Hm=(e,t,n)=>10===e?t:n;class Vm{constructor(e){var t,n,r,a,s,i;(null===(t=e.settings)||void 0===t?void 0:t.widget_preferences)||(e.settings.widget_preferences={},e.settings.widget_preferences.tracking_enabled=null===(n=e.settings)||void 0===n?void 0:n.tracking_enabled,e.settings.widget_preferences.translations_enabled=null===(r=e.settings)||void 0===r?void 0:r.translations_enabled,e.settings.widget_preferences.product_reviews_enabled=null===(a=e.settings)||void 0===a?void 0:a.product_reviews_enabled,e.settings.widget_preferences.brand_reviews_enabled=null===(s=e.settings)||void 0===s?void 0:s.brand_reviews_enabled,e.settings.widget_preferences.flags_enabled=null===(i=e.settings)||void 0===i?void 0:i.flags_enabled,this.hasUpdatedWidgetPref=!0),this.services={},this.settings=e.settings,this.themeStyles=e.theme_styles,this.themeClass=e.theme_class,this.texts=e.texts,this.config=e,this.setupAllServices(),this.setupI18n(),this.setupFonts()}setupI18n(){this.i18n=new te}setupCookieConfig(){const e=new ee;this.cookieConfig={functional:e.functionalGroupActive(),performance:e.performanceGroupActive()}}setupTracking(){this.settings.widget_preferences.tracking_enabled&&(this.feefoTrackingAdapter||(this.feefoTrackingAdapter=new Bm(new Mm(this.services.feefoTracker))))}setupFonts(){(()=>{if(!document.querySelector('link[href*="fonts.googleapis.com/css2?family=Poppins"]')){const e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap",document.head.appendChild(e)}})()}setupAllServices(){this._setupAssetLoaders(this.config.assets),this._setupApiLoaders(this.config.apis),this._setupThemeLoader(),this._setupLightbox(),this.setupCookieConfig(),this.setupI18n(),this.setupTracking(),this.executeCallbacks(),this.eventsManager=new Lm(this)}setupWidgets(){this.registerCustomElements(),this.processElementsSelectors(),this.initMutationObserver()}registerCustomElements(){if(!this.customElementDefinitions)return;const e=this;this.customElementDefinitions.forEach((t=>{if(void 0===customElements.get(t.tag)){const n=t.class;n.prototype.loader=e,customElements.define(t.tag,class extends n{})}}))}initMutationObserver(){new MutationObserver((()=>{this.processElementsSelectors()})).observe(document.body,{childList:!0,subtree:!0})}processElementsSelectors(){this.elementsSelectors&&this.elementsSelectors.forEach((e=>{var t;const{selector:n,legacy:r,app:a,version:s,widgetSource:i,isUnique:o}=e;if("APP"===(null===(t=window.FeefoWidgetSources)||void 0===t?void 0:t[i])){Array.from(document.querySelectorAll(`div${n}`)).forEach(((e,t)=>{if(!function(e){return e instanceof HTMLElement}(e)&&!function(e){return e instanceof ShadowRoot}(e)||o&&0!==t||e.hasAttribute("data-feefo-initialized"))return;const n=new(Hm(this.settings.widgetVersions[s],r.validator,null==a?void 0:a.validator))({element:e});if(n.validate()){new(Hm(this.settings.widgetVersions[s],r.builder,null==a?void 0:a.builder))({element:e,loader:this}).connect(),e.setAttribute("data-feefo-initialized","true")}else n.validationFailed()}))}}))}executeCallbacks(){this.callbackExecuter=new ne,this.callbackExecuter.execute()}_setupLightbox(){window.ReevooLib=window.ReevooLib||{},window.ReevooLib.lightbox=new Tm(this),window.ReevooLib.lightboxHandler=window.ReevooLib.lightbox}buildServiceUrl({url:e,host:t}){const{hosts:n,protocol:r}=this.settings;let a=r?`${r}://`:"";return a=`${a}${n[t||"default"]}${e}`,a}_registerLoader({name:e,config:t,adapterKlass:n}){var r,a,s,i;this.services[e]=new re({id:t.id,name:e,url:this.buildServiceUrl(t),nonce:this.settings.csp_nonce,allowedParams:t.params,cache:t.cache,method:t.method,credentials:t.credentials,loadingAdapterKlass:n,callbackEventName:t.callbackEventName,usePromiseStore:t.usePromiseStore,headers:t.headers,extra:{seriesAsTag:this.settings.widget_preferences.series_as_tag,productReviewsUrlSuffix:null===(a=null===(r=this.config.apis)||void 0===r?void 0:r.productReviews)||void 0===a?void 0:a.url,productReviewsSummaryUrlSuffix:null===(i=null===(s=this.config.apis)||void 0===s?void 0:s.productReviewsSummary)||void 0===i?void 0:i.url}})}_setupAssetLoaders(e){for(const[t,n]of Object.entries(e||{})){const e="JS"===n.type?de:ue;this._registerLoader({name:t,config:n,adapterKlass:e})}}_setupApiLoaders(e){for(const[t,n]of Object.entries(e||{}))this._registerLoader({name:t,config:n,adapterKlass:ve})}_setupThemeLoader(){this.services.themeVars=new re({name:"themeVars",nonce:this.settings.csp_nonce,themeVars:this.themeStyles,loadingAdapterKlass:ge})}dependencies(){return[this.services.settings.loadWithParams({merchant_identifier:this.settings.merchant_slug})]}getLocale(){return this.settings.widgets_locale_source===Zm.BROWSER?navigator.language:this.settings.locale}getLanguage(){return this.settings.widgets_locale_source===Zm.BROWSER?navigator.language:this.settings.language}loadDependencies(){const e=this;return this.dependencies()&&0!==this.dependencies().length?Promise.all(this.dependencies()).then((([t])=>{var n,r,a,s,i,o,l,c,d;const u=t;this.hasUpdatedWidgetPref&&(e.config.settings.widget_preferences.service_read_all_url=null==u?void 0:u.serviceReadAllUrl,e.config.settings.widget_preferences.service_time_frame=null==u?void 0:u.widgetPreferences.serviceTimeFrame,e.config.settings.widget_preferences.product_time_frame=null==u?void 0:u.widgetPreferences.productTimeFrame,e.config.settings.widget_preferences.service_award_level=null==u?void 0:u.serviceAwardLevel,e.config.settings.widget_preferences.service_on_page={topics_enabled:null===(r=null===(n=null==u?void 0:u.widgetPreferences)||void 0===n?void 0:n.serviceOnPage)||void 0===r?void 0:r.topicsEnabled,snippets_enabled:null===(s=null===(a=null==u?void 0:u.widgetPreferences)||void 0===a?void 0:a.serviceOnPage)||void 0===s?void 0:s.snippetsEnabled},e.config.settings.widget_preferences.product_on_page={topics_enabled:null===(o=null===(i=null==u?void 0:u.widgetPreferences)||void 0===i?void 0:i.productOnPage)||void 0===o?void 0:o.topicsEnabled,snippets_enabled:null===(c=null===(l=null==u?void 0:u.widgetPreferences)||void 0===l?void 0:l.productOnPage)||void 0===c?void 0:c.snippetsEnabled},e.config.settings.merchant_id=null===(d=null==u?void 0:u.widgetPreferences)||void 0===d?void 0:d.merchantId),e.config.settings.media_enabled=null==u?void 0:u.mediaEnabled,e.feefoSettings=u})):Promise.resolve()}}class Fm extends HTMLElement{build(){console.error(V)}}class Dm extends Fm{connectedCallback(){this.build()}build(){const e=this.validator();if(e.validate()){this.builder().connect(this.loader.services)}else e.validationFailed()}builder(){throw new Error(V)}validator(){throw new Error(V)}}class zm{constructor({element:e}){this.element=e}perform(){const e={};for(const t of this.mandatoryParams())this.validatePresence(t)||(e[t]="is mandatory");for(const t of this.numericParams())this.validateNumber(t)||(e[t]="should be a number");for(const t of this.booleanParams())this.validateBoolean(t)||(e[t]="should be a bool");const t=[j,B,"no_action"];return this.validateValue(d,t)||(e[d]=`${D} ${t.join(", ")}`),e}errorMessage(e){throw new Error(V)}buildErrorMessage(e,t){for(const[n,r]of Object.entries(e))t+=`\n ${n} ${r}`;return t}validate(){return this.errors=this.perform(),0===Object.keys(this.errors).length}validationFailed(){const e=this.errorMessage(this.errors);console.error(e)}validateValue(e,t=[]){const n=this.element.getAttribute(e);return!n||t.includes(n)}validateValues(e,t=[]){const n=this.element.getAttribute(e);if(!n)return!0;const r=n.replace(" ","").split(",");for(const e of r)if(!t.includes(e))return!1;return!0}validatePresence(e){if(Array.isArray(e)){for(const t of e)if(this.element.getAttribute(t))return!0;return!1}return!!this.element.getAttribute(e)}validateBoolean(e){const t=this.element.getAttribute(e);return null===t||["true","false"].includes(t)}validateNumber(e){const t=this.element.getAttribute(e);return null===t||!isNaN(Number(t))}booleanParams(){return["stars-enabled","flags-enabled","social-enabled","show-brand-logo","show-footer","show-older-reviews","stars-in-facets","scores-in-facets"]}mandatoryParams(){return[]}numericParams(){return[]}}class Um extends zm{perform(){const e=super.perform(),t=["customer_service","delivery","overall"];this.validateValue(l,t)||(e[l]=`${D} ${t.join(", ")}`);const n=[T];return this.validateValues(H,n)||(e[H]=`${z} ${n.join(", ")}`),e}errorMessage(e){return this.buildErrorMessage(e,`${F} Brand element`)}}class qm extends Dm{builder(){return new pm({element:this,loader:this.loader})}validator(){return new Um({element:this})}}class $m extends zm{perform(){const e=super.perform(),t=[R,T,L];return this.validateValues(H,t)||(e[H]=`${z} ${t.join(", ")}`),e}errorMessage(e){let t=`${F} `;return this.isAutomotive()?t+="automotive element":t+="product element",this.buildErrorMessage(e,t)}mandatoryParams(){return this.isTagged()?[]:this.isAutomotive()?this.automotiveMandatoryParams():this.genericMandatoryParams()}isAutomotive(){return!!this.element.getAttribute(w)}isTagged(){return!!this.element.getAttribute("tags")}numericParams(){return[x,E,P,p,v]}automotiveMandatoryParams(){return[w,y]}genericMandatoryParams(){return[o]}}class Wm extends Dm{builder(){return new Tp({element:this,loader:this.loader})}validator(){return new $m({element:this})}}class Ym extends Fm{connectedCallback(){this.build()}build(){const e=this.validator();e.validate()?this._loadBuilder():e.validationFailed()}_loadBuilder(){this.builder().connect(this.loader.services)}loader(){return this.loader.services.badgesBuilders}builder(){throw new Error(V)}validator(){throw new Error(V)}}class Jm extends An{setOptions(){this.options={},this.options.name=this.element().getAttribute(c),this.options.onClickFunction=this.element().getAttribute("on-click"),this.nonce=this.loader.settings.csp_nonce,this.name="BADGE_BUILDER"}reviewsCountFromResponse(e){throw new Error(V)}scoreFromResponse(e){throw new Error(V)}render(e){if(this.nonce)ReevooAdaptiveBadges.append(this.element(),e,this.nonce,this.afterRender.bind(this));else{this.element().innerHTML="";const t=ReevooAdaptiveBadges.iframize(e,this.afterRender.bind(this));this.element().appendChild(t)}}afterRender(e){this.decorateLinks(e)}_applyAccessibilityListeners(e){e.addEventListener("keydown",(function(t){const n=void 0!==t.key?t.key:t.keyCode;("Enter"===n||13===n||["Spacebar"," "].indexOf(n)>=0||32===n)&&(t.preventDefault(),e.click())}))}_decorateLinks(e,t){const n=e.querySelectorAll(`* [${t}]`);for(const e of n){const n=e.getAttribute(t);this._applyAccessibilityListeners(e),e.addEventListener("click",this.clickHandler.bind(this,n))}this.eventsHelper.dispatchState("ready")}decorateLinks(e){this._decorateLinks(e,u),this._decorateLinks(e,h)}clickAction(){return this.element().getAttribute(d)||this.element().getAttribute("reevoo-click-action")||this.variantClickAction||j}triggerStandardClickAction(){return this.reviewsCount>0}clickHandler(e){this.triggerStandardClickAction()&&this.eventsHelper.dispatchInteraction("reevoo_badge_click",{actionName:e,clickAction:this.clickAction()}),this.customClickHandler(e)}customClickHandler(e){if(this.options.onClickFunction)try{const t=new Function(`"use strict";var innerFunc=${this.options.onClickFunction};innerFunc('${e}');`);setTimeout(t,0)}catch(e){throw console&&console.error&&console.error("There is an error in your custom function:",this.options.onClickFunction),e}}_type(){throw new Error(V)}}class Gm extends Jm{connectHandler({template:e,summary:t}){this.build(e,t)}connectErrorHandler(e){console.error(this.constructor.name,e)}build(e,t){if(this.reviewsUrl=this.reviewsUrlFromResponse(t),this.reviewsCount=this.reviewsCountFromResponse(t),this.score=this.scoreFromResponse(t),this.shouldBuild()){e&&(this.variantClickAction=e.click_action);this.renderer(e,this.score,this.reviewsCount).render(this.render.bind(this)),this.reviewsData={reviewsCount:this.reviewsCount,avgScore:this.score}}else{this.track(Zn);const e="Badge was not rendered due insufficient reviews";console.warn(e)}}renderer(e,t,n){return this._renderer||(this._renderer=new ReevooAdaptiveBadges(this.adaptTemplates(e),{score:t.toString(),reviewCount:n,container:this.element(),nonce:this.nonce})),this._renderer}afterRender(e){super.decorateLinks(e),this.track(Zn)}reviewsUrlFromResponse(e){return""}clickHandler(e){super.clickHandler(e);const t={reviewsCount:this.reviewsCount,avgScore:this.score};"no_action"!==this.clickAction()&&this.track(jn,{reviewData:t})}defaultParams(){return{type:this._type()}}shouldBuild(){return this.reviewsCount>this.minReviews()}minReviews(){return this.element().getAttribute(p)||0}adaptTemplates(e){const t=e;return Object.entries(e.badges).forEach((([e,n])=>{const r=t.badges[e];r.template=n.template.replace("<reevoo-logo",'<reevoo-logo data-publisher="feefo"').replace("<reevoo-stars",'<reevoo-stars data-five-points-score="true"').replace(`${u}="`,`role="button" tabIndex="0" ${h}="`).replace(`${h}="`,`role="button" tabIndex="0" ${h}="`),r.styles=r.styles.replace(u,h),r.style_overrides=this.applyBadgeOverrides(r.style_overrides,this.loader.feefoBadgesOverrides.styles,r.forced_style_overrides);const a=r.text.out_of_ten;a&&(r.text.out_of_ten=a.replace("10","5"))})),t}applyBadgeOverrides(e,t,n=[]){return{...e,...Object.fromEntries(Object.entries(t).filter((([e,t])=>!n.includes(e))))}}}class Km extends Gm{reviewsCountFromResponse(e){return e.meta.count}scoreFromResponse(e){return e.rating.rating.toFixed(1)}reviewsUrlFromResponse(e){return e.product.reviews_url}_type(){return"product_reviews"}}class Qm extends Km{dependencies({reevooBadge:e,badgeVariants:t,productReviewsSummary:n}){return{reevooBadge:e.load(),template:t.load(this.paramsFetcher()),summary:n.load(this.paramsFetcher())}}}class Xm extends Ym{builder(){return new Qm({element:this,loader:this.loader})}validator(){return new $m({element:this})}}class ev extends Gm{reviewsCountFromResponse(e){return e.meta.count}scoreFromResponse(e){return e.aggregatedScores?Math.round(this._getAggregatedScoreValueFor(e)):e.rating.recommendationPercentage}reviewsUrlFromResponse(e){return e.merchant.review_url}defaultParams(){return{...super.defaultParams(),feefo_parameters:"include",full_thread:"include",unanswered_feedback:"include",translate_attributes:"exclude",media:"include",sort:"-updated_date",source:"lightbox_product_integration"}}_getAggregatedScoreValueFor(e){const{rating:t}=e.aggregatedScores.scores.find((e=>"OVERALL"===e.type));return t}_type(){return"retailer_reviews"}}class tv extends ev{dependencies({reevooBadge:e,badgeVariants:t,serviceReviewsSummary:n}){return{reevooBadge:e.load(),template:t.load(this.paramsFetcher()),summary:n.load(this.paramsFetcher())}}}class nv extends Ym{builder(){return new tv({element:this,loader:this.loader})}validator(){return new Um({element:this})}}class rv extends Km{dependencies({reevooBadge:e,badgeTemplates:t,productReviewsSummary:n}){return{reevooBadge:e.load(),template:t.load(this.paramsFetcher()),summary:n.load(this.paramsFetcher())}}}class av extends ev{dependencies({reevooBadge:e,badgeTemplates:t,serviceReviewsSummary:n}){return{reevooBadge:e.load(),template:t.load(this.paramsFetcher()),summary:n.load(this.paramsFetcher())}}}class sv extends Gm{reviewsCountFromResponse(e){return 10}scoreFromResponse(e){return 10}defaultParams(){return{...super.defaultParams(),feefo_parameters:"include",full_thread:"include",unanswered_feedback:"include",translate_attributes:"exclude",media:"include",sort:"-updated_date",source:"lightbox_product_integration"}}_type(){return"questions_and_answers"}}class iv extends sv{dependencies({questions:e,badgeVariants:t,reevooBadge:n}){return{reevooBadge:n.load(),questions:e.load(this.paramsFetcher()),template:t.load(this.paramsFetcher())}}}class ov extends Fm{connectedCallback(){this.build()}disconnectedCallback(){this.innerHTML=null}build(){const e=this._contentType(),{builderName:t,validator:n}=this._builder(e),r=new n({element:this});r.validate()?this._loadBuilder(t):r.validationFailed()}_loadBuilder(e){new(this.enterprise?window.ReevooLib.Legacy:window.ReevooLib)[e]({element:this,loader:this.loader}).connect(this.loader.services)}}class lv extends ov{_contentType(){const e=this.getAttribute(c);if(e)return this._badgeTypeByNameAttr(e);const t=this.getAttribute("type");if(t)return this._badgeTypeByTypeAttr(t);throw new Error("Wrong badge type or missing name , please check the documentation")}_badgeTypeByTypeAttr(e){if([R,T,I,M,L].includes(e))return this.enterprise=!0,e;throw new Error("Badge type is wrong, please check the documentation")}_badgeTypeByNameAttr(e){let t=e.split("_")[1];if("ask"===t&&(t=L),[R,T,L,M,I].includes(t))return t;throw new Error("Badge name is wrong, please check the documentation")}_builder(e){return{[R]:{builderName:"ProductBadgeBuilder",validator:$m},[M]:{builderName:"ProductBadgeBuilder",validator:$m},[T]:{builderName:"BrandBadgeBuilder",validator:Um},[L]:{builderName:"AaoBadgeBuilder",validator:$m}}[e]}}class cv extends sv{dependencies({questions:e,badgeTemplates:t,reevooBadge:n}){return{reevooBadge:n.load(),questions:e.load(this.paramsFetcher()),template:t.load(this.paramsFetcher())}}}class dv extends $m{perform(){const e=super.perform(),t=[L,R,T];return this.validateValue(m,t)||(e[m]=`${D} ${t.join(", ")}`),this.validateValues(H,t)||(e[H]=`${z} ${t.join(", ")}`),e}}const uv=[{tag:"reevoo-badge",class:class extends lv{_loadBuilder(e){new e({element:this,loader:this.loader}).connect(this.loader.services)}_builder(e){return this.enterprise?this._variantBuilder(e):this._nameBuilder(e)}_nameBuilder(e){return{[R]:{builderName:rv,validator:$m},[M]:{builderName:rv,validator:$m},[T]:{builderName:av,validator:Um},[I]:{builderName:cv,validator:$m}}[e]}_variantBuilder(e){return{[R]:{builderName:Qm,validator:$m},[M]:{builderName:Qm,validator:$m},[T]:{builderName:tv,validator:Um},[I]:{builderName:iv,validator:$m}}[e]}}},{tag:"reevoo-brand-badge",class:nv},{tag:"reevoo-product-badge",class:Xm},{tag:"reevoo-product-reviews",class:Wm},{tag:"reevoo-brand-reviews",class:qm},{tag:"reevoo-embeddable",class:class extends ov{_contentType(){const e=this.getAttribute("type");if([R,T,Z].includes(e))return e;throw new Error("Embeddable type is wrong, please check the documentation")}_builder(e){return{[R]:{builderName:Tp,validator:$m},[T]:{builderName:pm,validator:Um},[Z]:{builderName:Am,validator:dv}}[e]}_loadBuilder(e){new e({element:this,loader:this.loader}).connect(this.loader.services)}}},{tag:"reevoo-tabbed-reviews",class:class extends Dm{builder(){return new Am({element:this,loader:this.loader})}validator(){return new dv({element:this})}}},{tag:"reevoo-reviewable-badge",class:class extends Xm{}},{tag:"reevoo-customer-experience-badge",class:class extends nv{}},{tag:"reevoo-embedded-customer-experience-reviews",class:class extends qm{}},{tag:"reevoo-embedded-product-reviews",class:class extends Wm{}}];window.ReevooLoader=class extends Vm{constructor(e){super(e),this.feefoBadgesOverrides=e.feefo_badges_overrides,this.customElementDefinitions=uv,this.paramsFetcherClass=q}}})()})();